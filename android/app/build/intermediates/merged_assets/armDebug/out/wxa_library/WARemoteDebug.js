(()=>{var t={644:t=>{function e(t,e,n,r,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,o)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var s=t.apply(n,r);function a(t){e(s,o,i,a,u,"next",t)}function u(t){e(s,o,i,a,u,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},7425:t=>{t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},9029:(t,e,n)=>{var r=n(7425);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t},t.exports.__esModule=!0,t.exports.default=t.exports},7557:(t,e,n)=>{"use strict";n.d(e,{A:()=>a,T:()=>r,_:()=>i,a:()=>s});var r,o=n(8741);function i(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}!function(t){t[t.Inspector=0]="Inspector",t[t.RendererInspectee=1]="RendererInspectee",t[t.ServiceInspectee=2]="ServiceInspectee",t[t.AllInspectee=3]="AllInspectee"}(r||(r={}));var a=class{constructor(t=r.AllInspectee){this.callbacks=new Map,this.type=t}get inited(){return this._inited}init(){this.initSubscription(this.handleCDPMessage.bind(this)),this._inited=!0}emit(t){this.send(t)}reply(t,e){this.send({id:t,result:e})}on(t,e){this.callbacks.has(t)||this.callbacks.set(t,[]),this.callbacks.get(t).push(e)}off(t,e){if(this.callbacks.has(t)){var n=this.callbacks.get(t);n=[...n.filter((t=>t!==e))]}}handleCDPMessage(t,e,n){var r,o,i,s,a;((s=this.type)===(a=e)||s&a)&&("id"in t?null===(r=this.callbacks.get("command"))||void 0===r||r.forEach((e=>e(t,n))):null===(o=this.callbacks.get("event"))||void 0===o||o.forEach((e=>e(t,n))),null===(i=this.callbacks.get("all"))||void 0===i||i.forEach((e=>e(t,n))))}};a=i([(0,o.b2)(),s("design:paramtypes",[Number])],a)},3525:(t,e,n)=>{"use strict";n.d(e,{DZ:()=>s});var r=n(7557),o=(n(8726),n(8741)),i={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||t,s),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,o,i,s){var a=n?n+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,o),!0;case 5:return c.fn.call(c.context,e,r,o,i),!0;case 6:return c.fn.call(c.context,e,r,o,i,s),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,o);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==e||o&&!a[u].once||r&&a[u].context!==r)&&l.push(a[u]);l.length?this._events[i]=1===l.length?l[0]:l:s(this,i)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(i),new i.exports.EventEmitter;var s=class extends r.A{constructor(t){super(t),this.eventBus=(()=>{var t=Reflect.get(globalThis,Symbol.for("defaultEventBus"));if(t)return t;var e=new i.exports.EventEmitter;return Reflect.set(globalThis,Symbol.for("defaultEventBus"),e),e})(),this.init()}initSubscription(t){var e=this.type===r.T.Inspector?"inspector":"inspectee";this.eventBus.addListener(e,t)}send(t,e=r.T.Inspector){var n=e===r.T.Inspector?"inspector":"inspectee";this.eventBus.emit(n,t,e,this.type)}};s=(0,r._)([(0,o.b2)(),(0,r.a)("design:paramtypes",[Number])],s)},9336:(t,e,n)=>{"use strict";n.d(e,{Lm:()=>r.T}),n(8726);var r=n(7557);n(8741)},7339:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagProperty=e.tagParameter=e.decorate=void 0;var r=n(9658),o=n(2032);function i(t,e,n,o,i){var s={},a="number"==typeof i,u=void 0!==i&&a?i.toString():n;if(a&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(s=Reflect.getMetadata(t,e));var l=s[u];if(Array.isArray(l))for(var c=0,h=l;c<h.length;c++){var d=h[c];if(d.key===o.key)throw new Error(r.DUPLICATED_METADATA+" "+d.key.toString())}else l=[];l.push(o),s[u]=l,Reflect.defineMetadata(t,s,e)}function s(t,e){Reflect.decorate(t,e)}function a(t,e){return function(n,r){e(n,r,t)}}e.tagParameter=function(t,e,n,r){i(o.TAGGED,t,e,r,n)},e.tagProperty=function(t,e,n){i(o.TAGGED_PROP,t.constructor,e,n)},e.decorate=function(t,e,n){"number"==typeof n?s([a(n,t)],e):"string"==typeof n?Reflect.decorate([t],e,n):s([t],e)}},612:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inject=e.LazyServiceIdentifer=void 0;var r=n(9658),o=n(2032),i=n(1219),s=n(7339),a=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();e.LazyServiceIdentifer=a,e.inject=function(t){return function(e,n,a){if(void 0===t)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(e.name));var u=new i.Metadata(o.INJECT_TAG,t);"number"==typeof a?s.tagParameter(e,n,a,u):s.tagProperty(e,n,u)}}},2230:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectable=void 0;var r=n(9658),o=n(2032);e.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(o.PARAM_TYPES,t))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(o.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(o.PARAM_TYPES,e,t),t}}},8127:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiInject=void 0;var r=n(2032),o=n(1219),i=n(7339);e.multiInject=function(t){return function(e,n,s){var a=new o.Metadata(r.MULTI_INJECT_TAG,t);"number"==typeof s?i.tagParameter(e,n,s,a):i.tagProperty(e,n,a)}}},113:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.named=void 0;var r=n(2032),o=n(1219),i=n(7339);e.named=function(t){return function(e,n,s){var a=new o.Metadata(r.NAMED_TAG,t);"number"==typeof s?i.tagParameter(e,n,s,a):i.tagProperty(e,n,a)}}},3838:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=void 0;var r=n(2032),o=n(1219),i=n(7339);e.optional=function(){return function(t,e,n){var s=new o.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?i.tagParameter(t,e,n,s):i.tagProperty(t,e,s)}}},5515:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postConstruct=void 0;var r=n(9658),o=n(2032),i=n(1219);e.postConstruct=function(){return function(t,e,n){var s=new i.Metadata(o.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(o.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(o.POST_CONSTRUCT,s,t.constructor)}}},9290:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagged=void 0;var r=n(1219),o=n(7339);e.tagged=function(t,e){return function(n,i,s){var a=new r.Metadata(t,e);"number"==typeof s?o.tagParameter(n,i,s,a):o.tagProperty(n,i,a)}}},5404:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.targetName=void 0;var r=n(2032),o=n(1219),i=n(7339);e.targetName=function(t){return function(e,n,s){var a=new o.Metadata(r.NAME_TAG,t);i.tagParameter(e,n,s,a)}}},6490:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unmanaged=void 0;var r=n(2032),o=n(1219),i=n(7339);e.unmanaged=function(){return function(t,e,n){var s=new o.Metadata(r.UNMANAGED_TAG,!0);i.tagParameter(t,e,n,s)}}},4276:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Binding=void 0;var r=n(949),o=n(3241),i=function(){function t(t,e){this.id=o.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===r.BindingScopeEnum.Singleton&&this.activated,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}();e.Binding=i},9190:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingCount=void 0,e.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},9658:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STACK_OVERFLOW=e.CIRCULAR_DEPENDENCY_IN_FACTORY=e.POST_CONSTRUCT_ERROR=e.MULTIPLE_POST_CONSTRUCT_METHODS=e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=e.ARGUMENTS_LENGTH_MISMATCH=e.INVALID_DECORATOR_OPERATION=e.INVALID_TO_SELF_VALUE=e.INVALID_FUNCTION_BINDING=e.INVALID_MIDDLEWARE_RETURN=e.NO_MORE_SNAPSHOTS_AVAILABLE=e.INVALID_BINDING_TYPE=e.NOT_IMPLEMENTED=e.CIRCULAR_DEPENDENCY=e.UNDEFINED_INJECT_ANNOTATION=e.MISSING_INJECT_ANNOTATION=e.MISSING_INJECTABLE_ANNOTATION=e.NOT_REGISTERED=e.CANNOT_UNBIND=e.AMBIGUOUS_MATCH=e.KEY_NOT_FOUND=e.NULL_ARGUMENT=e.DUPLICATED_METADATA=e.DUPLICATED_INJECTABLE_DECORATOR=void 0,e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},949:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TargetTypeEnum=e.BindingTypeEnum=e.BindingScopeEnum=void 0,e.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"},e.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},e.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},2032:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NON_CUSTOM_TAG_KEYS=e.POST_CONSTRUCT=e.DESIGN_PARAM_TYPES=e.PARAM_TYPES=e.TAGGED_PROP=e.TAGGED=e.MULTI_INJECT_TAG=e.INJECT_TAG=e.OPTIONAL_TAG=e.UNMANAGED_TAG=e.NAME_TAG=e.NAMED_TAG=void 0,e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct",e.NON_CUSTOM_TAG_KEYS=[e.INJECT_TAG,e.MULTI_INJECT_TAG,e.NAME_TAG,e.UNMANAGED_TAG,e.NAMED_TAG,e.OPTIONAL_TAG]},3860:(t,e,n)=>{"use strict";var r=globalThis&&globalThis.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=globalThis&&globalThis.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var s=n(4276),a=n(9658),u=n(949),l=n(2032),c=n(7813),h=n(7218),d=n(4324),p=n(8610),f=n(3241),g=n(4781),v=n(394),m=n(7550),y=function(){function t(t){this._appliedMiddleware=[];var e=t||{};if("object"!=typeof e)throw new Error(""+a.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=u.BindingScopeEnum.Transient;else if(e.defaultScope!==u.BindingScopeEnum.Singleton&&e.defaultScope!==u.BindingScopeEnum.Transient&&e.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!=typeof e.autoBindInjectable)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!=typeof e.skipBaseClassChecks)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=f.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return t.merge=function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var s=new t,a=i([e,n],r).map((function(t){return h.getBindingDictionary(t)})),u=h.getBindingDictionary(s);function l(t,e){t.traverse((function(t,n){n.forEach((function(t){e.add(t.serviceIdentifier,t.clone())}))}))}return a.forEach((function(t){l(t,u)})),s},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),r=0,o=t;r<o.length;r++){var i=o[r],s=n(i.id);i.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(this,void 0,void 0,(function(){var e,n,r,i,s;return o(this,(function(o){switch(o.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,r=t,o.label=1;case 1:return n<r.length?(i=r[n],s=e(i.id),[4,i.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(t){return function(e){return e.moduleId===t}};e.forEach((function(e){var n=r(e.id);t._bindingDictionary.removeByCondition(n)}))},t.prototype.bind=function(t){var e=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new s.Binding(t,e);return this._bindingDictionary.add(t,n),new p.BindingToSyntax(n)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(a.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,l.NAMED_TAG,e)},t.prototype.isBoundTagged=function(t,e,n){var r=!1;if(this._bindingDictionary.hasKey(t)){var o=this._bindingDictionary.get(t),i=h.createMockRequest(this,t,e,n);r=o.some((function(t){return t.constraint(i)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(t,e,n)),r},t.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(a.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._appliedMiddleware=this._appliedMiddleware.concat(t);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce((function(t,e){return e(t)}),n)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,u.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,e,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,t,e,n)},t.prototype.getNamed=function(t,e){return this.getTagged(t,l.NAMED_TAG,e)},t.prototype.getAll=function(t){return this._get(!0,!0,u.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,t,e,n)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,l.NAMED_TAG,e)},t.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),this._appliedMiddleware.forEach((function(t){e.applyMiddleware(t)})),e.get(t)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e},n=function(n){return function(r){var o=t.rebind.bind(t)(r);return e(o,n),o}};return function(r){return{bindFunction:(o=r,function(n){var r=t.bind.bind(t)(n);return e(r,o),r}),isboundFunction:function(e){return t.isBound.bind(t)(e)},rebindFunction:n(r),unbindFunction:function(e){t.unbind.bind(t)(e)}};var o}},t.prototype._get=function(t,e,n,r,o,i){var s=null,u={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:o,serviceIdentifier:r,targetType:n,value:i};if(this._middleware){if(null==(s=this._middleware(u)))throw new Error(a.INVALID_MIDDLEWARE_RETURN)}else s=this._planAndResolve()(u);return s},t.prototype._planAndResolve=function(){var t=this;return function(e){var n=h.plan(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);return n=e.contextInterceptor(n),d.resolve(n)}},t}();e.Container=y},1454:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncContainerModule=e.ContainerModule=void 0;var r=n(3241);e.ContainerModule=function(t){this.id=r.id(),this.registry=t};e.AsyncContainerModule=function(t){this.id=r.id(),this.registry=t}},394:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerSnapshot=void 0;var n=function(){function t(){}return t.of=function(e,n){var r=new t;return r.bindings=e,r.middleware=n,r},t}();e.ContainerSnapshot=n},7550:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lookup=void 0;var r=n(9658),o=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null==t)throw new Error(r.NULL_ARGUMENT);if(null==e)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},t.prototype.get=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(r.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(r.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var e=this;this._map.forEach((function(n,r){var o=n.filter((function(e){return!t(e)}));o.length>0?e._map.set(r,o):e._map.delete(r)}))},t.prototype.hasKey=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach((function(t,n){t.forEach((function(t){return e.add(n,t.clone())}))})),e},t.prototype.traverse=function(t){this._map.forEach((function(e,n){t(n,e)}))},t}();e.Lookup=o},8741:(t,e,n)=>{"use strict";e.jt=e.f3=e.t6=e.b2=e.W2=void 0,n(2032);var r=n(3860);Object.defineProperty(e,"W2",{enumerable:!0,get:function(){return r.Container}});n(949),n(1454);var o=n(2230);Object.defineProperty(e,"b2",{enumerable:!0,get:function(){return o.injectable}});n(9290);var i=n(113);Object.defineProperty(e,"t6",{enumerable:!0,get:function(){return i.named}});var s=n(612);Object.defineProperty(e,"f3",{enumerable:!0,get:function(){return s.inject}});var a=n(3838);Object.defineProperty(e,"jt",{enumerable:!0,get:function(){return a.optional}});n(6490),n(8127),n(5404),n(5515),n(7813),n(3241),n(7339),n(4221),n(4781),n(7079)},1782:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;var r=n(3241),o=function(){function t(t){this.id=r.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=o},1219:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(2032),o=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=o},7813:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataReader=void 0;var r=n(2032),o=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(r.TAGGED_PROP,t)||[]},t}();e.MetadataReader=o},6535:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plan=void 0;e.Plan=function(t,e){this.parentContext=t,this.rootRequest=e}},7218:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBindingDictionary=e.createMockRequest=e.plan=void 0;var r=n(9190),o=n(9658),i=n(949),s=n(2032),a=n(408),u=n(4781),l=n(1782),c=n(1219),h=n(6535),d=n(4546),p=n(9407),f=n(5169);function g(t){return t._bindingDictionary}function v(t,e,n,i,s){var a,l=y(n.container,s.serviceIdentifier);return l.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof s.serviceIdentifier&&t.getConstructorMetadata(s.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(s.serviceIdentifier).toSelf(),l=y(n.container,s.serviceIdentifier)),a=e?l:l.filter((function(t){var e=new p.Request(t.serviceIdentifier,n,i,t,s);return t.constraint(e)})),function(t,e,n,i){switch(e.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var s=u.getServiceIdentifierAsString(t),a=o.NOT_REGISTERED;throw a+=u.listMetadataForTarget(s,n),a+=u.listRegisteredBindingsForServiceIdentifier(i,s,y),new Error(a);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return e;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;throw s=u.getServiceIdentifierAsString(t),a=o.AMBIGUOUS_MATCH+" "+s,a+=u.listRegisteredBindingsForServiceIdentifier(i,s,y),new Error(a)}}(s.serviceIdentifier,a,s,n.container),a}function m(t,e,n,r,s,a){var u,l;if(null===s){u=v(t,e,r,null,a),l=new p.Request(n,r,null,u,a);var c=new h.Plan(r,l);r.addPlan(c)}else u=v(t,e,r,s,a),l=s.addChildRequest(a.serviceIdentifier,u,a);u.forEach((function(e){var n=null;if(a.isArray())n=l.addChildRequest(e.serviceIdentifier,e,a);else{if(e.cache)return;n=l}if(e.type===i.BindingTypeEnum.Instance&&null!==e.implementationType){var s=d.getDependencies(t,e.implementationType);if(!r.container.options.skipBaseClassChecks){var u=d.getBaseClassDependencyCount(t,e.implementationType);if(s.length<u){var c=o.ARGUMENTS_LENGTH_MISMATCH(d.getFunctionName(e.implementationType));throw new Error(c)}}s.forEach((function(e){m(t,!1,e.serviceIdentifier,r,n,e)}))}}))}function y(t,e){var n=[],r=g(t);return r.hasKey(e)?n=r.get(e):null!==t.parent&&(n=y(t.parent,e)),n}e.getBindingDictionary=g,e.plan=function(t,e,n,r,o,i,h,d){void 0===d&&(d=!1);var p=new l.Context(e),g=function(t,e,n,r,o,i){var a=t?s.MULTI_INJECT_TAG:s.INJECT_TAG,u=new c.Metadata(a,n),l=new f.Target(e,"",n,u);if(void 0!==o){var h=new c.Metadata(o,i);l.metadata.push(h)}return l}(n,r,o,0,i,h);try{return m(t,d,o,p,null,g),p}catch(t){throw a.isStackOverflowExeption(t)&&p.plan&&u.circularDependencyToException(p.plan.rootRequest),t}},e.createMockRequest=function(t,e,n,r){var o=new f.Target(i.TargetTypeEnum.Variable,"",e,new c.Metadata(n,r)),s=new l.Context(t);return new p.Request(e,s,null,[],o)}},8290:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryableString=void 0;var n=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e,n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=n},4546:(t,e,n)=>{"use strict";var r=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.getFunctionName=e.getBaseClassDependencyCount=e.getDependencies=void 0;var o=n(612),i=n(9658),s=n(949),a=n(2032),u=n(4781);Object.defineProperty(e,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var l=n(5169);function c(t,e,n,o){var s=t.getConstructorMetadata(n),a=s.compilerGeneratedMetadata;if(void 0===a){var u=i.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(u)}var l=s.userGeneratedMetadata,c=Object.keys(l),p=0===n.length&&c.length>0,f=c.length>n.length,g=function(t,e,n,r,o){for(var i=[],s=0;s<o;s++){var a=h(s,t,e,n,r);null!==a&&i.push(a)}return i}(o,e,a,l,p||f?c.length:n.length),v=d(t,n);return r(r([],g),v)}function h(t,e,n,r,a){var u=a[t.toString()]||[],c=p(u),h=!0!==c.unmanaged,d=r[t];if((d=c.inject||c.multiInject||d)instanceof o.LazyServiceIdentifer&&(d=d.unwrap()),h){if(!e&&(d===Object||d===Function||void 0===d)){var f=i.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(f)}var g=new l.Target(s.TargetTypeEnum.ConstructorArgument,c.targetName,d);return g.metadata=u,g}return null}function d(t,e){for(var n=t.getPropertiesMetadata(e),o=[],i=0,a=Object.keys(n);i<a.length;i++){var u=a[i],c=n[u],h=p(n[u]),f=h.targetName||u,g=h.inject||h.multiInject,v=new l.Target(s.TargetTypeEnum.ClassProperty,f,g);v.metadata=c,o.push(v)}var m=Object.getPrototypeOf(e.prototype).constructor;if(m!==Object){var y=d(t,m);o=r(r([],o),y)}return o}function p(t){var e={};return t.forEach((function(t){e[t.key.toString()]=t.value})),{inject:e[a.INJECT_TAG],multiInject:e[a.MULTI_INJECT_TAG],targetName:e[a.NAME_TAG],unmanaged:e[a.UNMANAGED_TAG]}}e.getDependencies=function(t,e){return c(t,u.getFunctionName(e),e,!1)},e.getBaseClassDependencyCount=function t(e,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var o=c(e,u.getFunctionName(r),r,!0),i=o.map((function(t){return t.metadata.filter((function(t){return t.key===a.UNMANAGED_TAG}))})),s=[].concat.apply([],i).length,l=o.length-s;return l>0?l:t(e,r)}return 0}},9407:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Request=void 0;var r=n(3241),o=function(){function t(t,e,n,o,i){this.id=r.id(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=i,this.childRequests=[],this.bindings=Array.isArray(o)?o:[o],this.requestScope=null===n?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var o=new t(e,this.parentContext,this,n,r);return this.childRequests.push(o),o},t}();e.Request=o},5169:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Target=void 0;var r=n(2032),o=n(3241),i=n(1219),s=n(8290),a=function(){function t(t,e,n,a){this.id=o.id(),this.type=t,this.serviceIdentifier=n,this.name=new s.QueryableString(e||""),this.metadata=new Array;var u=null;"string"==typeof a?u=new i.Metadata(r.NAMED_TAG,a):a instanceof i.Metadata&&(u=a),null!==u&&this.metadata.push(u)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++)if(n[e].key===t)return!0;return!1},t.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(r.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(e){return t.key!==e}))}))},t.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(t){return t.key===r.NAMED_TAG}))[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(e){return t.key!==e}))})):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(r.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(n){for(var r=0,o=e.metadata;r<o.length;r++){var i=o[r];if(i.key===t&&i.value===n)return!0}return!1}},t}();e.Target=a},4877:(t,e,n)=>{"use strict";var r=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveInstance=void 0;var o=n(9658),i=n(949),s=n(2032);e.resolveInstance=function(t,e,n){var a,u,l=null;if(e.length>0){var c=e.filter((function(t){return null!==t.target&&t.target.type===i.TargetTypeEnum.ConstructorArgument})).map(n);u=c,l=function(t,e,n){var r=e.filter((function(t){return null!==t.target&&t.target.type===i.TargetTypeEnum.ClassProperty})),o=r.map(n);return r.forEach((function(e,n){var r;r=e.target.name.value();var i=o[n];t[r]=i})),t}(l=new((a=t).bind.apply(a,r([void 0],u))),e,n)}else l=new t;return function(t,e){if(Reflect.hasMetadata(s.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(s.POST_CONSTRUCT,t);try{e[n.value]()}catch(e){throw new Error(o.POST_CONSTRUCT_ERROR(t.name,e.message))}}}(t,l),l}},4324:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolve=void 0;var r=n(9658),o=n(949),i=n(408),s=n(4781),a=n(4877),u=function(t,e,n){try{return n()}catch(n){throw i.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):n}},l=function(t){return function(e){e.parentContext.setCurrentRequest(e);var n=e.bindings,i=e.childRequests,c=e.target&&e.target.isArray(),h=!(e.parentRequest&&e.parentRequest.target&&e.target&&e.parentRequest.target.matchesArray(e.target.serviceIdentifier));if(c&&h)return i.map((function(e){return l(t)(e)}));var d=null;if(!e.target.isOptional()||0!==n.length){var p=n[0],f=p.scope===o.BindingScopeEnum.Singleton,g=p.scope===o.BindingScopeEnum.Request;if(f&&p.activated)return p.cache;if(g&&null!==t&&t.has(p.id))return t.get(p.id);if(p.type===o.BindingTypeEnum.ConstantValue)d=p.cache,p.activated=!0;else if(p.type===o.BindingTypeEnum.Function)d=p.cache,p.activated=!0;else if(p.type===o.BindingTypeEnum.Constructor)d=p.implementationType;else if(p.type===o.BindingTypeEnum.DynamicValue&&null!==p.dynamicValue)d=u("toDynamicValue",p.serviceIdentifier,(function(){return p.dynamicValue(e.parentContext)}));else if(p.type===o.BindingTypeEnum.Factory&&null!==p.factory)d=u("toFactory",p.serviceIdentifier,(function(){return p.factory(e.parentContext)}));else if(p.type===o.BindingTypeEnum.Provider&&null!==p.provider)d=u("toProvider",p.serviceIdentifier,(function(){return p.provider(e.parentContext)}));else{if(p.type!==o.BindingTypeEnum.Instance||null===p.implementationType){var v=s.getServiceIdentifierAsString(e.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}d=a.resolveInstance(p.implementationType,i,l(t))}return"function"==typeof p.onActivation&&(d=p.onActivation(e.parentContext,d)),f&&(p.cache=d,p.activated=!0),g&&null!==t&&!t.has(p.id)&&t.set(p.id,d),d}}};e.resolve=function(t){return l(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},8111:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInSyntax=void 0;var r=n(949),o=n(5981),i=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new o.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new o.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=i},1706:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInWhenOnSyntax=void 0;var r=n(8111),o=n(1594),i=n(4662),s=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new o.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=s},1594:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingOnSyntax=void 0;var r=n(4662),o=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new r.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=o},8610:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingToSyntax=void 0;var r=n(9658),o=n(949),i=n(1706),s=n(5981),a=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=o.BindingTypeEnum.Instance,this._binding.implementationType=t,new i.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=o.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=o.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=o.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new i.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=o.BindingTypeEnum.Constructor,this._binding.implementationType=t,this._binding.scope=o.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=t,this._binding.scope=o.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(r.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=o.BindingTypeEnum.Function,this._binding.scope=o.BindingScopeEnum.Singleton,e},t.prototype.toAutoFactory=function(t){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=function(e){return function(){return e.container.get(t)}},this._binding.scope=o.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=o.BindingTypeEnum.Provider,this._binding.provider=t,this._binding.scope=o.BindingScopeEnum.Singleton,new s.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue((function(e){return e.container.get(t)}))},t}();e.BindingToSyntax=a},5981:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenOnSyntax=void 0;var r=n(1594),o=n(4662),i=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=i},4662:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenSyntax=void 0;var r=n(1594),o=n(4221),i=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=o.namedConstraint(t),new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=o.taggedConstraint(t)(e),new r.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return o.typeConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return o.namedConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return o.taggedConstraint(t)(e)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return o.traverseAncerstors(e,o.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!o.traverseAncerstors(e,o.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return o.traverseAncerstors(e,o.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!o.traverseAncerstors(e,o.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return o.traverseAncerstors(n,o.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return!o.traverseAncerstors(n,o.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return o.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!o.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=i},4221:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeConstraint=e.namedConstraint=e.taggedConstraint=e.traverseAncerstors=void 0;var r=n(2032),o=n(1219),i=function(t,e){var n=t.parentRequest;return null!==n&&(!!e(n)||i(n,e))};e.traverseAncerstors=i;var s=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new o.Metadata(t,e),n}};e.taggedConstraint=s;var a=s(r.NAMED_TAG);e.namedConstraint=a,e.typeConstraint=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"==typeof t)return n.serviceIdentifier===t;var r=e.bindings[0].implementationType;return t===r}return!1}}},7079:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=void 0,e.multiBindToService=function(t){return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return t.bind(n).toService(e)}))}}}},408:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStackOverflowExeption=void 0;var r=n(9658);e.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===r.STACK_OVERFLOW}},3241:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.id=void 0;var n=0;e.id=function(){return n++}},4781:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circularDependencyToException=e.listMetadataForTarget=e.listRegisteredBindingsForServiceIdentifier=e.getServiceIdentifierAsString=e.getFunctionName=void 0;var r=n(9658);function o(t){return"function"==typeof t?t.name:"symbol"==typeof t?t.toString():t}function i(t,e){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===e||i(t.parentRequest,e))}function s(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}e.getServiceIdentifierAsString=o,e.listRegisteredBindingsForServiceIdentifier=function(t,e,n){var r="",o=n(t,e);return 0!==o.length&&(r="\nRegistered bindings:",o.forEach((function(t){var e="Object";null!==t.implementationType&&(e=s(t.implementationType)),r=r+"\n "+e,t.constraint.metaData&&(r=r+" - "+t.constraint.metaData)}))),r},e.circularDependencyToException=function t(e){e.childRequests.forEach((function(e){if(i(e,e.serviceIdentifier)){var n=function(t){return function t(e,n){void 0===n&&(n=[]);var r=o(e.serviceIdentifier);return n.push(r),null!==e.parentRequest?t(e.parentRequest,n):n}(t).reverse().join(" --\x3e ")}(e);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}t(e)}))},e.listMetadataForTarget=function(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),o=e.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==o&&o.forEach((function(t){n+=t.toString()+"\n"}))," "+t+"\n "+t+" - "+n}return" "+t},e.getFunctionName=s},8726:(t,e,n)=>{var r;!function(t){!function(e){var r="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(t);function i(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===r.Reflect?r.Reflect=t:o=i(r.Reflect,o),function(t){var e=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",i="function"==typeof Object.create,s={__proto__:[]}instanceof Array,a=!i&&!s,u={create:i?function(){return B(Object.create(null))}:s?function(){return B({__proto__:null})}:function(){return B({})},has:a?function(t,n){return e.call(t,n)}:function(t,e){return e in t},get:a?function(t,n){return e.call(t,n)?t[n]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),c="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,h=c||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,i)},e.prototype.entries=function(){return new n(this._keys,this._values,s)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function i(t,e){return e}function s(t,e){return[t,e]}}():Map,d=c||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new h}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}():Set,p=new(c||"function"!=typeof WeakMap?function(){var t=u.create(),n=r();return function(){function t(){this._key=r()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&u.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?u.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=r()},t}();function r(){var e;do{e="@@WeakMap@@"+s()}while(u.has(t,e));return t[e]=!0,e}function o(t,r){if(!e.call(t,n)){if(!r)return;Object.defineProperty(t,n,{value:u.create()})}return t[n]}function i(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(){var t=function(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):i(new Uint8Array(t),t):i(new Array(t),t)}(16);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var e="",n=0;n<16;++n){var r=t[n];4!==n&&6!==n&&8!==n||(e+="-"),r<16&&(e+="0"),e+=r.toString(16).toLowerCase()}return e}}():WeakMap);function f(t,e,n){var r=p.get(t);if(E(r)){if(!n)return;r=new h,p.set(t,r)}var o=r.get(e);if(E(o)){if(!n)return;o=new h,r.set(e,o)}return o}function g(t,e,n){if(v(t,e,n))return!0;var r=k(e);return!T(r)&&g(t,r,n)}function v(t,e,n){var r=f(e,n,!1);return!E(r)&&function(t){return!!t}(r.has(t))}function m(t,e,n){if(v(t,e,n))return y(t,e,n);var r=k(e);return T(r)?void 0:m(t,r,n)}function y(t,e,n){var r=f(e,n,!1);if(!E(r))return r.get(t)}function b(t,e,n,r){f(n,r,!0).set(t,e)}function w(t,e){var n=x(t,e),r=k(t);if(null===r)return n;var o=w(r,e);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new d,s=[],a=0,u=n;a<u.length;a++){var l=u[a];i.has(l)||(i.add(l),s.push(l))}for(var c=0,h=o;c<h.length;c++)l=h[c],i.has(l)||(i.add(l),s.push(l));return s}function x(t,e){var n=[],r=f(t,e,!1);if(E(r))return n;for(var o=R(r.keys()),i=0;;){var s=D(o);if(!s)return n.length=i,n;var a=P(s);try{n[i]=a}catch(t){try{L(o)}finally{throw t}}i++}}function _(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function E(t){return void 0===t}function T(t){return null===t}function N(t){return"object"==typeof t?null!==t:"function"==typeof t}function A(t,e){switch(_(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",o=M(t,r);if(void 0!==o){var i=o.call(t,n);if(N(i))throw new TypeError;return i}return function(t,e){if("string"===e){var n=t.toString;if(C(n)&&!N(o=n.call(t)))return o;if(C(r=t.valueOf)&&!N(o=r.call(t)))return o}else{var r;if(C(r=t.valueOf)&&!N(o=r.call(t)))return o;var o,i=t.toString;if(C(i)&&!N(o=i.call(t)))return o}throw new TypeError}(t,"default"===n?"number":n)}function S(t){var e=A(t,3);return function(t){return"symbol"==typeof t}(e)?e:function(t){return""+t}(e)}function I(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function C(t){return"function"==typeof t}function O(t){return"function"==typeof t}function M(t,e){var n=t[e];if(null!=n){if(!C(n))throw new TypeError;return n}}function R(t){var e=M(t,o);if(!C(e))throw new TypeError;var n=e.call(t);if(!N(n))throw new TypeError;return n}function P(t){return t.value}function D(t){var e=t.next();return!e.done&&e}function L(t){var e=t.return;e&&e.call(t)}function k(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===l)return e;if(e!==l)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var o=r.constructor;return"function"!=typeof o||o===t?e:o}function B(t){return t.__=void 0,delete t.__,t}t("decorate",(function(t,e,n,r){if(E(n)){if(!I(t))throw new TypeError;if(!O(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!E(r)&&!T(r)){if(!O(r))throw new TypeError;e=r}}return e}(t,e)}if(!I(t))throw new TypeError;if(!N(e))throw new TypeError;if(!N(r)&&!E(r)&&!T(r))throw new TypeError;return T(r)&&(r=void 0),function(t,e,n,r){for(var o=t.length-1;o>=0;--o){var i=(0,t[o])(e,n,r);if(!E(i)&&!T(i)){if(!N(i))throw new TypeError;r=i}}return r}(t,e,n=S(n),r)})),t("metadata",(function(t,e){return function(n,r){if(!N(n))throw new TypeError;if(!E(r)&&!function(t){switch(_(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;b(t,e,n,r)}})),t("defineMetadata",(function(t,e,n,r){if(!N(n))throw new TypeError;return E(r)||(r=S(r)),b(t,e,n,r)})),t("hasMetadata",(function(t,e,n){if(!N(e))throw new TypeError;return E(n)||(n=S(n)),g(t,e,n)})),t("hasOwnMetadata",(function(t,e,n){if(!N(e))throw new TypeError;return E(n)||(n=S(n)),v(t,e,n)})),t("getMetadata",(function(t,e,n){if(!N(e))throw new TypeError;return E(n)||(n=S(n)),m(t,e,n)})),t("getOwnMetadata",(function(t,e,n){if(!N(e))throw new TypeError;return E(n)||(n=S(n)),y(t,e,n)})),t("getMetadataKeys",(function(t,e){if(!N(t))throw new TypeError;return E(e)||(e=S(e)),w(t,e)})),t("getOwnMetadataKeys",(function(t,e){if(!N(t))throw new TypeError;return E(e)||(e=S(e)),x(t,e)})),t("deleteMetadata",(function(t,e,n){if(!N(e))throw new TypeError;E(n)||(n=S(n));var r=f(e,n,!1);if(E(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var o=p.get(e);return o.delete(n),o.size>0||p.delete(e),!0}))}(o)}()}(r||(r={}))},2742:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Inspectee:()=>Fr}),n(8726);var r=n(9029),o=n.n(r),i=n(8741);function s(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function a(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}var c,h="Adapter",d="Bridge",p="Inspectee",f="VirtualTreeProps",g="Container";!function(t){t[t.Inspector=0]="Inspector",t[t.RendererInspectee=1]="RendererInspectee",t[t.ServiceInspectee=2]="ServiceInspectee",t[t.AllInspectee=3]="AllInspectee"}(c||(c={}));var v=class{constructor(t=c.AllInspectee){this.callbacks=new Map,this.type=t}get inited(){return this._inited}init(){this.initSubscription(this.handleCDPMessage.bind(this)),this._inited=!0}emit(t){this.send(t)}reply(t,e){this.send({id:t,result:e})}on(t,e){this.callbacks.has(t)||this.callbacks.set(t,[]),this.callbacks.get(t).push(e)}off(t,e){if(this.callbacks.has(t)){var n=this.callbacks.get(t);n=[...n.filter((t=>t!==e))]}}handleCDPMessage(t,e,n){var r,o,i,s,a;((s=this.type)===(a=e)||s&a)&&("id"in t?null===(r=this.callbacks.get("command"))||void 0===r||r.forEach((e=>e(t,n))):null===(o=this.callbacks.get("event"))||void 0===o||o.forEach((e=>e(t,n))),null===(i=this.callbacks.get("all"))||void 0===i||i.forEach((e=>e(t,n))))}};v=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([(0,i.b2)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[Number])],v);var m=t=>!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then,y=new WeakMap,b=new Map,w=(t,e={})=>{var n,r,o={},i=typeof t,s="";try{s=null===(n=null==t?void 0:t.toString)||void 0===n?void 0:n.call(t)}catch(t){s={}.toString()}if("object"===i||"function"===i||"symbol"===i){if(y.has(t))o.objectId=y.get(t);else{o.objectId="testid";try{t&&t instanceof Object&&y.set(t,o.objectId)}catch(e){console.error("objectToRemoteIdMap fail",e,t)}b.set(o.objectId,t)}if("object"===i){var a,u=null===(r=null==t?void 0:t.constructor)||void 0===r?void 0:r.name;if(u&&(o.className=u),Array.isArray(t)?a="array":null===t?a="null":t instanceof RegExp?a="regexp":t instanceof Date?a="date":t instanceof Map?a="map":t instanceof Set?a="set":t instanceof WeakMap?a="weakmap":t instanceof WeakSet?a="weakset":t instanceof Error?a="error":m(t)?a="promise":function(t){try{return[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].some((e=>t instanceof e))}catch(t){return!1}}(t)?a="typedarray":t instanceof ArrayBuffer?a="arraybuffer":t instanceof DataView?a="dataview":globalThis.WebAssembly&&t instanceof globalThis.WebAssembly.Memory&&(a="webassemblymemory"),a&&(o.subtype=a),e.generatePreview){var l={type:i,description:s,properties:Object.keys(t).flatMap((e=>t===globalThis&&"BabelRuntimeHelpers"===e?[]:Object.assign({name:e},w(t[e],{generatePreview:!1})))),overflow:!0};a&&(l.subtype=a),"map"===a?l.entries=[...t].map((([t,e])=>({key:t,value:w(e,{generatePreview:!1})}))):"set"===a&&(l.entries=[...t].map((t=>({value:w(t,{generatePreview:!1})})))),o.preview=l}}}else o.value=t;return Object.assign({type:i,description:s},o)},x=t=>b.get(t),_=t=>{var e=w(t);if(t instanceof Error){var{name:n,message:r}=t;return{text:n,exception:e}}return{text:"Unknown Error",exception:e}},E=Symbol("eval"),T=class{constructor(t=globalThis.eval){this.enabled=!1,this.eval=t,this._hookedConsole=function({beforeInvoke:t,afterInvoke:e,console:n=globalThis.console}){return new Proxy(n,{get(n,r,o){var i=Reflect.get(n,r);return"function"==typeof i&&"debug"!==r?function(...o){null==t||t({method:r,args:o,originConsole:n});var s=Reflect.apply(i,n,o);return null==e||e({method:r,args:o,ret:s,originConsole:n}),s}:i},getPrototypeOf:t=>null})}({beforeInvoke:({method:t,args:e,originConsole:n})=>{this.bridge.emit({method:"Runtime.consoleAPICalled",params:{type:t,args:e.map((t=>w(t,{generatePreview:!0}))),executionContextId:0,timestamp:Date.now()}})}})}get hookedConsole(){return this._hookedConsole}hookConsole(){var t;null!==(t=Reflect.get(console,Symbol.for("hooked")))&&void 0!==t&&t||(console=this._hookedConsole),Reflect.set(console,Symbol.for("hooked"),!0)}awaitPromise(t){return l(this,void 0,void 0,(function*(){var{promiseObjectId:e}=t,n=x(e);if(m(n))try{return{result:w(yield n)}}catch(t){return{exceptionDetails:_(t),result:w(t)}}var r="no such promise";return{exceptionDetails:_(r),result:w(r)}}))}callFunctionOn(t){throw new Error("Method not implemented.")}compileScript(t){throw new Error("Method not implemented.")}disable(){return l(this,void 0,void 0,(function*(){this.enabled=!1}))}discardConsoleEntries(){throw new Error("Method not implemented.")}enable(){return l(this,void 0,void 0,(function*(){this.enabled=!0}))}evaluate(t){return l(this,void 0,void 0,(function*(){var{expression:e,awaitPromise:n,returnByValue:r,generatePreview:o=!0}=t;try{var i=this.eval.call(globalThis,e);return n&&m(i)&&(i=yield i),{result:w(i,{returnByValue:r,generatePreview:o})}}catch(t){return{exceptionDetails:_(t),result:w(t)}}}))}getIsolateId(){throw new Error("Method not implemented.")}getHeapUsage(){throw new Error("Method not implemented.")}getProperties(t){return l(this,void 0,void 0,(function*(){var{objectId:e,ownProperties:n=!0,accessorPropertiesOnly:r=!1}=t,o=x(e),i=[];if(!o)return{result:i};if(i=Object.keys(o).map((t=>Object.assign(Reflect.getOwnPropertyDescriptor(o,t),{name:t,isOwn:!!Reflect.getOwnPropertyDescriptor(o,t)}))),o instanceof Map){var s=[...o];i.push({name:"[[Entries]]",value:s.length?s.map((([t,e])=>({key:t,value:e}))):"no entry"}),s.length&&i.push({name:"size",value:o.size})}if(o instanceof Set){var a=[...o];i.push({name:"[[Entries]]",value:a.length?a:"no entry"}),a.length&&i.push({name:"size",value:o.size})}return i=i.flatMap((t=>{if(o===globalThis&&"BabelRuntimeHelpers"===t.name)return[];var{get:e,set:n,value:r}=t;return r&&(t["symbol"===r?"symbol":"value"]=w(r)),e&&(t.get=w(e)),n&&(t.set=w(n)),t})),r&&(i=i.filter((t=>t.get||t.set))),{result:i}}))}globalLexicalScopeNames(t){throw new Error("Method not implemented.")}queryObjects(t){throw new Error("Method not implemented.")}releaseObject(t){return l(this,void 0,void 0,(function*(){var e;e=t.objectId,b.get(e)&&b.delete(e)}))}releaseObjectGroup(t){throw new Error("Method not implemented.")}runIfWaitingForDebugger(){throw new Error("Method not implemented.")}runScript(t){throw new Error("Method not implemented.")}setAsyncCallStackDepth(t){throw new Error("Method not implemented.")}setCustomObjectFormatterEnabled(t){throw new Error("Method not implemented.")}setMaxCallStackSizeToCapture(t){throw new Error("Method not implemented.")}terminateExecution(){throw new Error("Method not implemented.")}addBinding(t){throw new Error("Method not implemented.")}removeBinding(t){throw new Error("Method not implemented.")}on(t,e){throw new Error("Method not implemented.")}};s([(0,i.f3)(d),u("design:type",v)],T.prototype,"bridge",void 0),T=s([(0,i.b2)(),a(0,(0,i.f3)(E)),a(0,(0,i.jt)()),u("design:paramtypes",[Object])],T);class N{constructor(t=0){this._id=t}get id(){return this._id++}reset(){this._id=0}}var A=new i.W2;function S(t="Default"){return(e,n,r)=>{(0,i.f3)(h)(e,n,r),(0,i.t6)(t)(e,n,r)}}var I=(t,e)=>t.bind(f).toConstantValue(e),C=(t,e)=>t.bind(d).toConstantValue(e),O=(t,e,n="Default")=>{var r=t.bind(h).to(e).inSingletonScope().whenTargetNamed(n);return"Default"===n&&r.onActivation(((t,e)=>new Proxy(e,{get:(t,e)=>"enabled"===e||(()=>l(void 0,void 0,void 0,(function*(){return{message:"N/A",domain:n}})))}))),r},M=(t,e)=>t.getNamed(h,e),R=(t,e)=>e.bind(null,t),P=class{constructor(){this.tempId=new N}get enabled(){var t,e;return null!==(e=null===(t=this.RuntimeAdapter)||void 0===t?void 0:t.enabled)&&void 0!==e&&e}saveToConsole({objectId:t="",value:e}){return l(this,void 0,void 0,(function*(){var n=null!=e?e:x(t);if(n){for(var r=`temp${this.tempId.id}`;Reflect.has(globalThis,r);)r=`temp${this.tempId.id}`;return Reflect.set(globalThis,r,n),r}}))}disable(){var t;return l(this,void 0,void 0,(function*(){null===(t=this.RuntimeAdapter)||void 0===t||t.disable()}))}enable(){var t;return l(this,void 0,void 0,(function*(){null===(t=this.RuntimeAdapter)||void 0===t||t.enable()}))}};s([S("Runtime"),(0,i.jt)(),u("design:type",T)],P.prototype,"RuntimeAdapter",void 0),P=s([(0,i.b2)()],P);class D extends Map{constructor(){super(...arguments),this.revMap=new Map}set(t,e){return super.set(t,e),this.revMap.set(e,t),this}delete(t){var e=super.get(t),n=super.delete(t),r=this.revMap.delete(e);return n&&r}getRev(t){return this.revMap.get(t)}hasRev(t){return this.revMap.has(t)}}var L=class{constructor(){this.enabled=!0}};function k(t,e=1e3,n){var r;return function(...o){if(r&&clearTimeout(r),n){if(!r)return t.apply(null,o);r=setTimeout((()=>r=null),e)}else r=setTimeout((()=>t.apply(null,o)),e)}}function B(t){return function(...e){return new Promise((function(n,r){e.push((t=>{n(t)})),t(...e)}))}}L=s([(0,i.b2)()],L);var F=null,j=["position","top","left","right","bottom","width","height","margin-right","margin-left","margin-top","margin-bottom","padding-left","padding-right","padding-top","padding-bottom","border-left-width","border-right-width","border-top-width","border-bottom-width"],U=new class{get isSkyline(){return!!(null===window||void 0===window?void 0:window.__skylineEngine__)}getBoundingClientRect(t){return l(this,void 0,void 0,(function*(){var e;try{if(this.isSkyline){var n=B(t.getBoundingClientRect.bind(t));e=yield n()}else e=t.getBoundingClientRect()}catch(t){console.log("getComputedStyle: error",t)}return e}))}formatComputedStyle(t){var e={};return j.forEach((n=>{var r=function(t,e="_"){return t.replace(new RegExp(`\\${e}(\\w)`,"g"),(function(t,e){return e.toUpperCase()}))}(n,"-"),o=t[n]||t[r];"number"==typeof o&&(o=`${o}px`),e[n]=o})),e}getComputedStyle(t){return l(this,void 0,void 0,(function*(){var e={};try{if(this.isSkyline){var n=M(A,"DOM"),r=yield n.tree.getPageContext(),o=B(r.getComputedStyle.bind(r));e=yield o(t),e=this.formatComputedStyle(e)}else e=window.getComputedStyle(t)}catch(t){console.error("getComputedStyle: error",t)}return e}))}getWindowInfo(){return l(this,void 0,void 0,(function*(){if(this.isSkyline){var t=M(A,"DOM"),e=yield t.tree.getPageContext(),{clientHeight:n,clientWidth:r,scrollLeft:o=0,scrollTop:i=0}=e;return{innerHeight:n,innerWidth:r,scrollTop:i,scrollLeft:o}}return{innerHeight:window.innerHeight,innerWidth:window.innerWidth,scrollTop:window.scrollY,scrollLeft:window.screenX}}))}getAttribute(t,e){var n,r,o;return"id"===e?(null===(n=t.$$)||void 0===n?void 0:n.id)||"":"classList"===e?(null===(r=t.$$)||void 0===r?void 0:r.classList)||[]:null===(o=t.$$)||void 0===o?void 0:o.getAttribute(e)}appendChild(t,e,n=!0){t.appendChild(e),n&&this.startRender()}getStyle(t){return this.isSkyline?((null==t?void 0:t.__styleSegments)||[]).join(""):t.$$.getAttribute("style")}parseStyle2Map(t=""){var e=t.split(";"),n={};return e.length&&e.forEach((t=>{var e=t.split(":");2===e.length&&(n[e[0]]=e[1])})),n}updateStyle(t,e,n=!0){var r=this.getStyle(t),o=this.parseStyle2Map(r),i=this.parseStyle2Map(e),s=Object.assign(Object.assign({},o),i),a="";for(var u in s)a+=`${u}:${s[u]};`;this.setStyle(t,a,n)}setStyle(t,e,n=!0){t.setNodeStyle(e),n&&this.startRender()}startRender(){return l(this,void 0,void 0,(function*(){this.isSkyline&&(F&&clearTimeout(F),F=setTimeout((()=>l(this,void 0,void 0,(function*(){var t=M(A,"DOM");(yield t.tree.getPageContext()).startRender(),F=null}))),100))}))}};class V{}var W={showInfo:!0,showAccessibilityInfo:!0,showStyles:!0,contentColor:{r:161,g:197,b:232,a:.66},paddingColor:{r:196,g:222,b:184,a:.55},borderColor:{r:255,g:229,b:153,a:.66},marginColor:{r:246,g:178,b:107,a:.5},eventTargetColor:{r:255,g:196,b:196,a:.66},shapeColor:{r:96,g:82,b:177,a:.8},shapeMarginColor:{r:96,g:82,b:127,a:.6}},H='\n  all: unset;\n  pointer-events: none;\n  top: 100%;\n  margin-top: -4px;\n  transform: rotate(45deg) skewX(5deg) skewY(5deg);\n  content: "";\n  position: absolute;\n  z-index: -100;\n  left: 10px;\n  width: 8px;\n  height: 8px;\n  border-radius: 0 0 2px 0;\n  background: #ffffff;\n  bottom: 100%;\n  margin-bottom: -4px;\n',$="__wx_inspectee_highlight__";function G(t,e){var n=t.__wxSlotChildren[0].createNativeNode("wx-inspectee-highlight-element");return n.id=`${$}${e}`,n}function z(t,e){var n=t.__wxSlotChildren[0].createTextNode("wx-text");return n.id=`${$}${e}`,n}function q(t){return t.id&&t.id.startsWith($)}var Y,X=(Y=9e5,()=>Y++),J=function(t){return("0"+parseInt(t,10).toString(16)).slice(-2)},K={};class Q{constructor(t,e){this.domTree=t,this.viewId=X(),this.node=G(this.domTree,this.viewId.toString());var n=K[e];n?(U.appendChild(n,this.node),U.setStyle(this.node,"pointer-events: none;position:absolute;top:0;left:0;width:0;height:0;")):(U.appendChild(this.domTree.__wxSlotChildren[0],this.node),U.setStyle(this.node,"pointer-events: none;position:fixed;top:0;left:0;width:0;height:0;")),K[this.viewId]=this.node}update(t={}){var{position:e={},style:n={}}=t,r="pointer-events: none;";for(var o in e)r+=`${o}:${e[o]}px;`;for(var i in n)r+=`${i}:${n[i]};`;U.setStyle(this.node,r)}hide(){U.setStyle(this.node,"pointer-events: none;position:absolute;top:0;left:0;width:0;height:0;")}destroy(){this.domTree.__wxSlotChildren[0].removeChild(this.node),delete K[this.viewId],this.node=null}}var Z,tt=new class extends V{constructor(){super(),this.resetDOM(),this.resetTips(),this._target=null,this._tasks=[],this._runing=!1}resetTips(){this._tipsInited=!1,this._inspectTipsContainer=null,this._tagContainer=null,this._tagNameTips=null,this._tagNameTipsText=null,this._idTips=null,this._idTipsText=null,this._classTips=null,this._classTipsText=null,this._inspectTipsSep=null,this._sizeTips=null,this._sizeTipsText=null,this._arrowTips=null}initTips(){this._inspectTipsContainer=G(this._domTree,"inspectTag"),this._tagContainer=G(this._domTree,"tagContainer"),this._tagNameTips=G(this._domTree,"tagNameTips"),this._tagNameTipsText=z(this._domTree,"inspectTagText"),this._idTips=G(this._domTree,"idTips"),this._idTipsText=z(this._domTree,"idTipsText"),this._classTips=G(this._domTree,"classTips"),this._classTipsText=z(this._domTree,"classTipsText"),this._inspectTipsSep=G(this._domTree,"inspectTipsSep"),this._sizeTips=G(this._domTree,"sizeTip"),this._sizeTipsText=z(this._domTree,"sizeTipText"),this._arrowTips=G(this._domTree,"arrowTip"),U.setStyle(this._inspectTipsContainer,"\n  all: unset;\n  pointer-events: none;\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  padding: 4px 10px;\n  font-size: 12px;\n  color: #d9d9d9;\n  background-color: #ffffff;\n  z-index: 8000;\n  border-radius: 2px;\n  cursor: default;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 0px 2px;\n  box-sizing: border-box;\n",!1),U.setStyle(this._tagContainer,"\n  all: unset;\n  pointer-events: none;\n  display: flex; \n  flex-direction: \n  row; margin: auto; \n  word-break: break-all; \n  flex-shrink: 2;\n",!1),U.setStyle(this._tagNameTips,"\n  all: unset;\n  pointer-events: none;\n  display:inline-block;\n  color:#df80e1;\n",!1),U.setStyle(this._idTips,"\n  all: unset;\n  pointer-events: none;\n  display:inline-block;\n  color: #f3ae71;\n",!1),U.setStyle(this._classTips,"\n  all: unset;\n  pointer-events: none;\n  display:inline-block;\n  color: #98cbef;\n",!1),U.setStyle(this._inspectTipsSep,"\n  all: unset;\n  pointer-events: none;\n  display: inline-block;\n  align-self: center;\n  height: 100%;\n  vertical-align: middle;\n  width: 1px;\n  height: 18px;\n  background-color: rgba(204,204,204,0.5);\n  margin: 0 8px;\n",!1),U.setStyle(this._sizeTips,"\n  all: unset;\n  pointer-events: none;\n  display:inline-block;\n  color: #ccc; \n  font-size: 11px; \n  white-space: nowrap; \n  align-self: center;\n",!1),U.setStyle(this._arrowTips,H,!1),U.appendChild(this._tagNameTips,this._tagNameTipsText,!1),U.appendChild(this._idTips,this._idTipsText,!1),U.appendChild(this._classTips,this._classTipsText,!1),U.appendChild(this._sizeTips,this._sizeTipsText,!1),U.appendChild(this._tagContainer,this._tagNameTips,!1),U.appendChild(this._tagContainer,this._idTips,!1),U.appendChild(this._tagContainer,this._classTips,!1),U.appendChild(this._inspectTipsContainer,this._tagContainer,!1),U.appendChild(this._inspectTipsContainer,this._inspectTipsSep,!1),U.appendChild(this._inspectTipsContainer,this._sizeTips,!1),U.appendChild(this._inspectTipsContainer,this._arrowTips,!1),U.startRender(),this._tipsInited=!0}hideTips(){this._tipsInited&&U.updateStyle(this._inspectTipsContainer,"display: none;")}destroyTips(){this._tipsInited&&(this._inspectTipsContainer&&this._inspectTipsContainer.parentNode&&this._inspectTipsContainer.parentNode.removeChild(this._inspectTipsContainer),this.resetTips(),this._tipsInited=!1)}resetDOM(){this._domInited=!1,this._dom=null,this._borderDom=null,this._paddingDom=null,this._sizeDom=null}initDOM(){this._dom=new Q(this._domTree,0),this._borderDom=new Q(this._domTree,this._dom.viewId),this._paddingDom=new Q(this._domTree,this._dom.viewId),this._sizeDom=new Q(this._domTree,this._dom.viewId),this._domInited=!0}hideDOM(){this._dom&&this._dom.update({style:{display:"none"}})}destroyDOM(){this._dom&&(this._dom.destroy(),this.resetDOM())}setTips(t){return l(this,void 0,void 0,(function*(){if(this._target){var{top:e,left:n,width:r,height:o,contentWidth:i,contentHeight:s}=t,a=(this._target.is||"").replace(/^wx-/,"").toLowerCase();"body"===a&&(a="page"),this._tagNameTipsText.textContent=a;var u=U.getAttribute(this._target,"id");this._idTipsText.textContent=u?`#${u}`:"";var l=U.getAttribute(this._target,"classList"),c=Array.prototype.map.call(l,(t=>`.${t}`)).join("");this._classTipsText.textContent=c?`${c}`:"",this._sizeTipsText.textContent=`${this.pruneNum(i)} x ${this.pruneNum(s)}`;var h="display:block;",{innerWidth:d,innerHeight:p}=yield U.getWindowInfo(),f=d-100,g=20+6.2*(this._tagNameTipsText.textContent.length+this._idTipsText.textContent.length+this._classTipsText.textContent.length)+16+1+6*this._sizeTipsText.textContent.length;h+=`max-width:${f}px;min-width:120px;width:${g}px;`,U.appendChild(this._domTree.__wxSlotChildren[0],this._inspectTipsContainer),U.updateStyle(this._inspectTipsContainer,h);var v=(yield U.getBoundingClientRect(this._inspectTipsContainer.$$)).height,m=n+Math.min(f,g)>d,y=t=>{if(m){U.setStyle(this._arrowTips,t?'\n  all: unset;\n  pointer-events: none;\n  top: 100%;\n  margin-top: -4px;\n  transform: rotate(45deg) skewX(5deg) skewY(5deg);\n  content: "";\n  position: absolute;\n  z-index: -100;\n  right: 10px;\n  width: 8px;\n  height: 8px;\n  border-radius: 0 0 2px 0;\n  background: #ffffff;\n  bottom: 100%;\n  margin-bottom: -4px;\n':'\n  all: unset;\n  pointer-events: none;\n  bottom: 100%;\n  margin-bottom: -4px;\n  transform: rotate(225deg) skewX(5deg) skewY(5deg);\n  content: "";\n  position: absolute;\n  z-index: -100;\n  right: 10px;\n  width: 8px;\n  height: 8px;\n  border-radius: 0 0 2px 0;\n  background: #ffffff;\n');var e=r+n-Math.min(f,g);h+=`left:${Math.max(0,e)}px;`,e<0&&(h+=`width:${Math.min(f,g)+e}px;`)}else U.setStyle(this._arrowTips,t?H:'\n  all: unset;\n  pointer-events: none;\n  bottom: 100%;\n  margin-bottom: -4px;\n  transform: rotate(225deg) skewX(5deg) skewY(5deg);\n  content: "";\n  position: absolute;\n  z-index: -100;\n  left: 10px;\n  width: 8px;\n  height: 8px;\n  border-radius: 0 0 2px 0;\n  background: #ffffff;\n'),h+=`left:${n}px;`};if(e>p-e-o){y(!0);var b=e-v-4;h+=`top:${b>0?b:0}px;`}else{y(!1);var w=e+o+4;h+=`top:${w+v<p?w:p-v}px;`}U.updateStyle(this._inspectTipsContainer,h)}}))}show(t,e=W){return l(this,void 0,void 0,(function*(){this._tasks.push({type:"show",target:t,config:e}),this.handleTasks()}))}hide(){this._tasks.push({type:"hide"}),this.handleTasks()}handleTasks(){return l(this,void 0,void 0,(function*(){var t=yield function(){return l(this,void 0,void 0,(function*(){var t=yield function(){return l(this,void 0,void 0,(function*(){return new Promise(((t,e)=>{wx.getCurrentWebviewId({success(e){t(e.webviewId)},fail(){e()}})}))}))}();return __virtualDOM__.getDomTreeByPageId(t)}))}();if(t&&this._domTree===t||(this._runing=!1),this._tasks.length&&!this._runing){for(this._runing=!0;this._tasks.length;){var e=this._tasks.shift();try{"show"===e.type?yield this.handleShowTask(t,e.target,e.config):this.handleHideTask()}catch(t){console.error("handle highlight task fail:",e,t)}finally{this._runing=!1}}this._runing=!1}}))}handleShowTask(t,e,n=W){return l(this,void 0,void 0,(function*(){try{if(!e||e===this._target||!e.$$)return;this._domTree!==t&&(this.destroyDOM(),this.destroyTips()),this._domTree=t,this._tipsInited||this.initTips(),this._domInited||this.initDOM(),this._target=e;var r=yield U.getBoundingClientRect(e.$$),o=yield U.getComputedStyle(e.$$),i={};["width","height","margin-left","margin-right","margin-top","margin-bottom","padding-left","padding-right","padding-top","padding-bottom","border-left-width","border-right-width","border-top-width","border-bottom-width"].forEach((t=>{i[t]=parseFloat(o[t].replace("px",""))}));var{top:s,left:a,width:u,height:l}=r,{scrollLeft:c,scrollTop:h}=yield U.getWindowInfo();this._dom.update({style:Object.assign(Object.assign({},this.formatConfigColorRgba(n,"marginColor")),{position:"absolute",display:"block"}),position:{top:s-i["margin-top"]+h,left:a-i["margin-left"]+c,width:u+i["margin-left"]+i["margin-right"],height:l+i["margin-top"]+i["margin-bottom"]}}),this._borderDom.update({style:Object.assign(Object.assign({},this.formatConfigColorRgba(n,"borderColor")),{position:"absolute",display:"block"}),position:{top:i["margin-top"],left:i["margin-left"],width:u,height:l}}),this._paddingDom.update({style:Object.assign(Object.assign({},this.formatConfigColorRgba(n,"paddingColor")),{position:"absolute",display:"block"}),position:{top:i["margin-top"]+i["border-top-width"],left:i["margin-left"]+i["border-left-width"],width:u-i["border-left-width"]-i["border-right-width"],height:l-i["border-top-width"]-i["border-bottom-width"]}}),this._sizeDom.update({style:Object.assign(Object.assign({},this.formatConfigColorRgba(n,"contentColor")),{position:"absolute",display:"block"}),position:{top:i["margin-top"]+i["border-top-width"]+i["padding-top"],left:i["margin-left"]+i["border-left-width"]+i["padding-left"],width:u-i["border-left-width"]-i["border-right-width"]-i["padding-left"]-i["padding-right"],height:l-i["border-top-width"]-i["border-bottom-width"]-i["padding-top"]-i["padding-bottom"]}}),yield this.setTips({top:s-i["margin-top"]+h,left:a-i["margin-left"]+c,width:u+i["margin-left"]+i["margin-right"],height:l+i["margin-top"]+i["margin-bottom"],contentWidth:u,contentHeight:l})}catch(t){"cancel"!==t.message&&console.error("highlight show error:",t)}}))}handleHideTask(){this.hideDOM(),this.hideTips(),this._target=null,U.startRender()}pruneNum(t){return t.toFixed(2).replace(/\.?(0{1,})$/i,"")}formatConfigColorRgba(t,e={}){if(t[e]){var{r:n,g:r,b:o,a:i}=t[e];return{background:`#${J(n)}${J(r)}${J(o)}`,opacity:i}}}},et="#text",nt=new Set(["class","is"]);!function(t){t[t.Unknown=0]="Unknown",t[t.TextNode=1]="TextNode",t[t.VirtualNode=2]="VirtualNode",t[t.Component=3]="Component",t[t.NativeNode=4]="NativeNode",t[t.Element=5]="Element"}(Z||(Z={}));class rt{constructor({exparser:t,root:e,customTabbar:n,hideVirtual:r=!0}){var o;this.name="mini-app",this.nodeId=new N(4),this.inspectedId=new N(0),this.nodeIdMap=new Map,this.idNodeMap=new Map,this.options={},this.skippedDOMAttrs=nt,this.getNodeType=t=>t instanceof this.exparser.TextNode?Z.TextNode:t instanceof this.exparser.VirtualNode?Z.VirtualNode:t instanceof this.exparser.Component?Z.Component:t instanceof this.exparser.NativeNode?Z.NativeNode:t instanceof this.exparser.Element?Z.Element:Z.Unknown,this.getNodeName=(t,e="")=>{throw new Error("no implement")},this.domify=({root:t,node:e,nodeId:n,customTabbar:r,currentDepth:o=1,depth:i=1,parentId:s,emit:a,env:u={},defalutNodeName:l=""}={})=>{var c,h,d,p,f,g,v,m;if(e?this.nodeIdMap.has(e)||(n=this.nodeId.id,this.addToMap(e,n)):n?e=this.getNodeById(n):r?(e=this.customTabbar,this.addToMap(e,4)):(e=t,this.addToMap(e,3)),!e)return null;n||(n=this.nodeIdMap.get(e));var y=this.getNodeType(e),b={type:y};if(this.observeNode({root:t,emit:a,nodeId:n}),y===Z.TextNode)return{nodeId:n,parentId:s,backendNodeId:n,nodeType:3,nodeName:et,localName:et,nodeValue:e.textContent};b.is=e.is,b.parentId=s,b.nodeType=1,b.nodeId=b.backendNodeId=n,b.nodeName=b.localName=this.getNodeName(e,l),e.__component__&&(b.component=e.__component__,b.componentId=parseInt(this.getAttributeValue(e,"wx:nodeid"))),"slot"===(null===(c=null==e?void 0:e.__wxSlotParent)||void 0===c?void 0:c.is)&&"string"==typeof(null===(h=null==e?void 0:e.__wxSlotParent)||void 0===h?void 0:h.__slotName)&&(null===(f=null===(p=null===(d=null==e?void 0:e.__wxSlotParent)||void 0===d?void 0:d.ownerShadowRoot)||void 0===p?void 0:p.__wxHost)||void 0===f?void 0:f.__component__)&&!(null===(m=null===(v=null===(g=null==e?void 0:e.__wxSlotParent)||void 0===g?void 0:g.ownerShadowRoot)||void 0===v?void 0:v.__wxHost)||void 0===m?void 0:m.__virtual)&&(b.slotParentId=parseInt(this.getAttributeValue(e.__wxSlotParent.ownerShadowRoot.__wxHost,"wx:nodeid")));var w=this.getChildren(e),x=[];if(this.options.hideVirtual&&e!==this.customTabbar&&(y===Z.VirtualNode||e.__component__&&e.__virtual))return null==w||w.forEach(((e,n)=>{if(!q(e)){var r=this.domify({root:t,node:e,depth:i,currentDepth:o,parentId:s,emit:a,defalutNodeName:l});r&&(Array.isArray(r)?x.push(...r):x.push(r))}})),x;(o<=i||-1===i)&&(null==w||w.forEach(((e,n)=>{if(!q(e)){var r=this.domify({root:t,node:e,depth:i,currentDepth:o+1,parentId:b.nodeId,emit:a,defalutNodeName:l});r&&(Array.isArray(r)?x.push(...r):x.push(r))}})),b.children=o!==i&&x.length?x:void 0,b.childNodeCount=null==x?void 0:x.length);var _=this.getAttributes(e);return _.length&&(b.attributes=_),b},this.setInspectedNode=t=>(this.inspectedNode=this.getNodeById(t),this.inspectedNode?t:null),this.setInspectedNodeForExparser=t=>{var e,{node:n,variableName:r}=null!==(e=this.idNodeMap.get(t))&&void 0!==e?e:{};if(!n)return null;if(!r){for(r=`$$${this.inspectedId.id}`;Reflect.has(globalThis,r);)r=`$$${this.inspectedId.id}`;this.idNodeMap.get(t)&&(this.idNodeMap.get(t).variableName=r)}return Reflect.set(globalThis,r,n),r},this.findLogicalParent=t=>this.options.hideVirtual?this.findNearestNonVirtualAncestor(t):this.getParent(t),this.getChildren=t=>{var e,n;if("string"==typeof t.__slotName){var r=this.findNearestNonVirtualChildren(null===(e=t.ownerShadowRoot)||void 0===e?void 0:e.__wxHost);return console.log(111111,t,null===(n=t.ownerShadowRoot)||void 0===n?void 0:n.__wxHost,r,r.filter((e=>e.slot===t.__slotName))),r.filter((e=>"slot"===e.is||e.slot===t.__slotName))}return t.__component__?[t.shadowRoot]:t.childNodes||[]},this.getSibling=(t,e="prev")=>{var n,{hideVirtual:r}=this.options,o=this.getParent(t),i=this.getChildren(o),s=Array.prototype.indexOf.call(i,t);if(i.length<2||s<0||"next"===e&&s===i.length-1||"prev"===e&&0===s)return r&&this.isVirtual(o)?this.getSibling(o,e):null;if("prev"===e)for(n=i[s-1];r&&this.isVirtual(n);){var a=this.getChildren(n);n=a[a.length-1]}else for(n=i[s+1];r&&this.isVirtual(n);)n=this.getChildren(n)[0];return null!=n?n:null},this.observeNode=({root:t,nodeId:e=-1,emit:n})=>{var r,{node:o,observer:i}=null!==(r=this.idNodeMap.get(e))&&void 0!==r?r:{};o&&(i||(i=this.exparser.Observer.create((r=>{var i,s,a,u,l,c,h,d,p;switch(r.type){case"characterData":var f=o.textContent;null==n||n({method:"DOM.characterDataModified",params:{nodeId:e,characterData:f}});break;case"properties":var g=r.propertyName,v=o[g];if(this.options.hideVirtual&&(null===(i=null==r?void 0:r.target)||void 0===i?void 0:i.__virtual))return;null==v?null==n||n({method:"DOM.attributeRemoved",params:{nodeId:e,name:g}}):null==n||n({method:"DOM.attributeModified",params:{nodeId:e,name:g,value:"number"==typeof v?v.toString():v}});break;case"childList":var m=this.nodeIdMap.get(r.target),y=(null===(s=o.childNodes)||void 0===s?void 0:s.length)||0,b=y;if(null===(a=r.removedNodes)||void 0===a?void 0:a.length)for(var w of(b=y-(null===(u=r.removedNodes)||void 0===u?void 0:u.length),r.removedNodes))if(!q(w)){var x=null!==(l=this.nodeIdMap.get(w))&&void 0!==l?l:-1;null==n||n({method:"DOM.childNodeRemoved",params:{parentNodeId:m,nodeId:x}}),this.nodeIdMap.delete(w),this.idNodeMap.delete(x);var{observer:_}=null!==(c=this.idNodeMap.get(e))&&void 0!==c?c:{};null==_||_.disconnect()}if(null===(h=r.addedNodes)||void 0===h?void 0:h.length)for(var E of(b=y+(null===(d=r.addedNodes)||void 0===d?void 0:d.length),r.addedNodes))if(!q(E)){var T=null!==(p=this.nodeIdMap.get(this.getSibling(E)))&&void 0!==p?p:-1,N=this.domify({root:t,node:E,parentId:m,emit:n});n({method:"DOM.childNodeInserted",params:{parentNodeId:m,previousNodeId:T,node:N}})}b!==y&&(null==n||n({method:"DOM.childNodeCountUpdated",params:{nodeId:e,childNodeCount:y}}))}})),i.observe(o,{properties:!0,childList:!0,characterData:o instanceof this.exparser.TextNode}),this.idNodeMap.set(e,{node:o,observer:i})))},this._exparser=t,this._root=e,this._customTabbar=n,this.options={hideVirtual:r},this.document={nodeId:1,backendNodeId:1,childNodeCount:1,children:[],nodeType:9,nodeName:"#document"};var i={parentId:1,nodeId:2,backendNodeId:2,nodeType:10,nodeName:this.name};null===(o=this.document.children)||void 0===o||o.push(i),this.registerCustomComponents()}getRoot(){return l(this,void 0,void 0,(function*(){throw new Error("no implement")}))}get exparser(){return this._exparser?this._exparser():window.exparser}get virtualDOM(){return this._virtualDOM?this._virtualDOM():window.__virtualDOM__}get customTabbar(){return this._customTabbar?this._customTabbar():window.__TAB_BAR__}get webviewEngine(){return this._webviewEngine?this._webviewEngine():window.__webviewEngine__}get skylineEngine(){return this._skylineEngine?this._skylineEngine():window.__skylineEngine__}registerCustomComponents(){this.exparser.registerElement({is:"wx-inspectee-highlight-element",template:"<span></span>",behaviors:["wx-base"],properties:{},attached(){}})}getPageContext(){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getPageContextId(){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getStyleSCopeId(t,e){return this.webviewEngine.getStyleSheetScope(t,e)}addToMap(t,e){this.nodeIdMap.set(t,e),this.idNodeMap.set(e,{node:t}),t.setAttribute&&t.setAttribute("wx:nodeid",e)}removeNode(t){var e;return l(this,void 0,void 0,(function*(){var n=this.getNodeById(t);if(n!==(yield this.getRoot())){var r=this.getObserverById(t);r&&r.disconnect(),null===(e=n.parentNode)||void 0===e||e.removeChild(n),this.nodeIdMap.delete(n),this.idNodeMap.delete(t)}}))}getNodeById(t){var e;return null===(e=this.idNodeMap.get(t))||void 0===e?void 0:e.node}getObserverById(t){var e;return null===(e=this.idNodeMap.get(t))||void 0===e?void 0:e.observe}requestIdForNode(t){var e=this.nodeIdMap.get(t);return e||(e=this.nodeId.id,this.addToMap(t,e)),e}isWxComponent(t){var e;return null===(e=t.is)||void 0===e?void 0:e.startsWith("wx-")}spreadScopeData(){this.virtualDOM?this.virtualDOM.spreadScopeDataToDOMNode():setTimeout((()=>{this.spreadScopeData()}),200)}isVirtual(t){return t instanceof this.exparser.VirtualNode}getParent(t){return this.isVirtual(t)?t.__wxSlotParent:t.parentNode}findNearestNonVirtualAncestor(t){for(var e=t;this.isVirtual(e);)e=e.__wxSlotParent;return null==e?void 0:e.parentNode}findNearestNonVirtualChildren(t){var e=t.childNodes||[],n=[];return e.forEach((t=>{this.isVirtual(t)&&"slot"!==t.is?n=n.concat(this.findNearestNonVirtualChildren(t)):n.push(t)})),n}getDocument({depth:t,emit:e}={}){return l(this,void 0,void 0,(function*(){var n=yield this.getRoot();if(!n)return this.document;var r=this.domify({root:n,depth:t,parentId:this.document.nodeId,emit:e});if(this.document.children[1]=r,this.customTabbar){var o=this.domify({root:n,depth:t,parentId:this.document.nodeId,emit:e,customTabbar:!0});this.document.children[2]=o}return this.document.childNodeCount=this.document.children.length,this.document}))}}var ot=class{constructor(){this.enabled=!1}getExparserNodeFromParams(t){return l(this,void 0,void 0,(function*(){var e,{nodeId:n,backendNodeId:r,objectId:o}=t;if(n||r)e=this.tree.getNodeById(n||r);else if(o){var i=yield this.requestNode({objectId:o});e=this.tree.getNodeById(i.nodeId)}return e||console.warn("can not found node",t),e}))}scrollIntoViewIfNeeded(t){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}collectClassNamesFromSubtree(t){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}copyTo(t){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}describeNode(t){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}discardSearchResults(t){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}disable(){return l(this,void 0,void 0,(function*(){this.enabled=!1}))}enable(){return l(this,void 0,void 0,(function*(){this.enabled=!0}))}focus(t){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getAttributes(t){return l(this,void 0,void 0,(function*(){var{nodeId:e}=t,n=yield this.getExparserNodeFromParams({nodeId:e});return{attributes:this.tree.getAttributes(n)}}))}getBoxModel(t){throw new Error("Method not implemented.")}getContentQuads(t){throw new Error("Method not implemented.")}getDocument(t){return l(this,void 0,void 0,(function*(){var{depth:e=2}=t;try{return{root:yield this.tree.getDocument({depth:e,emit:t=>{this.bridge.emit(t)}})}}catch(t){throw console.error(t),t}}))}getFlattenedDocument(t){throw new Error("Method not implemented.")}getNodesForSubtreeByStyle(t){throw new Error("Method not implemented.")}getNodeForLocation(t){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getOuterHTML(t){throw new Error("Method not implemented.")}getRelayoutBoundary(t){throw new Error("Method not implemented.")}getSearchResults(t){throw new Error("Method not implemented.")}hideHighlight(){return l(this,void 0,void 0,(function*(){this.highlight.hide()}))}highlightNode(t){return l(this,void 0,void 0,(function*(){var{nodeId:e,backendNodeId:n,objectId:r,selector:o,highlightConfig:i={}}=t||{},s=yield this.getExparserNodeFromParams({nodeId:e,backendNodeId:n,objectId:r});s&&o&&(s=s.querySelector(o)),s&&(yield this.highlight.show(s,i))}))}highlightRect(){throw new Error("Method not implemented.")}markUndoableState(){throw new Error("Method not implemented.")}moveTo(t){throw new Error("Method not implemented.")}performSearch(t){throw new Error("Method not implemented.")}pushNodeByPathToFrontend(t){throw new Error("Method not implemented.")}pushNodesByBackendIdsToFrontend(t){return l(this,void 0,void 0,(function*(){var{backendNodeIds:e}=t;return{nodeIds:e}}))}querySelector(t){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}querySelectorAll(t){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}redo(){throw new Error("Method not implemented.")}removeAttribute(t){return l(this,void 0,void 0,(function*(){var{nodeId:e,name:n}=t,r=yield this.getExparserNodeFromParams(t);this.tree.removeAttributes(r,n),this.bridge.emit({method:"DOM.attributeRemoved",params:{nodeId:e,name:n}})}))}setAttributeValue(t){return l(this,void 0,void 0,(function*(){var{nodeId:e,name:n,value:r}=t,o=yield this.getExparserNodeFromParams(t);this.tree.setAttributeValue(o,n,r),this.bridge.emit({method:"DOM.attributeModified",params:{nodeId:e,name:n,value:r}})}))}setAttributesAsText(t){return l(this,void 0,void 0,(function*(){var{name:e,nodeId:n,text:r}=t;if(!e)throw new Error("invalid name");for(var o=yield this.getExparserNodeFromParams(t),i={},s=r.match(/(\w+)(-\w+)?\s*=\s*['"]([^"]*)['"]/g)||[],a=0,u=s.length;a<u;a++){var l=s[a].split("="),c=l[0].trim(),h=l[1]?l[1].trim().replace(/^"/,"").replace(/"$/,""):"true";i[c]=h,this.tree.getAttributeValue(o,c)!==h&&this.setAttributeValue({nodeId:n,name:c,value:h})}e&&!i[e]&&this.removeAttribute({nodeId:n,name:e})}))}removeNode(t){return l(this,void 0,void 0,(function*(){var{nodeId:e}=t;yield this.tree.removeNode(e)}))}requestChildNodes(t){var e;return l(this,void 0,void 0,(function*(){var{nodeId:n,depth:r=2,pierce:o}=t,i=this.tree.domify({depth:r,nodeId:n,emit:t=>{this.bridge.emit(t)}});this.bridge.emit({method:"DOM.setChildNodes",params:{parentId:n,nodes:null!==(e=i.children)&&void 0!==e?e:[]}})}))}requestNode(t){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}resolveNode(t){return l(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}setFileInputFiles(t){throw new Error("Method not implemented.")}setNodeStackTracesEnabled(t){throw new Error("Method not implemented.")}getNodeStackTraces(t){throw new Error("Method not implemented.")}getFileInfo(t){throw new Error("Method not implemented.")}setInspectedNode(t){return l(this,void 0,void 0,(function*(){var{nodeId:e}=t;this.tree.setInspectedNode(e)}))}setNodeName(t){throw new Error("Method not implemented.")}setNodeValue(t){return l(this,void 0,void 0,(function*(){var{value:e}=t,n=yield this.getExparserNodeFromParams(t);this.tree.getNodeType(n)===Z.TextNode&&(n.textContent=e)}))}setOuterHTML(t){throw new Error("Method not implemented.")}undo(){throw new Error("Method not implemented.")}getFrameOwner(t){throw new Error("Method not implemented.")}getContainerForNode(t){throw new Error("Method not implemented.")}setHideElement(t){return l(this,void 0,void 0,(function*(){var{nodeId:e,hide:n}=t,r=yield this.getExparserNodeFromParams({nodeId:e});if(r){var o=this.tree.getAttributeValue(r,"style");o.includes("visibility:")?o=o.replace(/visibility:(.*?);/,n?"visibility:hidden;":""):o+="visibility:hidden;",this.tree.setAttributeValue(r,"style",o),this.bridge.emit({method:"DOM.attributeModified",params:{nodeId:e,name:"style",value:o}})}}))}scrollIntoView(t){return l(this,void 0,void 0,(function*(){return yield this.scrollIntoViewIfNeeded(t)}))}getComponentData(t){return l(this,void 0,void 0,(function*(){var{nodeId:e}=t,n=this.tree.getNodeById(e),r=n.data,o=this.tree.virtualDOM.getNodeId(n);if(!o){for(r=null;n.parentNode&&(n=n.parentNode).__virtual;);n.__wxHost&&n.__wxHost.__virtual&&(r=n.__wxHost.data,o=this.tree.virtualDOM.getNodeId(n.__wxHost))}this.lastActiveNodeId=o,this.hasListenOnVdSyncBatch||(this.listenOnVdSyncBatch(),this.hasListenOnVdSyncBatch=!0),this.bridge.emit({method:"WxComponent.componentDataChanged",params:{componentData:r,exparseNodeId:this.lastActiveNodeId}})}))}componentDataByVdSync(t){var e=this.tree.virtualDOM.getNodeById(t).data;e&&this.bridge.emit({method:"WxComponent.componentDataChanged",params:{componentData:e,exparseNodeId:t}})}listenOnVdSyncBatch(){var t=this.lastActiveNodeId,e=this,n=()=>{var n=Date.now();if(!e.lastTimeForComponentData||n-e.lastTimeForComponentData>1e3)return e.componentDataByVdSync(t),void(e.lastTimeForComponentData=Date.now());this.timerForComponentData&&clearTimeout(this.timerForComponentData),this.timerForComponentData=setTimeout((function(){e.componentDataByVdSync(t),e.lastTimeForComponentData=Date.now()}),1e3)};wx.subscribe("vdSyncBatch",(function(e){for(var r of e)if(r instanceof Array){for(var o of r)if(o===t){n();break}}else r&&r.nodeId&&r.nodeId===t&&n()}))}on(t,e){throw new Error("Method not implemented.")}};s([(0,i.f3)(g),u("design:type",i.W2)],ot.prototype,"container",void 0),s([(0,i.f3)(d),u("design:type",v)],ot.prototype,"bridge",void 0),ot=s([(0,i.b2)()],ot);var it=t=>t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`)),st=class{get enabled(){return this.DOMAdapter.enabled&&this._enabled}disable(){return l(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return l(this,void 0,void 0,(function*(){if(!this.DOMAdapter.enabled)throw new Error("Enable DOM first.");this._enabled=!0,this.cssModel.init(this.DOMAdapter,this.bridge),this.cssModel.virtualSheets.forEach((({header:t})=>{this.bridge.emit({method:"CSS.styleSheetAdded",params:{header:t}})}))}))}addRule(t){throw new Error("Method not implemented.")}collectClassNames(t){throw new Error("Method not implemented.")}createStyleSheet(t){throw new Error("Method not implemented.")}forcePseudoState(t){throw new Error("Method not implemented.")}getBackgroundColors(t){throw new Error("Method not implemented.")}getComputedStyleForNode(t){return l(this,void 0,void 0,(function*(){var e=yield this.DOMAdapter.getExparserNodeFromParams(t);return{computedStyle:yield this.getComputedStyleByNode(e)}}))}getInlineStylesForNode(t){return l(this,void 0,void 0,(function*(){var e=yield this.DOMAdapter.getExparserNodeFromParams(t);return{inlineStyle:this.getInlineStylesByNode(e)}}))}getMatchedStylesForNode(t){return l(this,void 0,void 0,(function*(){try{var e=yield this.DOMAdapter.getExparserNodeFromParams(t);return{matchedCSSRules:yield this.getMatchedCSSRulesByNode(e),inlineStyle:this.getInlineStylesByNode(e),inherited:this.getInheritedCSSRulesByNode(e)}}catch(t){throw console.error("CSSAdapter::getMatchedStylesForNode",t),t}}))}getComputedStyleByNode(t){return l(this,void 0,void 0,(function*(){return(null==t?void 0:t.$$)?((t,e)=>{var n=[],{baseOffset:r=0,startLine:o=0,disabled:i=!1}={},s=r;for(var a in t){var u=t[a];if(isNaN(+a)&&"cssText"!==a&&"string"==typeof u&&u.length){var l=it(a),c=`${l}: ${u};`;n.push({name:l,value:u,text:c,disabled:i,important:/!important/g.test(u),range:{startLine:o,endLine:o,startColumn:s,endColumn:s+=c.length}})}}return n})(yield U.getComputedStyle(t.$$)):[]}))}getInlineStylesByNode(t){if(null==t?void 0:t.$$)return this.cssModel.getInlineRules(t)}getMatchedCSSRulesByNode(t){return l(this,void 0,void 0,(function*(){return(null==t?void 0:t.$$)?yield this.cssModel.getMatchedRules(t):[]}))}getMediaQueries(){throw new Error("Method not implemented.")}getPlatformFontsForNode(t){throw new Error("Method not implemented.")}getStyleSheetText(t){throw new Error("Method not implemented.")}trackComputedStyleUpdates(t){throw new Error("Method not implemented.")}takeComputedStyleUpdates(){throw new Error("Method not implemented.")}setEffectivePropertyValueForNode(t){throw new Error("Method not implemented.")}setKeyframeKey(t){throw new Error("Method not implemented.")}setMediaText(t){throw new Error("Method not implemented.")}setContainerQueryText(t){throw new Error("Method not implemented.")}setRuleSelector(t){throw new Error("Method not implemented.")}setStyleSheetText(t){throw new Error("Method not implemented.")}applyStyleEdit(t){return this.cssModel.applyStyleEdit(t)}setStyleTexts(t){return l(this,void 0,void 0,(function*(){var{edits:e}=t;return{styles:e.map((t=>this.applyStyleEdit(t)))}}))}startRuleUsageTracking(){throw new Error("Method not implemented.")}stopRuleUsageTracking(){throw new Error("Method not implemented.")}takeCoverageDelta(){throw new Error("Method not implemented.")}setLocalFontsEnabled(t){throw new Error("Method not implemented.")}on(t,e){throw new Error("Method not implemented.")}};s([S("DOM"),u("design:type",ot)],st.prototype,"DOMAdapter",void 0),s([(0,i.f3)(d),u("design:type",v)],st.prototype,"bridge",void 0),st=s([(0,i.b2)()],st);var at=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function ut(t,e){e=e||{};var n=1,r=1;function o(t){var e=t.match(/\n/g);e&&(n+=e.length);var o=t.lastIndexOf("\n");r=~o?t.length-o:r+t.length}function i(){var t={line:n,column:r};return function(e){return e.position=new s(t),p(),e}}function s(t){this.startColumn=t.column-1,this.startLine=t.line-1,this.endColumn=r-1,this.endLine=n-1,this.source=e.source}s.prototype.content=t;var a=[];function u(o){var i=new Error(e.source+":"+n+":"+r+": "+o);if(i.reason=o,i.filename=e.source,i.line=n,i.column=r,i.source=t,!e.silent)throw i;a.push(i)}function l(){return d(/^{\s*/)}function c(){return d(/^}/)}function h(){var e,n=[];for(p(),f(n);t.length&&"}"!=t.charAt(0)&&(e=T()||N());)!1!==e&&(n.push(e),f(n));return n}function d(e){var n=e.exec(t);if(n){var r=n[0];return o(r),t=t.slice(r.length),n}}function p(){d(/^\s*/)}function f(t){var e;for(t=t||[];e=g();)!1!==e&&t.push(e);return t}function g(){var e=i();if("/"==t.charAt(0)&&"*"==t.charAt(1)){for(var n=2;""!=t.charAt(n)&&("*"!=t.charAt(n)||"/"!=t.charAt(n+1));)++n;if(n+=2,""===t.charAt(n-1))return u("End of comment missing");var s=t.slice(2,n-2);return r+=2,o(s),t=t.slice(n),r+=2,e({type:"comment",comment:s})}}function v(){var t=d(/^([^{]+)/);if(t)return lt(t[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(t){return t.replace(/,/g,"")})).split(/\s*(?![^(]*\)),\s*/).map((function(t){return t.replace(/\u200C/g,",")}))}function m(){var t=i();d(/^[;\s]*/);var e=d(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(e){e=lt(e[0]),d(/^:\s*/);var n=d(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),r=t({type:"declaration",property:e.replace(at,""),value:n?lt(n[0]).replace(at,""):""});return d(/^[;\s]*/),r}}function y(){var t,e=[];if(!l())return u("missing '{'");for(f(e);t=m();)!1!==t&&(e.push(t),f(e));return c()?e:u("missing '}'")}function b(){for(var t,e=[],n=i();t=d(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)e.push(t[1]),d(/^,\s*/);if(e.length)return n({type:"keyframe",values:e,declarations:y()})}var w=E("import"),x=E("charset"),_=E("namespace");function E(t){var e=new RegExp("^@"+t+"\\s*([^;]+);");return function(){var n=i(),r=d(e);if(r){var o={type:t};return o[t]=r[1].trim(),n(o)}}}function T(){if("@"==t[0])return function(){var t=i();if(e=d(/^@([-\w]+)?keyframes\s*/)){var e,n=e[1];if(f(),!(e=d(/^([-\w]+)\s*/)))return u("@keyframes missing name");var r,o=e[1];if(f(),!l())return u("@keyframes missing '{'");for(var s=f();r=b();)s.push(r),s=s.concat(f());return c()?t({type:"keyframes",name:o,vendor:n,keyframes:s}):u("@keyframes missing '}'")}}()||function(){var t=i(),e=d(/^@media *([^{]+)/);if(e){var n=lt(e[1]);if(!l())return u("@media missing '{'");var r=f().concat(h());return c()?t({type:"media",media:n,rules:r}):u("@media missing '}'")}}()||function(){var t=i(),e=d(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(e)return t({type:"custom-media",name:lt(e[1]),media:lt(e[2])})}()||function(){var t=i(),e=d(/^@supports *([^{]+)/);if(e){var n=lt(e[1]);if(!l())return u("@supports missing '{'");var r=f().concat(h());return c()?t({type:"supports",supports:n,rules:r}):u("@supports missing '}'")}}()||w()||x()||_()||function(){var t=i(),e=d(/^@([-\w]+)?document *([^{]+)/);if(e){var n=lt(e[1]),r=lt(e[2]);if(!l())return u("@document missing '{'");var o=f().concat(h());return c()?t({type:"document",document:r,vendor:n,rules:o}):u("@document missing '}'")}}()||function(){var t=i();if(d(/^@page */)){var e=v()||[];if(!l())return u("@page missing '{'");for(var n,r=f();n=m();)r.push(n),r=r.concat(f());return c()?t({type:"page",selectors:e,declarations:r}):u("@page missing '}'")}}()||function(){var t=i();if(d(/^@host\s*/)){if(!l())return u("@host missing '{'");var e=f().concat(h());return c()?t({type:"host",rules:e}):u("@host missing '}'")}}()||function(){var t=i();if(d(/^@font-face\s*/)){if(!l())return u("@font-face missing '{'");for(var e,n=f();e=m();)n.push(e),n=n.concat(f());return c()?t({type:"font-face",declarations:n}):u("@font-face missing '}'")}}()}function N(){var t=i(),e=v();return e||(e=""),f(),t({type:"rule",selectors:e,declarations:y()})}return ct({type:"stylesheet",stylesheet:{rules:h(),parsingErrors:a}})}function lt(t){return t?t.replace(/^\s+|\s+$/g,""):""}function ct(t,e){var n=t&&"string"==typeof t.type,r=n?t:e;for(var o in t){var i=t[o];Array.isArray(i)?i.forEach((function(t){ct(t,r)})):i&&"object"==typeof i&&ct(i,r)}return n&&Object.defineProperty(t,"parent",{configurable:!0,writable:!0,enumerable:!1,value:e||null}),t}var ht,dt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},pt={exports:{}},ft={exports:{}},gt={exports:{}},vt={exports:{}};ht=/^\s+/,vt.exports=function(t,e){if(null==e)return t.trimLeft?t.trimLeft():t.replace(ht,"");for(var n,r,o=0,i=t.length,s=e.length,a=!0;a&&o<i;)for(a=!1,n=-1,r=t.charAt(o);++n<s;)if(r===e[n]){a=!0,o++;break}return o>=i?"":t.substr(o,i)};var mt={exports:{}};!function(t,e){e=function(t,e){if(null==e){if(t.trimRight)return t.trimRight();e=" \r\n\t\f\v"}for(var n,r,o=t.length-1,i=e.length,s=!0;s&&o>=0;)for(s=!1,n=-1,r=t.charAt(o);++n<i;)if(r===e[n]){s=!0,o--;break}return o>=0?t.substring(0,o+1):""},t.exports=e}(mt,mt.exports),function(t,e){var n=vt.exports,r=mt.exports;e=function(t,e){return null==e&&t.trim?t.trim():n(r(t,e),e)},t.exports=e}(gt,gt.exports);var yt={exports:{}},bt={exports:{}},wt={exports:{}},xt={exports:{}};!function(t,e){var n=Object.prototype.toString;e=function(t){return n.call(t)},t.exports=e}(xt,xt.exports),function(t,e){var n=xt.exports;e=function(t){return"[object Number]"===n(t)},t.exports=e}(wt,wt.exports);var _t={exports:{}};!function(t,e){var n=xt.exports;e=function(t){var e=n(t);return"[object Function]"===e||"[object GeneratorFunction]"===e||"[object AsyncFunction]"===e},t.exports=e}(_t,_t.exports),function(t,e){var n=wt.exports,r=_t.exports,o=Math.pow(2,53)-1;e=function(t){if(!t)return!1;var e=t.length;return n(e)&&e>=0&&e<=o&&!r(t)},t.exports=e}(bt,bt.exports);var Et={exports:{}},Tt={exports:{}};!function(t,e){var n=Object.prototype.hasOwnProperty;e=function(t,e){return n.call(t,e)},t.exports=e}(Tt,Tt.exports),function(t,e){var n=Tt.exports;e=Object.keys?Object.keys:function(t){var e=[];for(var r in t)n(t,r)&&e.push(r);return e},t.exports=e}(Et,Et.exports);var Nt={exports:{}},At={exports:{}};!function(t,e){e=function(t){return void 0===t},t.exports=e}(At,At.exports),function(t,e){var n=At.exports;e=function(t,e,r){if(n(e))return t;switch(null==r?3:r){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}},t.exports=e}(Nt,Nt.exports),function(t,e){var n=bt.exports,r=Et.exports,o=Nt.exports;e=function(t,e,i){var s,a;if(e=o(e,i),n(t))for(s=0,a=t.length;s<a;s++)e(t[s],s,t);else{var u=r(t);for(s=0,a=u.length;s<a;s++)e(t[u[s]],u[s],t)}return t},t.exports=e}(yt,yt.exports);var St={exports:{}};!function(t,e){e=function(t){return t},t.exports=e}(St,St.exports);var It={exports:{}},Ct={exports:{}},Ot={exports:{}};!function(t,e){e=function(t){var e=typeof t;return!!t&&("function"===e||"object"===e)},t.exports=e}(Ot,Ot.exports);var Mt={exports:{}};!function(t,e){var n=xt.exports;e=Array.isArray?Array.isArray:function(t){return"[object Array]"===n(t)},t.exports=e}(Mt,Mt.exports);var Rt={exports:{}},Pt={exports:{}},Dt={exports:{}};!function(t,e){var n=At.exports,r=yt.exports;e=function(t,e){return function(o){return r(arguments,(function(i,s){if(0!==s){var a=t(i);r(a,(function(t){e&&!n(o[t])||(o[t]=i[t])}))}})),o}},t.exports=e}(Dt,Dt.exports),function(t,e){e=(0,Dt.exports)(Et.exports),t.exports=e}(Pt,Pt.exports);var Lt={exports:{}};!function(t,e){var n=Et.exports;e=function(t,e){var r=n(e),o=r.length;if(null==t)return!o;t=Object(t);for(var i=0;i<o;i++){var s=r[i];if(e[s]!==t[s]||!(s in t))return!1}return!0},t.exports=e}(Lt,Lt.exports),function(t,e){var n=Pt.exports,r=Lt.exports;e=function(t){return t=n({},t),function(e){return r(e,t)}},t.exports=e}(Rt,Rt.exports);var kt={exports:{}},Bt={exports:{}},Ft={exports:{}};!function(t,e){var n=Tt.exports,r=Mt.exports;e=function(t,e){if(r(t))return t;if(e&&n(e,t))return[t];var s=[];return t.replace(o,(function(t,e,n,r){s.push(n?r.replace(i,"$1"):e||t)})),s};var o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g;t.exports=e}(Ft,Ft.exports),function(t,e){var n=At.exports,r=Ft.exports;e=function(t,e){var o;for(o=(e=r(e,t)).shift();!n(o);){if(null==(t=t[o]))return;o=e.shift()}return t},t.exports=e}(Bt,Bt.exports),function(t,e){var n=Mt.exports,r=Bt.exports;e=function(t){return n(t)?function(e){return r(e,t)}:(e=t,function(t){return null==t?void 0:t[e]});var e},t.exports=e}(kt,kt.exports),function(t,e){var n=_t.exports,r=Ot.exports,o=Mt.exports,i=Nt.exports,s=Rt.exports,a=St.exports,u=kt.exports;e=function(t,e,l){return null==t?a:n(t)?i(t,e,l):r(t)&&!o(t)?s(t):u(t)},t.exports=e}(Ct,Ct.exports),function(t,e){var n=Ct.exports,r=Et.exports,o=bt.exports;e=function(t,e,i){e=n(e,i);for(var s=!o(t)&&r(t),a=(s||t).length,u=Array(a),l=0;l<a;l++){var c=s?s[l]:l;u[l]=e(t[c],c,t)}return u},t.exports=e}(It,It.exports),function(t,e){var n=gt.exports,r=yt.exports,o=St.exports,i=It.exports,s="[\\x20\\t\\r\\n\\f]",a="(?:\\\\[\\da-fA-F]{1,6}".concat(s,"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+"),u="\\[".concat(s,"*(").concat(a,")(?:").concat(s,"*([*^$|!~]?=)").concat(s,"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(").concat(a,"))|)").concat(s,"*\\]"),l="::?(".concat(a,")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|").concat(u,")*)|.*)\\)|)"),c=new RegExp("^".concat(s,"*,").concat(s,"*")),h=new RegExp("^".concat(s,"*([>+~]|").concat(s,")").concat(s,"*")),d={id:{reg:new RegExp("^#(".concat(a,")")),value:function(t){return t.slice(1)},toStr:function(t){return"#".concat(t)}},class:{reg:new RegExp("^\\.(".concat(a,")")),value:function(t){return t.slice(1)},toStr:function(t){return".".concat(t)}},tag:{reg:new RegExp("^(".concat(a,"|[*])")),value:o},attribute:{reg:new RegExp("^".concat(u)),value:function(t){return t.slice(1,t.length-1)},toStr:function(t){return"[".concat(t,"]")}},pseudo:{reg:new RegExp("^".concat(l)),value:o}};r(d,(function(t){t.value||(t.value=o),t.toStr||(t.toStr=o)})),e={parse:function(t){t=n(t);for(var e,o,i,s=[];t&&(i&&!(o=c.exec(t))||(o&&(t=t.slice(o[0].length)),e=[],s.push(e)),i=!1,(o=h.exec(t))&&(i=o.shift(),t=t.slice(i.length),(i=n(i))||(i=" "),e.push({value:i,type:"combinator"})),r(d,(function(r,s){var a=r.reg,u=r.value;(o=a.exec(t))&&(i=o.shift(),t=t.slice(i.length),i=n(i),e.push({value:u(i),type:s}))})),i););return s},stringify:function(t){return i(t,(function(t){return(t=i(t,(function(t){var e=t.type,n=t.value;return"combinator"===e?" "===n?n:" ".concat(n," "):d[e].toStr(n)}))).join("")})).join(", ")}},t.exports=e}(ft,ft.exports);var jt={exports:{}};!function(t,e){e=function(t,e){return 0===t.indexOf(e)},t.exports=e}(jt,jt.exports);var Ut={exports:{}},Vt={exports:{}};!function(t,e){e=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},t.exports=e}(Vt,Vt.exports);var Wt={exports:{}};!function(t,e){var n=xt.exports;e=function(t){return"[object String]"===n(t)},t.exports=e}(Wt,Wt.exports);var Ht={exports:{}};!function(t,e){var n=yt.exports;e=function(t){var e=[];return n(t,(function(t){e.push(t)})),e},t.exports=e}(Ht,Ht.exports),function(t,e){var n=Vt.exports,r=Wt.exports,o=bt.exports,i=Ht.exports;e=function(t,e){return r(t)?t.indexOf(e)>-1:(o(t)||(t=i(t)),n(t,e)>=0)},t.exports=e}(Ut,Ut.exports);var $t={exports:{}},Gt={exports:{}},zt={exports:{}};!function(t,e){var n=wt.exports,r=Ot.exports,o=_t.exports,i=Wt.exports;e=function(t){if(n(t))return t;if(r(t)){var e=o(t.valueOf)?t.valueOf():t;t=r(e)?e+"":e}return i(t)?+t:0===t?t:+t},t.exports=e}(zt,zt.exports),function(t,e){var n=zt.exports;e=function(t){return t?(t=n(t))-t%1:0===t?t:0},t.exports=e}(Gt,Gt.exports);var qt={exports:{}};!function(t,e){e=function(){for(var t=arguments,e=t[0],n=1,r=t.length;n<r;n++)t[n]>e&&(e=t[n]);return e},t.exports=e}(qt,qt.exports),function(t,e){var n=Gt.exports,r=qt.exports;e=function(t,e){t=t.split("."),e=e.split(".");for(var o=r(t.length,e.length),i=0;i<o;i++){var s=n(t[i]),a=n(e[i]);if(s>a)return 1;if(s<a)return-1}return 0},t.exports=e}($t,$t.exports),function(t,e){var n=ft.exports,r=yt.exports,o=jt.exports,i=Ut.exports,s=$t.exports;e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.important,u=void 0!==s&&s,l=e.inlineStyle,c=void 0!==l&&l,h=e.position,d=void 0===h?0:h,p=[0,0,0,0,0,d];u&&(p[0]=1),c&&(p[1]=1);var f=n.parse(t)[0];return r(f,(function(t){var e=t.type,n=t.value;switch(e){case"id":p[2]++;break;case"class":case"attribute":p[3]++;break;case"pseudo":i(a,n.replace(/:/g,""))?p[4]++:o(n,"::")||p[3]++;break;case"tag":"*"!==n&&p[4]++}})),p};var a=["first-letter","last-letter","first-line","last-line","first-child","last-child","before","after"];e.compare=function(t,e){return s(t.join("."),e.join("."))},t.exports=e}(pt,pt.exports);var Yt=pt.exports;class Xt{constructor(t,e={}){var n;this.id="",this.rulesMap={},this.id=t;var r,{node:o,fileName:i,disabled:s=!1,isConstructed:a=!1,isInline:u=!1,isMutable:l=!0,ownerNode:c,DOMAdapter:h,bridge:d}=e;r=ut(u?`element.style{${this.getNodeStyleAttr(o)}}`:null==o?void 0:o.innerText,{silent:!0}),this.DOMAdapter=h,this.bridge=d,this.fileName=i||"",this.header={styleSheetId:t,disabled:s,ownerNode:c,isInline:u,isMutable:l,isConstructed:a,origin:"regular",frameId:"114514",sourceURL:i,startLine:0,endLine:0,startColumn:0,endColumn:0,length:1,title:null!==(n=null==i?void 0:i.split("/").pop())&&void 0!==n?n:"untitled"},this.initSheet(r),this.node=o}get ownerNode(){return this.node}getNodeStyleAttr(t){throw new Error("Method not implemented.")}initSheet(t){var e,n;this.sheet=t;var r=null!==(e=null==t?void 0:t.stylesheet.rules)&&void 0!==e?e:[];if(this.rulesMap={},this.header.endLine=(null!==(n=null==t?void 0:t.stylesheet.rules)&&void 0!==n?n:[]).length,t)for(var o=0;o<r.length;o++){var i=r[o];this.rulesMap[o]=i}}getRuleByStartLine(t){return this.rulesMap[t]}getInlineRule(){for(var t=this.sheet.stylesheet.rules[0],e={cssProperties:[],styleSheetId:this.id,range:t.position,shorthandEntries:[]},n=0,r=t.declarations.length;n<r;n++){var o=t.declarations[n];if("comment"!==o.type)e.cssProperties.push({disabled:!1,name:o.property,value:o.value,range:o.position});else{var i=o.comment.replace(/;$/,"").trim(),[s,a]=i.split(":");s=s.trim(),a=a.trim(),e.cssProperties.push({disabled:!0,text:`/*${i}*/`,range:o.position,name:s,value:a})}}return e}getMatchedRules(t){return l(this,void 0,void 0,(function*(){throw new Error("getMatchedRules not implemented.")}))}sortMatchedStyleRules(t){for(var e=[],n=t.length,r=[],o=0;o<n;o++){var i=t[o].rule;e[o]=Yt(i.selectorList.text,{position:o})}e.sort(Yt.compare);for(var s=0;s<n;s++){var a=e[s][5];r[s]=t[a]}return r}filterMatchedRules(t,e){return l(this,void 0,void 0,(function*(){throw new Error("filterMatchedRules not implemented.")}))}serializeRule(t){var e=[],n=t.declarations||[];for(var r in t.selectors){var o=t.selectors[r],i={style:{cssProperties:[],range:t.position,shorthandEntries:[]},selectorList:{text:o,selectors:[]},styleSheetId:this.id,media:[],origin:"regular"},s=t.parent.media;for(var a of(s&&(i.media=s),n))if("comment"!=a.type)i.style.cssProperties.push({disabled:!1,name:a.property,value:a.value,range:a.position});else{var u=a.comment.replace(/;$/,"").trim(),[l,c]=u.split(":");l=l&&l.trim()||"",c=c&&c.trim()||"",i.style.cssProperties.push({disabled:!0,text:`/*${u}*/`,range:a.position,name:l,value:c})}e.push({rule:i,matchingSelectors:[]})}return e}setInlineStyle(t,e){U.setStyle(t,e,!0)}updateStyleText(t){throw new Error("updateStyleText not implemented.")}applyStyleEdit(t){var e,n;try{if(this.header.isInline){var r=null===(e=this.ownerNode)||void 0===e?void 0:e.__wxElement;this.setInlineStyle(r,t.text),n=ut(`element.style{${t.text}}`)}else{for(var{startLine:o,endLine:i,endColumn:s}=t.range,{startColumn:a}=t.range,u=this.node.innerText,l=u.split("\n"),c=[],h=o;h<=i;h++){var d=l[h];h<i?(c.push(d.substr(a,d.length-a)),a=0):c.push(d.substr(a,s-a))}var p=c.join("\n"),f=ut(p),g=[],v=f.stylesheet.rules[0];g.push(v.selectors.join(", ")),g.push("{"),g.push(t.text),g.push("}");var m=u.replace(p,g.join(""));n=ut(m),this.updateStyleText(m)}this.initSheet(n)}catch(t){console.warn("applyStyleEdit fail:",t)}return{}}}class Jt extends Xt{getNodeStyleAttr(t){var e;return(null===(e=null==t?void 0:t.getAttribute)||void 0===e?void 0:e.call(t,"style"))||""}getMatchedRules(t){return l(this,void 0,void 0,(function*(){var e=yield this.filterMatchedRules(this.rulesMap,t);return this.sortMatchedStyleRules(e)}))}filterMatchedRules(t,e){return l(this,void 0,void 0,(function*(){var n=[];for(var r in t){var o=t[r];"media"===o.type&&(n=n.concat(yield this.filterMatchedRules(o.rules,e)));var i=(e.matches||e.webkitMatchesSelector).bind(e);for(var s in o.selectors){var a=o.selectors[s],u=!1;try{u=i(a)}catch(t){continue}if(u){var l={style:{cssProperties:[],range:o.position},selectorList:{text:a},styleSheetId:this.id},c=o.parent.media;c&&(l.media=c);for(var h=0,d=o.declarations.length;h<d;h++){var p=o.declarations[h];if("comment"!=p.type)l.style.cssProperties.push({disabled:!1,name:p.property,value:p.value,range:p.position});else{var f=p.comment.replace(/;$/,"").trim(),[g,v]=f.split(":");g=g&&g.trim()||"",v=v&&v.trim()||"",l.style.cssProperties.push({disabled:!0,text:`/*${f}*/`,range:p.position,name:g,value:v})}}n.push({rule:l})}}}return n}))}updateStyleText(t){for(var e=document.createTextNode(t);this.node.childNodes.length>0;)this.node.removeChild(this.node.childNodes[0]);this.node.appendChild(e)}}class Kt{constructor(){this.assigner=new N,this.virtualSheetMap=new D,this.inlineStyleIdMap=new D,this._sheets=[],this._virtualDOM=null,this.styleSheetIdPrev="style_",this.inlineStyleIdPrev="node_",this.cssToJs=t=>t.replace(/\W+\w/g,(t=>t.slice(-1).toUpperCase()))}init(t,e){this.DOMAdapter=t,this.bridge=e}newInlineSheetId(){return`${this.inlineStyleIdPrev}${this.assigner.id}`}newStyleSheetId(t){return`${this.styleSheetIdPrev}${t}`}get virtualSheets(){return this._virtualDOM=this.DOMAdapter.tree.virtualDOM,this._sheets=this.findSheets(),this._sheets}getInlineRules(t){throw new Error("Method not implemented.")}getMatchedRules(t){return l(this,void 0,void 0,(function*(){var e=t.$$;if(!e||!e.matches&&!e.webkitMatchesSelector)return[];var n=[];for(var r of this.virtualSheets)n=n.concat(yield r.getMatchedRules(e));return n}))}getInheritedRules(t,e){return[]}applyStyleEdit(t){var{styleSheetId:e}=t,n=this.virtualSheetMap.get(e);if(!n)throw new Error("invalid styleSheetId");var r=n.applyStyleEdit(t);if(n.header.isInline){var o=this.inlineStyleIdMap.getRev(e);if(o){var i=this.DOMAdapter.tree.requestIdForNode(o.__wxElement);this.bridge.emit({method:"DOM.attributeModified",params:{nodeId:i,name:"style",value:t.text}})}}return r}}class Qt extends Kt{findSheets(){var t=document.querySelectorAll("style"),e=[];this.virtualSheetMap.clear();for(var n=0;n<t.length;n++)try{var r=this.newStyleSheetId(n),o=new Jt(r,{node:t[n],fileName:t[n].getAttribute("wxss:path")||""});this.virtualSheetMap.set(r,o),e.push(o)}catch(t){}return e}getInlineRules(t){var e=t.$$,n=this.newInlineSheetId();this.inlineStyleIdMap.has(e)||this.inlineStyleIdMap.set(e,n);var r=this.inlineStyleIdMap.get(e),o=new Jt(r,{isInline:!0,node:e});return this.virtualSheetMap.set(r,o),o.getInlineRule()}}class Zt{constructor(){this.iframe=document.createElement("iframe"),this.iframe.style.display="none"}get window(){return this.inited||this.init(),this.iframe.contentWindow}get document(){return this.window.document}init(){document.body.append(this.iframe),this.inited=!0}getDefaultComputedStyles(t){var e=this.document.createElement(t.tagName);this.document.body.appendChild(e);var n=this.window.getComputedStyle(e),r={};for(var o in n)r[o]=n[o];return e.remove(),r}getModifiedComputedStyles(t,e=globalThis.window){var n=this.getDefaultComputedStyles(t),r=e.getComputedStyle(t),o={};for(var i in r)!isNaN(+i)||/[_-]/.test(i)||["cssText","blockSize"].includes(i)||r[i]!==n[i]&&(o[i]=r[i]);return o}}var te=class extends st{constructor(){super(...arguments),this.iframe=new Zt,this.cssModel=new Qt}getInheritedCSSRulesByNode(t){var e=null==t?void 0:t.$$;if(!e)return[];if(e.matches=e.matches||e.webkitMatchesSelector,!e.matches)return[];var n=this.iframe.getModifiedComputedStyles(e);return this.cssModel.getInheritedRules(e,n)}};te=s([(0,i.b2)()],te);class ee extends Xt{getNodeStyleAttr(t){return((null==t?void 0:t.__wxElement.__styleSegments)||[]).join("")}getPageWxssScopeId(){var t,e;return l(this,void 0,void 0,(function*(){var n=yield null===(t=this.DOMAdapter)||void 0===t?void 0:t.tree.getPageContextId(),r=0;if(this.fileName){var o=this.fileName.replace("./","").replace(".\\","").replace(".wxss","");r=null===(e=this.DOMAdapter)||void 0===e?void 0:e.tree.getStyleSCopeId(n,o)}return r||0}))}getMatchedRules(t){return l(this,void 0,void 0,(function*(){var e=yield this.filterMatchedRules(this.rulesMap,t);return this.sortMatchedStyleRules(e)}))}filterMatchedRules(t,e){return l(this,void 0,void 0,(function*(){var n=[],r=yield this.getPageWxssScopeId();for(var o in t){var i=t[o];for(var s in"media"===i.type&&(n=n.concat(yield this.filterMatchedRules(i.rules,e))),i.selectors){var a=i.selectors[s],u=!1;try{u=e.matches(r,a)}catch(t){continue}if(u){var l={style:{cssProperties:[],range:i.position},selectorList:{text:a},styleSheetId:this.id},c=i.parent.media;c&&(l.media=c);for(var h=0,d=i.declarations.length;h<d;h++){var p=i.declarations[h];if("comment"!=p.type)l.style.cssProperties.push({disabled:!1,name:p.property,value:p.value,range:p.position});else{var f=p.comment.replace(/;$/,"").trim(),[g,v]=f.split(":");g=g&&g.trim()||"",v=v&&v.trim()||"",l.style.cssProperties.push({disabled:!0,text:`/*${f}*/`,range:p.position,name:g,value:v})}}n.push({rule:l})}}}return n}))}updateStyleText(t){var e,n,r;return l(this,void 0,void 0,(function*(){for(var o=document.createTextNode(t);this.node.childNodes.length>0;)this.node.removeChild(this.node.childNodes[0]);this.node.appendChild(o),null===(e=this.bridge)||void 0===e||e.emit({method:"WxHost.setWxssFile",params:{fileName:this.fileName,content:t}});var i=yield null===(n=this.DOMAdapter)||void 0===n?void 0:n.tree.getPageContextId();null===(r=this.DOMAdapter)||void 0===r||r.tree.webviewEngine.invalidateAllPreCompiled(i)}))}}class ne extends Kt{findSheets(){var t=document.querySelectorAll("style"),e=[];this.virtualSheetMap.clear();for(var n=0;n<t.length;n++){var r,o=this.newStyleSheetId(n);r=new ee(o,{node:t[n],fileName:t[n].getAttribute("wxss:path")||"",DOMAdapter:this.DOMAdapter,bridge:this.bridge}),this.virtualSheetMap.set(o,r),e.push(r)}return e}getInlineRules(t){var e=t.$$,n=this.newInlineSheetId();this.inlineStyleIdMap.has(e)||this.inlineStyleIdMap.set(e,n);var r=this.inlineStyleIdMap.get(e),o=new ee(r,{isInline:!0,node:e});return this.virtualSheetMap.set(r,o),o.getInlineRule()}}var re=class extends st{constructor(){super(...arguments),this.cssModel=new ne}getInheritedCSSRulesByNode(t){var e=null==t?void 0:t.$$;return e&&e.matches?this.cssModel.getInheritedRules(e,{}):[]}};re=s([(0,i.b2)()],re);class oe extends rt{constructor(){super(...arguments),this.getNodeName=(t,e="")=>{var n,r=((null===(n=null==t?void 0:t.$$)||void 0===n?void 0:n.tagName)||e).toLowerCase();return r.startsWith("wx-")?r.slice(3):r},this.getAttributes=t=>{var e,n,r;this.spreadScopeData();var o=[],i=t.$$;return i&&i.attributes&&Object.values(i.attributes).forEach((t=>{var e;this.skippedDOMAttrs.has(t.name)||null==o||o.push(t.name,null!==(e=t.textContent)&&void 0!==e?e:"")})),t.__id&&o.push("id",t.__id),(null===(n=null===(e=t.classList)||void 0===e?void 0:e._rawNames)||void 0===n?void 0:n.length)&&o.push("class",((null===(r=t.classList)||void 0===r?void 0:r._rawNames)||[]).join(" ")||""),t.__component__&&o.push("is",t.is),o},this.removeAttributes=(t,e)=>{"class"===e?t.classList.setClassNames(""):"id"===e?(delete t.id,delete t.__id):t.removeAttribute(e)},this.setAttributeValue=(t,e,n)=>{"class"===e?t.classList.setClassNames(n):"id"===e?t.id=n:t.setAttribute(e,n)}}getRoot(){return l(this,void 0,void 0,(function*(){return this._root?this._root():window.__DOMTree__}))}getAttributeValue(t,e){for(var n=this.getAttributes(t),r={},o=0;o<n.length;o+=2)r[n[o]]=n[o+1];return r[e]}}var ie={exports:{}},se={},ae={exports:{}},ue={exports:{}},le={exports:{}},ce={exports:{}},he={exports:{}};!function(t,e){var n=Ot.exports,r=_t.exports,o=Object.getPrototypeOf,i={}.constructor;e=function(t){if(n(t)){if(o)return o(t);var e=t.__proto__;return e||null===e?e:r(t.constructor)?t.constructor.prototype:t instanceof i?i.prototype:void 0}},t.exports=e}(he,he.exports);var de={exports:{}},pe={exports:{}};!function(t,e){var n=Ct.exports,r=yt.exports;e=function(t,e,o){var i=[];return e=n(e,o),r(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i},t.exports=e}(pe,pe.exports),function(t,e){var n=pe.exports;function r(t,e){return t===e}e=function(t,e){return e=e||r,n(t,(function(t,n,r){for(var o=r.length;++n<o;)if(e(t,r[n]))return!1;return!0}))},t.exports=e}(de,de.exports),function(t,e){var n=Et.exports,r=he.exports,o=de.exports,i=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols;e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.prototype,u=void 0===a||a,l=e.unenumerable,c=void 0!==l&&l,h=e.symbol,d=void 0!==h&&h,p=[];if((c||d)&&i){var f=n;c&&i&&(f=i);do{p=p.concat(f(t)),d&&s&&(p=p.concat(s(t)))}while(u&&(t=r(t))&&t!==Object.prototype);p=o(p)}else if(u)for(var g in t)p.push(g);else p=n(t);return p},t.exports=e}(ce,ce.exports),function(t,e){e=(0,Dt.exports)(ce.exports),t.exports=e}(le,le.exports);var fe={exports:{}};!function(t,e){var n=bt.exports,r=It.exports,o=Mt.exports,i=Wt.exports;e=function(t){return t?o(t)?t:n(t)&&!i(t)?r(t):[t]:[]},t.exports=e}(fe,fe.exports);var ge={exports:{}},ve={exports:{}};!function(t,e){var n=Ot.exports;e=function(t){if(!n(t))return{};if(r)return r(t);function e(){}return e.prototype=t,new e};var r=Object.create;t.exports=e}(ve,ve.exports),function(t,e){var n=ve.exports;e=function(t,e){t.prototype=n(e.prototype)},t.exports=e}(ge,ge.exports);var me={exports:{}};!function(t,e){e="undefined"!=typeof wx&&(0,_t.exports)(wx.openLocation),t.exports=e}(me,me.exports),function(t,e){var n=le.exports,r=fe.exports,o=ge.exports,i=Bt.exports,s=me.exports,a=(e=function(t,e){return a.extend(t,e)}).Base=function t(e,a,u){u=u||{};var l=a.className||i(a,"initialize.name")||"";delete a.className;var c=function(){var t=r(arguments);return this.initialize&&this.initialize.apply(this,t)||this};if(!s)try{c=new Function("toArr","return function "+l+"(){var args = toArr(arguments);return this.initialize ? this.initialize.apply(this, args) || this : this;};")(r)}catch(t){}return o(c,e),c.prototype.constructor=c,c.extend=function(e,n){return t(c,e,n)},c.inherits=function(t){o(c,t)},c.methods=function(t){return n(c.prototype,t),c},c.statics=function(t){return n(c,t),c},c.methods(a).statics(u),c}(Object,{className:"Base",callSuper:function(t,e,n){return t.prototype[e].apply(this,n)},toString:function(){return this.constructor.name}});t.exports=e}(ue,ue.exports);var ye={exports:{}};!function(t,e){e=function(t,e,n){var r=t.length;e=null==e?0:e<0?Math.max(r+e,0):Math.min(e,r),n=null==n?r:n<0?Math.max(r+n,0):Math.min(n,r);for(var o=[];e<n;)o.push(t[e++]);return o},t.exports=e}(ye,ye.exports);var be={exports:{}},we={exports:{}},xe={exports:{}};!function(t,e){e=function(t,e){return e=null==e?t.length-1:+e,function(){var n,r=Math.max(arguments.length-e,0),o=new Array(r);for(n=0;n<r;n++)o[n]=arguments[n+e];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,arguments[0],o);case 2:return t.call(this,arguments[0],arguments[1],o)}var i=new Array(e+1);for(n=0;n<e;n++)i[n]=arguments[n];return i[e]=o,t.apply(this,i)}},t.exports=e}(xe,xe.exports),function(t,e){var n=fe.exports;e=(0,xe.exports)((function(t,e){return function(){var r=[];return r=(r=r.concat(e)).concat(n(arguments)),t.apply(this,r)}})),t.exports=e}(we,we.exports);var _e={exports:{}};!function(t,e){e=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},t.exports=e}(_e,_e.exports),function(t,e){e=(0,we.exports)(_e.exports,2),t.exports=e}(be,be.exports);var Ee={exports:{}};!function(t,e){var n=Ot.exports,r=Mt.exports,o=le.exports;e=function(t){return n(t)?r(t)?t.slice():o({},t):t},t.exports=e}(Ee,Ee.exports),function(t,e){var n=Tt.exports,r=yt.exports,o=ye.exports,i=be.exports,s=Ee.exports;e=(0,ue.exports)({initialize:function(){this._events=this._events||{}},on:function(t,e){return this._events[t]=this._events[t]||[],this._events[t].push(e),this},off:function(t,e){var r=this._events;if(n(r,t)){var o=r[t].indexOf(e);return o>-1&&r[t].splice(o,1),this}},once:function(t,e){return this.on(t,i(e)),this},emit:function(t){var e=this;if(n(this._events,t)){var i=o(arguments,1),a=s(this._events[t]);return r(a,(function(t){return t.apply(e,i)}),this),this}},removeAllListeners:function(t){return t?delete this._events[t]:this._events={},this}},{mixin:function(t){r(["on","off","once","emit","removeAllListeners"],(function(n){t[n]=e.prototype[n]})),t._events=t._events||{}}}),t.exports=e}(ae,ae.exports);var Te={exports:{}},Ne={exports:{}},Ae={exports:{}};!function(t,e){e=(0,xe.exports)((function(t,e){for(var n=t.length,r=0,o=e.length;r<o;r++)for(var i=e[r],s=0,a=i.length;s<a;s++)t[n++]=i[s];return t.length=n,t})),t.exports=e}(Ae,Ae.exports),function(t,e){var n=Wt.exports,r=yt.exports,o=Ae.exports;e=(0,ue.exports)({className:"Select",initialize:function(t){return this.length=0,t?n(t)?i.find(t):void(t.nodeType&&(this[0]=t,this.length=1)):this},find:function(t){var n=new e;return this.each((function(){o(n,this.querySelectorAll(t))})),n},each:function(t){return r(this,(function(e,n){t.call(e,n,e)})),this}});var i=new e(document);t.exports=e}(Ne,Ne.exports);var Se={exports:{}},Ie={exports:{}};!function(t,e){var n=Wt.exports,r=fe.exports,o=Ne.exports;e=function(t){return r(n(t)?new o(t):t)},t.exports=e}(Ie,Ie.exports),function(t,e){var n=Ie.exports;e=function(t){var e=(t=n(t))[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},t.exports=e}(Se,Se.exports);var Ce={exports:{}};!function(t,e){var n=yt.exports,r=Ie.exports;e=function(t){t=r(t),n(t,(function(t){(function(t){return"none"==getComputedStyle(t,"").getPropertyValue("display")})(t)&&(t.style.display=function(t){var e,n;return o[t]||(e=document.createElement(t),document.documentElement.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),o[t]=n),o[t]}(t.nodeName))}))};var o={};t.exports=e}(Ce,Ce.exports);var Oe={exports:{}},Me={exports:{}},Re={exports:{}};!function(t,e){var n=/([A-Z])/g,r=/[_.\- ]+/g,o=/(^-)|(-$)/g;e=function(t){return(t=t.replace(n,"-$1").toLowerCase().replace(r,"-").replace(o,"")).split("-")},t.exports=e}(Re,Re.exports),function(t,e){var n=Re.exports;e=function(t){return n(t).join("-")},t.exports=e}(Me,Me.exports);var Pe={exports:{}},De={exports:{}};!function(t,e){var n=Tt.exports;e=function(t,e){var r=function(o){var i=r.cache,s=""+(e?e.apply(this,arguments):o);return n(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return r.cache={},r},t.exports=e}(De,De.exports);var Le={exports:{}};!function(t,e){var n=Re.exports;function r(t,e){this[e]=t.replace(/\w/,(function(t){return t.toUpperCase()}))}e=function(t){var e=n(t),o=e[0];return e.shift(),e.forEach(r,e),o+e.join("")},t.exports=e}(Le,Le.exports);var ke={exports:{}};!function(t,e){e=function(t){return t.length<1?t:t[0].toUpperCase()+t.slice(1)},t.exports=e}(ke,ke.exports),function(t,e){var n=De.exports,r=Le.exports,o=ke.exports,i=Tt.exports,s=Me.exports;(e=n((function(t){if(t=t.replace(u,""),t=r(t),i(l,t))return t;for(var e=a.length;e--;){var n=a[e]+o(t);if(i(l,n))return n}return t}))).dash=n((function(t){var n=e(t);return(u.test(n)?"-":"")+s(n)}));var a=["O","ms","Moz","Webkit"],u=/^(O)|(ms)|(Moz)|(Webkit)|(-o-)|(-ms-)|(-moz-)|(-webkit-)/g,l=document.createElement("p").style;t.exports=e}(Pe,Pe.exports),function(t,e){var n=Wt.exports,r=Ot.exports,o=Me.exports,i=At.exports,s=Ut.exports,a=wt.exports,u=Ie.exports,l=Pe.exports,c=yt.exports;e=function(t,e,d){if(t=u(t),i(d)&&n(e))return function(t,e){return t.style[l(e)]||getComputedStyle(t,"").getPropertyValue(e)}(t[0],e);var p=e;r(p)||((p={})[e]=d),function(t,e){c(t,(function(t){var n=";";c(e,(function(t,e){e=l.dash(e),n+=e+":"+function(t,e){return a(e)&&!s(h,o(t))?e+"px":e}(e,t)+";"})),t.style.cssText+=n}))}(t,p)};var h=["column-count","columns","font-weight","line-weight","opacity","z-index","zoom"];t.exports=e}(Oe,Oe.exports);var Be={exports:{}};!function(t,e){var n=fe.exports,r=Ot.exports,o=Wt.exports,i=yt.exports,s=At.exports,a=Ie.exports;(e=function(t,e,n){if(t=a(t),s(n)&&o(e))return function(t,e){return t.getAttribute(e)}(t[0],e);var u=e;r(u)||((u={})[e]=n),function(t,e){i(t,(function(t){i(e,(function(e,n){t.setAttribute(n,e)}))}))}(t,u)}).remove=function(t,e){t=a(t),e=n(e),i(t,(function(t){i(e,(function(e){t.removeAttribute(e)}))}))},t.exports=e}(Be,Be.exports);var Fe={exports:{}};!function(t,e){var n=At.exports,r=yt.exports,o=Ie.exports;function i(t){return function(e,i){var s=(e=o(e))[0];if(n(i))return s?s[t]:"";s&&r(e,(function(e){e[t]=i}))}}e={html:i("innerHTML"),text:i("textContent"),val:i("value")},t.exports=e}(Fe,Fe.exports);var je={exports:{}};!function(t,e){e=function(t){var e=t?t.length:0;if(e)return t[e-1]},t.exports=e}(je,je.exports);var Ue={exports:{}};!function(t,e){var n=yt.exports,r=Ie.exports;e=function(t){t=r(t),n(t,(function(t){var e=t.parentNode;e&&e.removeChild(t)}))},t.exports=e}(Ue,Ue.exports);var Ve=Ue.exports,We={exports:{}};!function(t,e){var n=Be.exports,r=Wt.exports,o=Ot.exports,i=yt.exports;e=function(t,e,s){var a=e;return r(e)&&(a="data-"+e),o(e)&&(a={},i(e,(function(t,e){a["data-"+e]=t}))),n(t,a,s)},t.exports=e}(We,We.exports);var He={exports:{}},$e={exports:{}};!function(t,e){var n=Ut.exports;function r(){return!0}function o(){return!1}function i(t){var n,r=this.events[t.type],o=s.call(this,t,r);t=new e.Event(t);for(var i,a,u=0;(a=o[u++])&&!t.isPropagationStopped();)for(t.curTarget=a.el,i=0;(n=a.handlers[i++])&&!t.isImmediatePropagationStopped();)!1===n.handler.apply(a.el,[t])&&(t.preventDefault(),t.stopPropagation())}function s(t,e){var r,o,i,s,a=t.target,u=[],l=e.delegateCount;if(a.nodeType)for(;a!==this;a=a.parentNode||this){for(o=[],s=0;s<l;s++)void 0===o[r=(i=e[s]).selector+" "]&&(o[r]=n(this.querySelectorAll(r),a)),o[r]&&o.push(i);o.length&&u.push({el:a,handlers:o})}return l<e.length&&u.push({el:this,handlers:e.slice(l)}),u}e={add:function(t,e,n,r){var o,s={selector:n,handler:r};t.events||(t.events={}),(o=t.events[e])||((o=t.events[e]=[]).delegateCount=0,t.addEventListener(e,(function(){i.apply(t,arguments)}),!1)),n?o.splice(o.delegateCount++,0,s):o.push(s)},remove:function(t,e,n,r){var o=t.events;if(o&&o[e])for(var i,s=o[e],a=s.length;a--;)i=s[a],n&&i.selector!=n||i.handler!=r||(s.splice(a,1),i.selector&&s.delegateCount--)},Event:(0,ue.exports)({className:"Event",initialize:function(t){this.origEvent=t},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,preventDefault:function(){var t=this.origEvent;this.isDefaultPrevented=r,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.origEvent;this.isPropagationStopped=r,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.origEvent;this.isImmediatePropagationStopped=r,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}})},t.exports=e}($e,$e.exports),function(t,e){var n=$e.exports,r=At.exports,o=Ie.exports,i=yt.exports;function s(t){return function(e,s,a,u){e=o(e),r(u)&&(u=a,a=void 0),i(e,(function(e){n[t](e,s,a,u)}))}}e={on:s("add"),off:s("remove")},t.exports=e}(He,He.exports);var Ge={exports:{}},ze={exports:{}};!function(t,e){var n=Ct.exports,r=bt.exports,o=Et.exports;e=function(t,e,i){e=n(e,i);for(var s=!r(t)&&o(t),a=(s||t).length,u=0;u<a;u++){var l=s?s[u]:u;if(e(t[l],l,t))return!0}return!1},t.exports=e}(ze,ze.exports),function(t,e){var n=fe.exports,r=ze.exports,o=Ie.exports,i=Wt.exports,s=yt.exports;function a(t){return i(t)?t.split(/\s+/):n(t)}e={add:function(t,n){t=o(t);var r=a(n);s(t,(function(t){var n=[];s(r,(function(r){e.has(t,r)||n.push(r)})),0!==n.length&&(t.className+=(t.className?" ":"")+n.join(" "))}))},has:function(t,e){t=o(t);var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return r(t,(function(t){return n.test(t.className)}))},toggle:function(t,n){t=o(t),s(t,(function(t){if(!e.has(t,n))return e.add(t,n);e.remove(t,n)}))},remove:function(t,e){t=o(t);var n=a(e);s(t,(function(t){s(n,(function(e){t.classList.remove(e)}))}))}},t.exports=e}(Ge,Ge.exports);var qe={exports:{}};!function(t,e){var n=yt.exports,r=Ie.exports,o=Wt.exports;function i(t){return function(e,i){e=r(e),n(e,(function(e){if(o(i))e.insertAdjacentHTML(t,i);else{var n=e.parentNode;switch(t){case"beforebegin":n&&n.insertBefore(i,e);break;case"afterend":n&&n.insertBefore(i,e.nextSibling);break;case"beforeend":e.appendChild(i);break;case"afterbegin":e.prepend(i)}}}))}}e={before:i("beforebegin"),after:i("afterend"),append:i("beforeend"),prepend:i("afterbegin")},t.exports=e}(qe,qe.exports),function(t,e){var n=Ne.exports,r=Se.exports,o=Ce.exports,i=Oe.exports,s=Be.exports,a=Fe.exports,u=je.exports,l=Ue.exports,c=We.exports,h=He.exports,d=Ge.exports,p=qe.exports,f=At.exports,g=Wt.exports;e=function(t){return new n(t)},n.methods({offset:function(){return r(this)},hide:function(){return this.css("display","none")},show:function(){return o(this),this},first:function(){return e(this[0])},last:function(){return e(u(this))},get:function(t){return this[t]},eq:function(t){return e(this[t])},on:function(t,e,n){return h.on(this,t,e,n),this},off:function(t,e,n){return h.off(this,t,e,n),this},html:function(t){var e=a.html(this,t);return f(t)?e:this},text:function(t){var e=a.text(this,t);return f(t)?e:this},val:function(t){var e=a.val(this,t);return f(t)?e:this},css:function(t,e){var n=i(this,t,e);return v(t,e)?n:this},attr:function(t,e){var n=s(this,t,e);return v(t,e)?n:this},data:function(t,e){var n=c(this,t,e);return v(t,e)?n:this},rmAttr:function(t){return s.remove(this,t),this},remove:function(){return l(this),this},addClass:function(t){return d.add(this,t),this},rmClass:function(t){return d.remove(this,t),this},toggleClass:function(t){return d.toggle(this,t),this},hasClass:function(t){return d.has(this,t)},parent:function(){return e(this[0].parentNode)},append:function(t){return p.append(this,t),this},prepend:function(t){return p.prepend(this,t),this},before:function(t){return p.before(this,t),this},after:function(t){return p.after(this,t),this}});var v=function(t,e){return f(e)&&g(t)};t.exports=e}(Te,Te.exports);var Ye={},Xe={exports:{}},Je={exports:{}};!function(t,e){e="object"==typeof window&&"object"==typeof document&&9===document.nodeType,t.exports=e}(Je,Je.exports),function(t,e){e=Je.exports?window:dt,t.exports=e}(Xe,Xe.exports);var Ke={exports:{}},Qe={exports:{}},Ze={exports:{}};!function(t,e){var n=yt.exports,r=At.exports,o=_t.exports;e=function(t,e){r(e)&&(e=!0);var i=o(e),s={};return n(t,(function(t){s[t]=i?e(t):e})),s},t.exports=e}(Ze,Ze.exports);var tn={exports:{}},en={exports:{}};!function(t,e){e=function(t){return null==t?"":t.toString()},t.exports=e}(en,en.exports),function(t,e){var n=en.exports;e=function(t){return n(t).toLocaleLowerCase()},t.exports=e}(tn,tn.exports),function(t,e){var n=je.exports,r=jt.exports,o=tn.exports;e=function(t,e){for(var c,h=[],d=t;t;){if(c=!0,n(h)&&l[n(h)]){var p=new RegExp("</".concat(n(h),"[^>]*>")).exec(t);if(p){var f=t.substring(0,p.index);t=t.substring(p.index+p[0].length),f&&e.text&&e.text(f)}_("",n(h))}else{if(r(t,"\x3c!--")){var g=t.indexOf("--\x3e");g>=0&&(e.comment&&e.comment(t.substring(4,g)),t=t.substring(g+3),c=!1)}else if(r(t,"<!")){var v=t.match(i);v&&(e.text&&e.text(t.substring(0,v[0].length)),t=t.substring(v[0].length),c=!1)}else if(r(t,"</")){var m=t.match(s);m&&(t=t.substring(m[0].length),m[0].replace(s,_),c=!1)}else if(r(t,"<")){var y=t.match(a);y&&(t=t.substring(y[0].length),y[0].replace(a,x),c=!1)}if(c){var b=t.indexOf("<"),w=b<0?t:t.substring(0,b);t=b<0?"":t.substring(b),e.text&&e.text(w)}}if(d===t)throw Error("Parse Error: "+t);d=t}function x(t,n,r,i){if(n=o(n),(i=!!i)||h.push(n),e.start){var s={};r.replace(u,(function(t,e,n,r,o){s[e]=n||r||o||""})),e.start(n,s,i)}}function _(t,n){var r;if(n=o(n))for(r=h.length-1;r>=0&&h[r]!==n;r--);else r=0;if(r>=0){for(var i=h.length-1;i>=r;i--)e.end&&e.end(h[i]);h.length=r}}_()};var i=/^<!\s*doctype((?:\s+[\w:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,s=/^<\/([-A-Za-z0-9_]+)[^>]*>/,a=/^<([-A-Za-z0-9_]+)((?:\s+[-A-Za-z0-9_:@.]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,u=/([-A-Za-z0-9_:@.]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,l=(0,Ze.exports)("script,style".split(","));t.exports=e}(Qe,Qe.exports);var nn={exports:{}},rn={exports:{}};!function(t,e){e=function(t){var e=t.length,n=Array(e);e--;for(var r=0;r<=e;r++)n[e-r]=t[r];return n},t.exports=e}(rn,rn.exports),function(t,e){var n=rn.exports;e=(0,ue.exports)({initialize:function(){this.clear()},clear:function(){this._items=[],this.size=0},push:function(t){return this._items.push(t),++this.size},pop:function(){if(this.size)return this.size--,this._items.pop()},peek:function(){return this._items[this.size-1]},forEach:function(t,e){e=arguments.length>1?e:this;for(var n=this._items,r=this.size-1,o=0;r>=0;r--,o++)t.call(e,n[r],o,this)},toArr:function(){return n(this._items)}}),t.exports=e}(nn,nn.exports);var on={exports:{}};!function(t,e){var n=Ct.exports,r=Et.exports;e=function(t,e,o){e=n(e,o);for(var i=r(t),s=i.length,a={},u=0;u<s;u++){var l=i[u];a[l]=e(t[l],l,t)}return a},t.exports=e}(on,on.exports),function(t,e){var n=Qe.exports,r=nn.exports,o=Mt.exports,i=yt.exports,s=Wt.exports,a=on.exports;e={parse:function(t){var e=[],i=new r;return n(t,{start:function(t,e){e=a(e,(function(t){return function(t){return t.replace(/&quot;/g,'"')}(t)})),i.push({tag:t,attrs:e})},end:function(){var t=i.pop();if(i.size){var n=i.peek();o(n.content)||(n.content=[]),n.content.push(t)}else e.push(t)},comment:function(t){var n="\x3c!--".concat(t,"--\x3e"),r=i.peek();r?(r.content||(r.content=[]),r.content.push(n)):e.push(n)},text:function(t){var n=i.peek();n?(n.content||(n.content=[]),n.content.push(t)):e.push(t)}}),e},stringify:function t(e){var n="";return o(e)?i(e,(function(e){return n+=t(e)})):s(e)?n=e:(n+="<".concat(e.tag),i(e.attrs,(function(t,e){return n+=" ".concat(e,'="').concat(function(t){return t.replace(/"/g,"&quot;")}(t),'"')})),n+=">",e.content&&(n+=t(e.content)),n+="</".concat(e.tag,">")),n}},t.exports=e}(Ke,Ke.exports);var sn=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.pxToNum=Ye.executeAfterTransition=Ye.hasVerticalScrollbar=Ye.measuredScrollbarWidth=Ye.eventClient=Ye.drag=Ye.classPrefix=void 0;var an=sn(It.exports),un=sn(gt.exports),ln=sn(Xe.exports),cn=sn(Ke.exports),hn=sn(wt.exports),dn=sn(Ut.exports),pn=sn(zt.exports);function fn(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o),o.content&&fn(o.content,e)}}Ye.classPrefix=function(t){var e=`luna-${t}-`;function n(t){return an.default(un.default(t).split(/\s+/),(t=>dn.default(t,e)?t:t.replace(/[\w-]+/,(t=>`${e}${t}`)))).join(" ")}return function(t){if(/<[^>]*>/g.test(t))try{var e=cn.default.parse(t);return fn(e,(t=>{t.attrs&&t.attrs.class&&(t.attrs.class=n(t.attrs.class))})),cn.default.stringify(e)}catch(e){return n(t)}return n(t)}};var gn,vn="ontouchstart"in ln.default,mn={start:"touchstart",move:"touchmove",end:"touchend"},yn={start:"mousedown",move:"mousemove",end:"mouseup"};Ye.drag=function(t){return vn?mn[t]:yn[t]},Ye.eventClient=function(t,e){var n="x"===t?"clientX":"clientY";return e[n]?e[n]:e.changedTouches?e.changedTouches[0][n]:0},Ye.measuredScrollbarWidth=function(){if(hn.default(gn))return gn;if(!document)return 16;var t=document.createElement("div"),e=document.createElement("div");return t.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),e.setAttribute("style","height: 200px"),t.appendChild(e),document.body.appendChild(t),gn=t.offsetWidth-t.clientWidth,document.body.removeChild(t),gn},Ye.hasVerticalScrollbar=function(t){return t.scrollHeight>t.offsetHeight},Ye.executeAfterTransition=function(t,e){var n=r=>{r.target===t&&(t.removeEventListener("transitionend",n),e())};t.addEventListener("transitionend",n)},Ye.pxToNum=function(t){return pn.default(t.replace("px",""))};var bn=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(se,"__esModule",{value:!0});var wn=bn(ae.exports),xn=bn(Te.exports),_n=Ye,En=bn(yt.exports);class Tn extends wn.default{constructor(t,{compName:e}){super(),this.compName=e,this.c=_n.classPrefix(e),this.options={},this.container=t,this.$container=xn.default(t),this.$container.addClass(`luna-${e}`)}destroy(){this.$container.rmClass(`luna-${this.compName}`),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}setOption(t,e){var n=this.options,r={};"string"==typeof t?r[t]=e:r=t,En.default(r,((t,e)=>{var r=n[e];n[e]=t,this.emit("optionChange",e,t,r)}))}find(t){return this.$container.find(this.c(t))}}se.default=Tn;var Nn={},An={};function Sn(t,e){var n=t[3];return[(1-n)*e[0]+n*t[0],(1-n)*e[1]+n*t[1],(1-n)*e[2]+n*t[2],n+e[3]*(1-n)]}function In([t,e,n]){return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))}Object.defineProperty(An,"__esModule",{value:!0}),An.getContrastThreshold=An.isLargeFont=An.getAPCAThreshold=An.desiredLuminanceAPCA=An.contrastRatioByLuminanceAPCA=An.contrastRatioAPCA=An.luminanceAPCA=An.contrastRatio=An.luminance=An.rgbaToHsla=An.blendColors=void 0,An.blendColors=Sn,An.rgbaToHsla=function([t,e,n,r]){var o=Math.max(t,e,n),i=Math.min(t,e,n),s=o-i,a=o+i,u=.5*a;return[i===o?0:t===o?(1/6*(e-n)/s+1)%1:e===o?1/6*(n-t)/s+1/3:1/6*(t-e)/s+2/3,0===u||1===u?0:u<=.5?s/a:s/(2-a),u,r]},An.luminance=In,An.contrastRatio=function(t,e){var n=In(Sn(t,e)),r=In(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)};var Cn=12.82051282051282,On=.06;function Mn([t,e,n]){return.2126729*Math.pow(t,2.4)+.7151522*Math.pow(e,2.4)+.072175*Math.pow(n,2.4)}function Rn(t){return t>.03?t:t+Math.pow(.03-t,1.45)}function Pn(t,e){if(t=Rn(t),e=Rn(e),Math.abs(t-e)<5e-4)return 0;var n=0;return 100*(e>=t?(n=1.25*(Math.pow(e,.55)-Math.pow(t,.58)))<.001?0:n<.078?n-n*Cn*On:n-On:(n=1.25*(Math.pow(e,.62)-Math.pow(t,.57)))>-.001?0:n>-.078?n-n*Cn*On:n+On)}An.luminanceAPCA=Mn,An.contrastRatioAPCA=function(t,e){return Pn(Mn(t),Mn(e))},An.contrastRatioByLuminanceAPCA=Pn,An.desiredLuminanceAPCA=function(t,e,n){function r(){return n?Math.pow(Math.abs(Math.pow(t,.62)-(-e-On)/1.25),1/.57):Math.pow(Math.abs(Math.pow(t,.55)-(e+On)/1.25),1/.58)}t=Rn(t),e/=100;var o=r();return(o<0||o>1)&&(n=!n,o=r()),o};var Dn=[[12,-1,-1,-1,-1,100,90,80,-1,-1],[14,-1,-1,-1,100,90,80,60,60,-1],[16,-1,-1,100,90,80,60,55,50,50],[18,-1,-1,90,80,60,55,50,40,40],[24,-1,100,80,60,55,50,40,38,35],[30,-1,90,70,55,50,40,38,35,40],[36,-1,80,60,50,40,38,35,30,25],[48,100,70,55,40,38,35,30,25,20],[60,90,60,50,38,35,30,25,20,20],[72,80,55,40,35,30,25,20,20,20],[96,70,50,35,30,25,20,20,20,20],[120,60,40,30,25,20,20,20,20,20]];function Ln(t,e){var n=72*parseFloat(t.replace("px",""))/96;return-1!==["bold","bolder","600","700","800","900"].indexOf(e)?n>=14:n>=18}Dn.reverse(),An.getAPCAThreshold=function(t,e){var n=parseFloat(t.replace("px","")),r=parseFloat(e);for(var[o,...i]of Dn)if(n>=o)for(var[s,a]of[900,800,700,600,500,400,300,200,100].entries())if(r>=a){var u=i[i.length-1-s];return-1===u?null:u}return null},An.isLargeFont=Ln;var kn={aa:3,aaa:4.5},Bn={aa:4.5,aaa:7};An.getContrastThreshold=function(t,e){return Ln(t,e)?kn:Bn};var Fn={};function jn(t,e,n){var r=Un(e,n);return r.addEventListener("click",(function(t){t.stopPropagation()}),!1),t.appendChild(r),r}function Un(t,e){var n=document.createElement(t);if(e){var r=e.split(/\s+/);r=r.map((t=>"luna-dom-highlighter-"+t)),n.className=r.join(" ")}return n}function Vn(t){document.adoptedStyleSheets=[...document.adoptedStyleSheets,t]}Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.adoptStyleSheet=Fn.constrainNumber=Fn.ellipsify=Fn.createElement=Fn.createTextChild=Fn.createChild=Fn.log=Fn.Overlay=void 0,Fn.Overlay=class{constructor(t,e=[]){this.viewportSize={width:800,height:600},this.deviceScaleFactor=1,this.emulationScaleFactor=1,this.pageScaleFactor=1,this.pageZoomFactor=1,this.scrollX=0,this.scrollY=0,this.canvasWidth=0,this.canvasHeight=0,this._installed=!1,this._window=t,this._document=t.document,Array.isArray(e)||(e=[e]),this.style=e}setCanvas(t){this.canvas=t,this._context=t.getContext("2d")}install(){for(var t of this.style)Vn(t);this._installed=!0}uninstall(){var t=function(t){document.adoptedStyleSheets=document.adoptedStyleSheets.filter((e=>e!==t))};for(var e of this.style)t(e);this._installed=!1}reset(t){t&&(this.viewportSize=t.viewportSize,this.visualViewportSize=t.visualViewportSize,this.deviceScaleFactor=t.deviceScaleFactor,this.pageScaleFactor=t.pageScaleFactor,this.pageZoomFactor=t.pageZoomFactor,this.emulationScaleFactor=t.emulationScaleFactor,this.scrollX=Math.round(t.scrollX),this.scrollY=Math.round(t.scrollY)),this.resetCanvas()}resetCanvas(){this.canvas&&this._context&&(this.canvas.width=this.deviceScaleFactor*this.viewportSize.width,this.canvas.height=this.deviceScaleFactor*this.viewportSize.height,this.canvas.style.width=this.viewportSize.width+"px",this.canvas.style.height=this.viewportSize.height+"px",this._context.scale(this.deviceScaleFactor,this.deviceScaleFactor),this.canvasWidth=this.viewportSize.width,this.canvasHeight=this.viewportSize.height)}setPlatform(t){this.platform=t,this._installed||this.install()}dispatch(t){this[t.shift()].apply(this,t)}eventHasCtrlOrMeta(t){return"mac"===this.platform?t.metaKey&&!t.ctrlKey:t.ctrlKey&&!t.metaKey}get context(){if(!this._context)throw new Error("Context object is missing");return this._context}get document(){if(!this._document)throw new Error("Document object is missing");return this._document}get window(){if(!this._window)throw new Error("Window object is missing");return this._window}get installed(){return this._installed}},Fn.log=function(t){var e=document.getElementById("log");e||((e=jn(document.body,"div")).id="log"),jn(e,"div").textContent=t},Fn.createChild=jn,Fn.createTextChild=function(t,e){var n=document.createTextNode(e);return t.appendChild(n),n},Fn.createElement=Un,Fn.ellipsify=function(t,e){return t.length<=e?String(t):t.substr(0,e-1)+""},Fn.constrainNumber=function(t,e,n){return t<e?t=e:t>n&&(t=n),t},Fn.adoptStyleSheet=Vn;var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.drawPath=Wn.formatColor=Wn.formatRgba=Wn.parseHexa=Wn.createPathForQuad=Wn.hatchFillPath=Wn.applyMatrixToPoint=Wn.emptyBounds=Wn.buildPath=Wn.fillPathWithBoxStyle=Wn.drawPathWithLineStyle=void 0;var Hn=An;function $n(t,e,n){var r=0;function o(o){for(var i=[],s=0;s<o;++s){var a=Math.round(t[r++]*n);e.maxX=Math.max(e.maxX,a),e.minX=Math.min(e.minX,a);var u=Math.round(t[r++]*n);e.maxY=Math.max(e.maxY,u),e.minY=Math.min(e.minY,u),e.leftmostXForY[u]=Math.min(e.leftmostXForY[u]||Number.MAX_VALUE,a),e.rightmostXForY[u]=Math.max(e.rightmostXForY[u]||Number.MIN_VALUE,a),e.topmostYForX[a]=Math.min(e.topmostYForX[a]||Number.MAX_VALUE,u),e.bottommostYForX[a]=Math.max(e.bottommostYForX[a]||Number.MIN_VALUE,u),e.allPoints.push({x:a,y:u}),i.push(a,u)}return i}for(var i=t.length,s=new Path2D;r<i;)switch(t[r++]){case"M":s.moveTo.apply(s,o(1));break;case"L":s.lineTo.apply(s,o(1));break;case"C":s.bezierCurveTo.apply(s,o(3));break;case"Q":s.quadraticCurveTo.apply(s,o(2));break;case"Z":s.closePath()}return s}Wn.drawPathWithLineStyle=function(t,e,n,r=1){n&&n.color&&(t.save(),t.translate(.5,.5),t.lineWidth=r,"dashed"===n.pattern&&t.setLineDash([3,3]),"dotted"===n.pattern&&t.setLineDash([2,2]),t.strokeStyle=n.color,t.stroke(e),t.restore())},Wn.fillPathWithBoxStyle=function(t,e,n,r,o){o&&(t.save(),o.fillColor&&(t.fillStyle=o.fillColor,t.fill(e)),o.hatchColor&&qn(t,e,n,10,o.hatchColor,r,!1),t.restore())},Wn.buildPath=$n,Wn.emptyBounds=function(){return{minX:Number.MAX_VALUE,minY:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,maxY:-Number.MAX_VALUE,leftmostXForY:{},rightmostXForY:{},topmostYForX:{},bottommostYForX:{},allPoints:[]}},Wn.applyMatrixToPoint=function(t,e){var n=new DOMPoint(t.x,t.y);return{x:(n=n.matrixTransform(e)).x,y:n.y}};var Gn,zn="";function qn(t,e,n,r,o,i,s){if((t.canvas.width<n.maxX-n.minX||t.canvas.height<n.maxY-n.minY)&&(n={minX:0,maxX:t.canvas.width,minY:0,maxY:t.canvas.height,allPoints:[]}),!Gn||o!==zn){zn=o;var a=document.createElement("canvas");a.width=r,a.height=8;var u=a.getContext("2d");u.clearRect(0,0,a.width,a.height),u.rect(0,0,1,5),u.fillStyle=o,u.fill(),Gn=t.createPattern(a,"repeat")}t.save();var l=new DOMMatrix;Gn.setTransform(l.scale(s?-1:1,1).rotate(0,0,-45+i)),t.fillStyle=Gn,t.fill(e),t.restore()}function Yn(t){return(t.match(/#(\w\w)(\w\w)(\w\w)(\w\w)/)||[]).slice(1).map((t=>parseInt(t,16)/255))}function Xn(t,e){if("rgb"===e){var[n,r,o,i]=t;return`rgb(${(255*n).toFixed()} ${(255*r).toFixed()} ${(255*o).toFixed()}${1===i?"":" / "+Math.round(100*i)/100})`}if("hsl"===e){var[s,a,u,l]=Hn.rgbaToHsla(t);return`hsl(${Math.round(360*s)}deg ${Math.round(100*a)} ${Math.round(100*u)}${1===l?"":" / "+Math.round(100*l)/100})`}throw new Error("NOT_REACHED")}Wn.hatchFillPath=qn,Wn.createPathForQuad=function(t,e,n,r){var o=["M",t.p1.x,t.p1.y,"L",t.p2.x,t.p2.y,"L",t.p3.x,t.p3.y,"L",t.p4.x,t.p4.y];for(var i of e)o=[...o,"L",i.p4.x,i.p4.y,"L",i.p3.x,i.p3.y,"L",i.p2.x,i.p2.y,"L",i.p1.x,i.p1.y,"L",i.p4.x,i.p4.y,"L",t.p4.x,t.p4.y];return o.push("Z"),$n(o,n,r)},Wn.parseHexa=Yn,Wn.formatRgba=Xn,Wn.formatColor=function(t,e){return"rgb"===e||"hsl"===e?Xn(Yn(t),e):t.endsWith("FF")?t.substr(0,7):t},Wn.drawPath=function(t,e,n,r,o,i,s){t.save();var a=$n(e,i,s);return n&&(t.fillStyle=n,t.fill(a)),r&&("dashed"===o&&t.setLineDash([3,3]),"dotted"===o&&t.setLineDash([2,2]),t.lineWidth=2,t.strokeStyle=r,t.stroke(a)),t.restore(),a},Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.HighlightOverlay=void 0;var Jn=An,Kn=Fn,Qn=Wn;class Zn extends Kn.Overlay{constructor(){super(...arguments),this.gridLabelState={gridLayerCounter:0}}setContainer(t){this._container=t}setPlatform(t){this.container&&this.container.classList.add("luna-dom-highlighter-platform-"+t),super.setPlatform(t)}get container(){return this._container}reset(t){super.reset(t),this.tooltip.innerHTML="",this.gridLabelState.gridLayerCounter=0}install(){var t=this.document.createElement("canvas");t.id="canvas",t.classList.add("luna-dom-highlighter-fill"),this.container.append(t);var e=this.document.createElement("div");this.container.append(e),this.tooltip=e,this.setCanvas(t),super.install()}uninstall(){this.document.body.classList.remove("fill"),this.document.body.innerHTML="",super.uninstall()}drawHighlight(t){this.context.save();for(var e=Qn.emptyBounds(),n=t.paths.slice();n.length;){var r=n.pop();r&&(this.context.save(),Qn.drawPath(this.context,r.path,r.fillColor,r.outlineColor,void 0,e,this.emulationScaleFactor),n.length&&(this.context.globalCompositeOperation="destination-out",Qn.drawPath(this.context,n[n.length-1].path,"red",void 0,void 0,e,this.emulationScaleFactor)),this.context.restore())}this.context.restore(),this.context.save();var o=Boolean(t.paths.length&&t.showRulers&&e.minX<20&&e.maxX+20<this.canvasWidth),i=Boolean(t.paths.length&&t.showRulers&&e.minY<20&&e.maxY+20<this.canvasHeight);return t.showRulers&&this.drawAxis(this.context,o,i),t.paths.length&&(t.showExtensionLines&&function(t,e,n,r,o,i,s,a){t.save();var u=s,l=a;if(t.strokeStyle=rr,t.lineWidth=1,t.translate(.5,.5),n)for(var c in e.rightmostXForY)t.beginPath(),t.moveTo(u,Number(c)),t.lineTo(e.rightmostXForY[c],Number(c)),t.stroke();else for(var h in e.leftmostXForY)t.beginPath(),t.moveTo(0,Number(h)),t.lineTo(e.leftmostXForY[h],Number(h)),t.stroke();if(r)for(var d in e.bottommostYForX)t.beginPath(),t.moveTo(Number(d),l),t.lineTo(Number(d),e.topmostYForX[d]),t.stroke();else for(var p in e.topmostYForX)t.beginPath(),t.moveTo(Number(p),0),t.lineTo(Number(p),e.topmostYForX[p]),t.stroke();t.restore()}(this.context,e,o,i,0,0,this.canvasWidth,this.canvasHeight),t.elementInfo&&function(t,e,n,r,o,i){t.innerHTML="";var s=Kn.createChild(t,"div"),a=Kn.createChild(s,"div","tooltip-content"),u=function(t,e){var n=Kn.createElement("div","element-info"),r=Kn.createChild(n,"div","element-info-header"),o=function(t){return t.layoutObjectName&&t.layoutObjectName.endsWith("Grid")?"grid":t.layoutObjectName&&"LayoutNGFlexibleBox"===t.layoutObjectName?"flex":null}(t);o&&Kn.createChild(r,"div",`element-layout-type ${o}`);var i=Kn.createChild(r,"div","element-description");Kn.createChild(i,"span","material-tag-name").textContent=t.tagName;var s=Kn.createChild(i,"span","material-node-id");s.textContent=t.idValue?"#"+Kn.ellipsify(t.idValue,80):"",s.classList.toggle("hidden",!t.idValue);var a=Kn.createChild(i,"span","material-class-name");s.textContent.length<80&&(a.textContent=Kn.ellipsify(t.className||"",80-s.textContent.length)),a.classList.toggle("hidden",!t.className);var u=Kn.createChild(r,"div","dimensions");Kn.createChild(u,"span","material-node-width").textContent=String(Math.round(100*t.nodeWidth)/100),Kn.createTextChild(u,""),Kn.createChild(u,"span","material-node-height").textContent=String(Math.round(100*t.nodeHeight)/100);var l,c=t.style||{};t.isLockedAncestor&&x("Showing content-visibility ancestor",""),t.isLocked&&x("Descendants are skipped due to content-visibility","");var h=c.color;h&&"#00000000"!==h&&_("Color",h,e);var d=c["font-family"],p=c["font-size"];d&&"0px"!==p&&x("Font",`${p} ${d}`);var f=c["background-color"];f&&"#00000000"!==f&&_("Background",f,e);var g=c.margin;g&&"0px"!==g&&x("Margin",g);var v=c.padding;v&&"0px"!==v&&x("Padding",v);var m=t.contrast?t.contrast.backgroundColor:null,y=h&&"#00000000"!==h&&m&&"#00000000"!==m;function b(){l||(l=Kn.createChild(n,"div","element-info-body"))}function w(t,e,n){b();var r=Kn.createChild(l,"div","element-info-row");return e&&r.classList.add(e),Kn.createChild(r,"div","element-info-name").textContent=t,Kn.createChild(r,"div","element-info-gap"),Kn.createChild(r,"div",n||"")}function x(t,e){Kn.createTextChild(w(t,"","element-info-value-text"),e)}function _(t,e,n){var r=w(t,"","element-info-value-color"),o=Kn.createChild(r,"div","color-swatch");Kn.createChild(o,"div","color-swatch-inner").style.backgroundColor=e,Kn.createTextChild(r,Qn.formatColor(e,n))}return t.showAccessibilityInfo&&(function(t){b();var e=Kn.createChild(l,"div","element-info-row element-info-section");Kn.createChild(e,"div","section-name").textContent=t,Kn.createChild(Kn.createChild(e,"div","separator-container"),"div","separator")}("Accessibility"),y&&c.color&&t.contrast&&function(t,e){var n=Qn.parseHexa(t),r=Qn.parseHexa(e.backgroundColor);n[3]*=e.textOpacity;var o=w("Contrast","","element-info-value-contrast"),i=Kn.createChild(o,"div","contrast-text");i.style.color=Qn.formatRgba(n,"rgb"),i.style.backgroundColor=e.backgroundColor,i.textContent="Aa";var s=Kn.createChild(o,"span");if("apca"===e.contrastAlgorithm){var a=Jn.contrastRatioAPCA(n,r),u=Jn.getAPCAThreshold(e.fontSize,e.fontWeight);s.textContent=String(Math.floor(100*a)/100)+"%",Kn.createChild(o,"div",null===u||Math.abs(a)<u?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}else if("aa"===e.contrastAlgorithm||"aaa"===e.contrastAlgorithm){var l=Jn.contrastRatio(n,r),c=Jn.getContrastThreshold(e.fontSize,e.fontWeight)[e.contrastAlgorithm];s.textContent=String(Math.floor(100*l)/100),Kn.createChild(o,"div",l<c?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}}(c.color,t.contrast),x("Name",t.accessibleName),x("Role",t.accessibleRole),function(t,e){Kn.createChild(w(t,"","element-info-value-icon"),"div",e)}("Keyboard-focusable",t.isKeyboardFocusable?"a11y-icon a11y-icon-ok":"a11y-icon a11y-icon-not-ok")),n}(e,n);a.appendChild(u);var l,c=a.offsetWidth,h=a.offsetHeight,d=10,p=o-2-d-16;if(r.maxX-r.minX<36)l=.5*(r.minX+r.maxX)-8;else{var f=r.minX+d,g=r.maxX-d-16;l=f>12&&f<p?f:Kn.constrainNumber(12,f,g)}var v=l<12||l>p,m=l-d;m=Kn.constrainNumber(m,2,o-c-2);var y=r.minY-8-h,b=!0;y<0?(y=Math.min(i-h,r.maxY+8),b=!1):r.minY>i&&(y=i-8-h);var w=m>=r.minX&&m+c<=r.maxX&&y>=r.minY&&y+h<=r.maxY;if(m<r.maxX&&m+c>r.minX&&y<r.maxY&&y+h>r.minY&&!w)a.style.display="none";else if(a.style.top=y+"px",a.style.left=m+"px",!v){var x=Kn.createChild(a,"div","tooltip-arrow");x.style.clipPath=b?"polygon(0 0, 100% 0, 50% 100%)":"polygon(50% 0, 0 100%, 100% 100%)",x.style.top=(b?h-1:-8)+"px",x.style.left=l-m+"px"}}(this.tooltip,t.elementInfo,t.colorFormat,e,this.canvasWidth,this.canvasHeight)),this.context.restore(),{bounds:e}}drawAxis(t,e,n){t.save();var r=this.pageZoomFactor*this.pageScaleFactor*this.emulationScaleFactor,o=this.scrollX*this.pageScaleFactor,i=this.scrollY*this.pageScaleFactor;function s(t){return Math.round(t*r)}function a(t){return Math.round(t/r)}var u=this.canvasWidth/r,l=this.canvasHeight/r,c=50;t.save(),t.fillStyle=nr,n?t.fillRect(0,s(l)-15,s(u),s(l)):t.fillRect(0,0,s(u),15),t.globalCompositeOperation="destination-out",t.fillStyle="red",e?t.fillRect(s(u)-15,0,s(u),s(l)):t.fillRect(0,0,15,s(l)),t.restore(),t.fillStyle=nr,e?t.fillRect(s(u)-15,0,s(u),s(l)):t.fillRect(0,0,15,s(l)),t.lineWidth=1,t.strokeStyle=er,t.fillStyle=er,t.save(),t.translate(-o,.5-i);for(var h=l+a(i),d=100;d<h;d+=100)t.save(),t.translate(o,s(d)),t.rotate(-Math.PI/2),t.fillText(String(d),2,e?s(u)-7:13),t.restore();t.translate(.5,-.5);for(var p=u+a(o),f=100;f<p;f+=100)t.save(),t.fillText(String(f),s(f)+2,n?i+s(l)-7:i+13),t.restore();t.restore(),t.save(),e&&(t.translate(s(u),0),t.scale(-1,1)),t.translate(-o,.5-i);for(var g=l+a(i),v=c;v<g;v+=c){t.beginPath(),t.moveTo(o,s(v));var m=v%100?5:8;t.lineTo(o+m,s(v)),t.stroke()}t.strokeStyle=tr;for(var y=5;y<g;y+=5)y%c&&(t.beginPath(),t.moveTo(o,s(y)),t.lineTo(o+5,s(y)),t.stroke());t.restore(),t.save(),n&&(t.translate(0,s(l)),t.scale(1,-1)),t.translate(.5-o,-i);for(var b=u+a(o),w=c;w<b;w+=c){t.beginPath(),t.moveTo(s(w),i);var x=w%100?5:8;t.lineTo(s(w),i+x),t.stroke()}t.strokeStyle=tr;for(var _=5;_<b;_+=5)_%c&&(t.beginPath(),t.moveTo(s(_),i),t.lineTo(s(_),i+5),t.stroke());t.restore(),t.restore()}}Nn.HighlightOverlay=Zn;var tr="rgba(0,0,0,0.2)",er="rgba(0,0,0,0.7)",nr="rgba(255, 255, 255, 0.8)",rr="rgba(128, 128, 128, 0.3)",or={exports:{}},ir={exports:{}};!function(t,e){var n=Ee.exports,r=yt.exports,o=fe.exports;e=(0,ue.exports)({initialize:function(){this._listeners=[]},addListener:function(t){this._listeners.push(t)},rmListener:function(t){var e=this._listeners.indexOf(t);e>-1&&this._listeners.splice(e,1)},rmAllListeners:function(){this._listeners=[]},emit:function(){var t=this,e=o(arguments),i=n(this._listeners);r(i,(function(n){return n.apply(t,e)}),this)}},{mixin:function(t){r(["addListener","rmListener","emit","rmAllListeners"],(function(n){t[n]=e.prototype[n]})),t._listeners=t._listeners||[]}}),t.exports=e}(ir,ir.exports);var sr={exports:{}},ar={exports:{}};!function(t,e){e=function(t){return!(!t||1!==t.nodeType)},t.exports=e}(ar,ar.exports),function(t,e){var n=ar.exports,r=Wt.exports,o=jt.exports,i=Ge.exports,s=Oe.exports,a=yt.exports,u=_t.exports;function l(t){for(var e="div",n="",r=[],i=[],s="",a=0,u=t.length;a<u;a++){var l=t[a];"#"===l||"."===l?(i.push(s),s=l):s+=l}i.push(s);for(var c=0,h=i.length;c<h;c++)(s=i[c])&&(o(s,"#")?n=s.slice(1):o(s,".")?r.push(s.slice(1)):e=s);return{tagName:e,id:n,classes:r}}e=function(t,e){for(var c=arguments.length,h=new Array(c>2?c-2:0),d=2;d<c;d++)h[d-2]=arguments[d];(n(e)||r(e))&&(h.unshift(e),e=null),e||(e={});var p=l(t),f=p.tagName,g=p.id,v=p.classes,m=document.createElement(f);return g&&m.setAttribute("id",g),i.add(m,v),a(h,(function(t){r(t)?m.appendChild(document.createTextNode(t)):n(t)&&m.appendChild(t)})),a(e,(function(t,e){r(t)?m.setAttribute(e,t):u(t)&&o(e,"on")?m.addEventListener(e.slice(2),t,!1):"style"===e&&s(m,t)})),m},t.exports=e}(sr,sr.exports),function(t,e){var n=ir.exports,r=sr.exports,o=He.exports,i=Oe.exports,s=Ut.exports,a=le.exports,u=Xe.exports;e=u.ResizeObserver?n.extend({initialize:function(t){var e=this;if(t._resizeSensor)return t._resizeSensor;this.callSuper(n,"initialize");var r=new u.ResizeObserver((function(){return e.emit()}));r.observe(t),t._resizeSensor=this,this._resizeObserver=r,this._el=t},destroy:function(){var t=this._el;t._resizeSensor&&(this.rmAllListeners(),delete t._resizeSensor,this._resizeObserver.unobserve(t))}}):n.extend({initialize:function(t){if(t._resizeSensor)return t._resizeSensor;this.callSuper(n,"initialize"),this._el=t,t._resizeSensor=this,s(["absolute","relative","fixed","sticky"],i(t,"position"))||i(t,"position","relative"),this._appendResizeSensor(),this._bindEvent()},destroy:function(){var t=this._el;t._resizeSensor&&(this.rmAllListeners(),delete t._resizeSensor,t.removeChild(this._resizeSensorEl))},_appendResizeSensor:function(){var t=this._el,e={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},n={position:"absolute",left:"0px",top:"0px",transition:"0s"},o=r("div",{style:n}),i=r("div.resize-sensor-expand",{style:e},o),s=r("div.resize-sensor-shrink",{style:e},r("div",{style:a({width:"200%",height:"200%"},n)})),u=r("div.resize-sensor",{dir:"ltr",style:e},i,s);this._expandEl=i,this._expandChildEl=o,this._shrinkEl=s,this._resizeSensorEl=u,t.appendChild(u),this._resetExpandShrink()},_bindEvent:function(){var t=this;o.on(this._expandEl,"scroll",(function(){return t._onScroll()})),o.on(this._shrinkEl,"scroll",(function(){return t._onScroll()}))},_onScroll:function(){this.emit(),this._resetExpandShrink()},_resetExpandShrink:function(){var t=this._el,e=t.offsetWidth,n=t.offsetHeight;i(this._expandChildEl,{width:e+10,height:n+10}),a(this._expandEl,{scrollLeft:e+10,scrollTop:n+10}),a(this._shrinkEl,{scrollLeft:e+10,scrollTop:n+10})}}),t.exports=e}(or,or.exports);var ur={exports:{}},lr={exports:{}};!function(t,e){e=function(t,e,n){var r;return function(){var o=this,i=arguments,s=function(){r=null,t.apply(o,i)};n||clearTimeout(r),n&&r||(r=setTimeout(s,e))}},t.exports=e}(lr,lr.exports),function(t,e){var n=lr.exports;e=function(t,e){return n(t,e,!0)},t.exports=e}(ur,ur.exports);var cr={exports:{}},hr={exports:{}};!function(t,e){var n=At.exports;e=function(t,e,r){return n(r)&&(r=e,e=void 0),!n(e)&&t<e?e:t>r?r:t},t.exports=e}(hr,hr.exports);var dr={exports:{}};!function(t,e){e=function(t){var e,i,s=t[0]/255,a=t[1]/255,u=t[2]/255,l=n(s,a,u),c=r(s,a,u),h=c-l;(e=n(60*(e=c===l?0:s===c?(a-u)/h:a===c?2+(u-s)/h:4+(s-a)/h),360))<0&&(e+=360);var d=(l+c)/2;i=c===l?0:d<=.5?h/(c+l):h/(2-c-l);var p=[o(e),o(100*i),o(100*d)];return t[3]&&(p[3]=t[3]),p};var n=Math.min,r=Math.max,o=Math.round;t.exports=e}(dr,dr.exports);var pr={exports:{}};!function(t,e){e=function(t){var e,r,o,i=t[0]/360,s=t[1]/100,a=t[2]/100,u=[];if(t[3]&&(u[3]=t[3]),0===s)return o=n(255*a),u[0]=u[1]=u[2]=o,u;for(var l=2*a-(e=a<.5?a*(1+s):a+s-a*s),c=0;c<3;c++)(r=i+1/3*-(c-1))<0&&r++,r>1&&r--,o=6*r<1?l+6*(e-l)*r:2*r<1?e:3*r<2?l+(e-l)*(2/3-r)*6:l,u[c]=n(255*o);return u};var n=Math.round;t.exports=e}(pr,pr.exports);var fr={exports:{}},gr={exports:{}},vr={exports:{}};!function(t,e){var n=wt.exports;e=function(t){return n(t)&&t%1==0},t.exports=e}(vr,vr.exports),function(t,e){var n=vr.exports;e=function(t){return!!n(t)&&t%2!=0},t.exports=e}(gr,gr.exports),function(t,e){var n=gr.exports;e={encode:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];e.push((o>>>4).toString(16)),e.push((15&o).toString(16))}return e.join("")},decode:function(t){var e=[],r=t.length;n(r)&&r--;for(var o=0;o<r;o+=2)e.push(parseInt(t.substr(o,2),16));return e}},t.exports=e}(fr,fr.exports),function(t,e){var n=Wt.exports,r=hr.exports,o=dr.exports,i=pr.exports,s=fr.exports;e=(0,ue.exports)({initialize:function(t){n(t)&&(t=e.parse(t)),this.model=t.model,this.val=t.val},toRgb:function(){var t=this.val;"hsl"===this.model&&(t=i(t));var e="rgba";return 1===t[3]&&(e="rgb",t=t.slice(0,3)),e+"("+t.join(", ")+")"},toHex:function(){var t=this.val;"hsl"===this.model&&(t=i(t));var e=s.encode(t.slice(0,3));return e[0]===e[1]&&e[2]===e[3]&&e[4]===e[5]&&(e=e[0]+e[2]+e[5]),"#"+e},toHsl:function(){var t=this.val;"rgb"===this.model&&(t=o(t));var e="hsla";return 1===t[3]&&(e="hsl",t=t.slice(0,3)),t[1]=t[1]+"%",t[2]=t[2]+"%",e+"("+t.join(", ")+")"}},{parse:function(t){var e,n,o=[0,0,0,1],i="rgb";if(n=t.match(a))for(n=n[1],e=0;e<3;e++)o[e]=parseInt(n[e]+n[e],16);else if(n=t.match(u))for(n=n[1],e=0;e<3;e++){var s=2*e;o[e]=parseInt(n.slice(s,s+2),16)}else if(n=t.match(l)){for(e=0;e<3;e++)o[e]=parseInt(n[e+1],0);n[4]&&(o[3]=parseFloat(n[4]))}else if(n=t.match(c)){for(e=0;e<3;e++)o[e]=Math.round(2.55*parseFloat(n[e+1]));n[4]&&(o[3]=parseFloat(n[4]))}else(n=t.match(h))&&(i="hsl",o=[(parseFloat(n[1])%360+360)%360,r(parseFloat(n[2]),0,100),r(parseFloat(n[3]),0,100),r(parseFloat(n[4]),0,1)]);return{val:o,model:i}}});var a=/^#([a-fA-F0-9]{3})$/,u=/^#([a-fA-F0-9]{6})$/,l=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,c=/^rgba?\(\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,h=/^hsla?\(\s*([+-]?\d*[.]?\d+)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/;t.exports=e}(cr,cr.exports);var mr={exports:{}};!function(t,e){var n=en.exports;e=function(t){return n(t).toLocaleUpperCase()},t.exports=e}(mr,mr.exports);var yr={};Object.defineProperty(yr,"__esModule",{value:!0}),yr.default=[["menuitem","command"],["rel","roletype"],["article","article"],["header","banner"],["input","button",[["type","checkbox"]]],["summary","button",[["aria-expanded","false"]]],["summary","button",[["aria-expanded","true"]]],["input","button",[["type","button"]]],["input","button",[["type","image"]]],["input","button",[["type","reset"]]],["input","button",[["type","submit"]]],["button","button"],["td","cell"],["input","checkbox",[["type","checkbox"]]],["th","columnheader"],["input","combobox",[["type","email"]]],["input","combobox",[["type","search"]]],["input","combobox",[["type","tel"]]],["input","combobox",[["type","text"]]],["input","combobox",[["type","url"]]],["input","combobox",[["type","url"]]],["select","combobox"],["select","combobox",[["size",1]]],["aside","complementary"],["footer","contentinfo"],["dd","definition"],["dialog","dialog"],["body","document"],["figure","figure"],["form","form"],["form","form"],["form","form"],["span","generic"],["div","generic"],["table","grid",[["role","grid"]]],["td","gridcell",[["role","gridcell"]]],["details","group"],["fieldset","group"],["optgroup","group"],["h1","heading"],["h2","heading"],["h3","heading"],["h4","heading"],["h5","heading"],["h6","heading"],["img","img"],["img","img"],["a","link"],["area","link"],["link","link"],["menu","list"],["ol","list"],["ul","list"],["select","listbox"],["select","listbox"],["select","listbox"],["datalist","listbox"],["li","listitem"],["main","main"],["math","math"],["menuitem","command"],["nav","navigation"],["option","option"],["progress","progressbar"],["input","radio",[["type","radio"]]],["section","region"],["section","region"],["frame","region"],["tr","row"],["tbody","rowgroup"],["tfoot","rowgroup"],["thead","rowgroup"],["th","rowheader",[["scope","row"]]],["input","searchbox",[["type","search"]]],["hr","separator"],["input","slider",[["type","range"]]],["input","spinbutton",[["type","number"]]],["output","status"],["table","table"],["dfn","term"],["input","textbox"],["input","textbox",[["type","email"]]],["input","textbox",[["type","tel"]]],["input","textbox",[["type","text"]]],["input","textbox",[["type","url"]]],["textarea","textbox"]],function(t,e){var n=dt&&dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(se),i=Nn,s=Ye,a=n(or.exports),u=n(ur.exports),l=n(tn.exports),c=n(yt.exports),h=n(cr.exports),d=n(fr.exports),p=n(mr.exports),f=n(le.exports),g=n(Le.exports),v=n(Ut.exports),m=n(zt.exports),y=n(yr),b=n(Wt.exports);class w extends r.default{constructor(t,{showRulers:e=!1,showExtensionLines:n=!1,showInfo:r=!0,showStyles:o=!0,showAccessibilityInfo:s=!0,colorFormat:a="hex",contentColor:l="rgba(111, 168, 220, .66)",paddingColor:c="rgba(147, 196, 125, .55)",borderColor:h="rgba(255, 229, 153, .66)",marginColor:d="rgba(246, 178, 107, .66)",monitorResize:p=!0}={}){super(t,{compName:"dom-highlighter"}),this.overlay=new i.HighlightOverlay(window),this.reset=()=>{var t=document.documentElement.clientWidth,e=document.documentElement.clientHeight;this.overlay.reset({viewportSize:{width:t,height:e},deviceScaleFactor:1,pageScaleFactor:1,pageZoomFactor:1,emulationScaleFactor:1,scrollX:window.scrollX,scrollY:window.scrollY})},this.options={showRulers:e,showExtensionLines:n,showInfo:r,showStyles:o,showAccessibilityInfo:s,colorFormat:a,contentColor:l,paddingColor:c,borderColor:h,marginColor:d,monitorResize:p},this.overlay.setContainer(t),this.overlay.setPlatform("mac"),this.redraw=u.default((()=>{this.reset(),this.draw()}),16),this.redraw(),this.bindEvent()}highlight(t,e){e&&f.default(this.options,e),this.target=t,t instanceof HTMLElement&&this.options.monitorResize&&(this.resizeSensor&&this.resizeSensor.destroy(),this.resizeSensor=new a.default(t),this.resizeSensor.addListener(this.redraw)),this.redraw()}hide(){this.target=null,this.redraw()}intercept(t){this.interceptor=t}destroy(){window.removeEventListener("resize",this.redraw),window.removeEventListener("scroll",this.redraw),this.resizeSensor&&this.resizeSensor.destroy(),super.destroy()}draw(){var{target:t}=this;t&&(t instanceof Text?this.drawText(t):this.drawElement(t))}drawText(t){var{options:e}=this,n=document.createRange();n.selectNode(t);var{left:r,top:o,width:i,height:s}=n.getBoundingClientRect();n.detach();var a={paths:[{path:this.rectToPath({left:r,top:o,width:i,height:s}),fillColor:E(e.contentColor),name:"content"}],showExtensionLines:e.showExtensionLines,showRulers:e.showRulers};e.showInfo&&(a.elementInfo={tagName:"#text",nodeWidth:i,nodeHeight:s}),this.overlay.drawHighlight(a)}drawElement(t){var e={paths:this.getPaths(t),showExtensionLines:this.options.showExtensionLines,showRulers:this.options.showRulers,colorFormat:this.options.colorFormat};if(this.options.showInfo&&(e.elementInfo=this.getElementInfo(t)),this.interceptor){var n=this.interceptor(e);n&&(e=n)}this.overlay.drawHighlight(e)}getPaths(t){var{options:e}=this,n=window.getComputedStyle(t),{left:r,top:o,width:i,height:a}=t.getBoundingClientRect(),u=t=>s.pxToNum(n.getPropertyValue(t)),l=u("margin-left"),c=u("margin-right"),h=u("margin-top"),d=u("margin-bottom"),p=u("border-left-width"),f=u("border-right-width"),g=u("border-top-width"),v=u("border-bottom-width"),m=u("padding-left"),y=u("padding-right"),b=u("padding-top"),w=u("padding-bottom");return[{path:this.rectToPath({left:r+p+m,top:o+g+b,width:i-p-m-f-y,height:a-g-b-v-w}),fillColor:E(e.contentColor),name:"content"},{path:this.rectToPath({left:r+p,top:o+g,width:i-p-f,height:a-g-v}),fillColor:E(e.paddingColor),name:"padding"},{path:this.rectToPath({left:r,top:o,width:i,height:a}),fillColor:E(e.borderColor),name:"border"},{path:this.rectToPath({left:r-l,top:o-h,width:i+l+c,height:a+h+d}),fillColor:E(e.marginColor),name:"margin"}]}getElementInfo(t){var{width:e,height:n}=t.getBoundingClientRect(),r=t.getAttribute("class")||"";r=r.split(/\s+/).map((t=>"."+t)).join("");var o={tagName:l.default(t.tagName),className:r,idValue:t.id,nodeWidth:e,nodeHeight:n};return this.options.showStyles&&(o.style=this.getStyles(t)),this.options.showAccessibilityInfo&&f.default(o,this.getAccessibilityInfo(t)),o}getStyles(t){for(var e=window.getComputedStyle(t),n=!1,r=t.childNodes,o=0,i=r.length;o<i;o++)3===r[o].nodeType&&(n=!0);var s=[];return n&&s.push("color","font-family","font-size","line-height"),s.push("padding","margin","background-color"),T(e,s)}getAccessibilityInfo(t){var e=window.getComputedStyle(t);return o()({showAccessibilityInfo:!0,contrast:o()({contrastAlgorithm:"aa",textOpacity:.1},T(e,["font-size","font-weight","background-color","text-opacity"],!0)),isKeyboardFocusable:this.isFocusable(t)},this.getAccessibleNameAndRole(t))}isFocusable(t){var e=l.default(t.tagName);if(v.default(["a","button","input","textarea","select","details"],e))return!0;var n=t.getAttribute("tabindex");return!!(n&&m.default(n)>-1)}getAccessibleNameAndRole(t){var e=t.getAttribute("labelledby")||t.getAttribute("aria-label"),n=t.getAttribute("role"),r=l.default(t.tagName);return y.default.forEach((e=>{if(!n){var o=e[0],i=e[2];if(o===r){if(i)for(var s of i)if(t.getAttribute(s[0])!==s[1])return;n=e[1]}}})),{accessibleName:e||t.getAttribute("title")||"",accessibleRole:n||"generic"}}bindEvent(){window.addEventListener("resize",this.redraw),window.addEventListener("scroll",this.redraw),this.on("optionChange",(()=>this.redraw()))}rectToPath({left:t,top:e,width:n,height:r}){var o=[];return o.push("M",t,e),o.push("L",t+n,e),o.push("L",t+n,e+r),o.push("L",t,e+r),o.push("Z"),o}}e.default=w,t.exports=w,t.exports.default=w;var x=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,_=/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*(?:\.\d+)?)\)$/;function E(t){return b.default(t)?t:t.a?`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`:`rgb(${t.r}, ${t.g}, ${t.b})`}function T(t,e,n=!1){var r={};return c.default(e,(e=>{var o,i=t["text-opacity"===e?"color":e];i&&(o=i,(x.test(o)||_.test(o))&&(i=function(t){var e=h.default.parse(t),n=e.val[3]||1;return e.val=e.val.slice(0,3),e.val.push(Math.round(255*n)),"#"+p.default(d.default.encode(e.val))}(i),"text-opacity"===e&&(i=i.slice(7),i=d.default.decode(i)[0]/255)),n&&(e=g.default(e)),r[e]=i)})),r}}(ie,ie.exports);var br,wr=(br=ie.exports)&&br.__esModule&&Object.prototype.hasOwnProperty.call(br,"default")?br.default:br,xr={exports:{}};!function(t,e){e=function(t){var e=document.createElement("style");return e.textContent=t,e.type="text/css",document.head.appendChild(e),e},t.exports=e}(xr,xr.exports);var _r=xr.exports,Er={exports:{}};!function(t,e){e=(0,Dt.exports)(ce.exports,!0),t.exports=e}(Er,Er.exports);var Tr=Er.exports,Nr={showInfo:!0,showAccessibilityInfo:!0,showStyles:!0,contentColor:{r:111,g:168,b:220,a:.66},paddingColor:{r:147,g:196,b:125,a:.55},borderColor:{r:255,g:229,b:153,a:.66},marginColor:{r:246,g:178,b:107,a:.5},eventTargetColor:{r:255,g:196,b:196,a:.66},shapeColor:{r:96,g:82,b:177,a:.8},shapeMarginColor:{r:96,g:82,b:127,a:.6}},Ar=new class extends V{constructor(){super(),this.container=document.createElement("div"),this.isInit=!1}init(){_r('.luna-dom-highlighter{position:fixed;left:0;top:0;width:100%;height:100%;z-index:100000;pointer-events:none;font-size:13px}.luna-dom-highlighter-fill{position:absolute;top:0;right:0;bottom:0;left:0}.luna-dom-highlighter-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-dom-highlighter-platform-mac{color:#303942;font-family:\'.SFNSDisplay-Regular\',\'Helvetica Neue\',\'Lucida Grande\',sans-serif}.luna-dom-highlighter-platform-windows{font-family:\'Segoe UI\',Tahoma,sans-serif}.luna-dom-highlighter-px{color:gray}#luna-dom-highlighter-element-title{position:absolute;z-index:10}.luna-dom-highlighter-tooltip-content{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff;padding:5px 8px;border:1px solid #fff;border-radius:3px;box-sizing:border-box;min-width:100px;max-width:min(300px,100% - 4px);z-index:2;background-clip:padding-box;will-change:transform;text-rendering:optimizeLegibility;pointer-events:none;filter:drop-shadow(0 2px 4px rgba(0,0,0,.35))}.luna-dom-highlighter-tooltip-content .luna-dom-highlighter-tooltip-arrow{background:#fff;width:15px;height:8px;position:absolute}.luna-dom-highlighter-element-info-section{margin-top:12px;margin-bottom:6px}.luna-dom-highlighter-section-name{color:#333;font-weight:500;font-size:10px;text-transform:uppercase;letter-spacing:.05em;line-height:12px}.luna-dom-highlighter-element-info{display:flex;flex-direction:column}.luna-dom-highlighter-element-info-header{display:flex;align-items:center}.luna-dom-highlighter-element-info-body{display:flex;flex-direction:column;padding-top:2px;margin-top:2px}.luna-dom-highlighter-element-info-row{display:flex;line-height:19px}.luna-dom-highlighter-separator-container{display:flex;align-items:center;flex:auto;margin-left:7px}.luna-dom-highlighter-separator{border-top:1px solid #ddd;width:100%}.luna-dom-highlighter-element-info-name{flex-shrink:0;color:#666}.luna-dom-highlighter-element-info-gap{flex:auto}.luna-dom-highlighter-element-info-value-color{display:flex;color:#303942;margin-left:10px;align-items:baseline}.luna-dom-highlighter-a11y-icon{width:16px;height:16px;background-repeat:no-repeat;display:inline-block}.luna-dom-highlighter-element-info-value-contrast{display:flex;align-items:center;text-align:right;color:#303942;margin-left:10px}.luna-dom-highlighter-element-info-value-contrast .luna-dom-highlighter-a11y-icon{margin-left:8px}.luna-dom-highlighter-element-info-value-icon{display:flex;align-items:center}.luna-dom-highlighter-element-info-value-text{text-align:right;color:#303942;margin-left:10px;align-items:baseline;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.luna-dom-highlighter-color-swatch{display:flex;margin-right:2px;width:10px;height:10px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);line-height:10px}.luna-dom-highlighter-color-swatch-inner{flex:auto;border:1px solid #808002}.luna-dom-highlighter-element-layout-type{margin-right:10px;width:16px;height:16px}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-grid{background-image:url(\'data:image/svg+xml,<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="9.5" width="4" height="4" stroke="%231A73E8"/><rect x="2.5" y="9.5" width="4" height="4" stroke="%231A73E8"/></svg>\')}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-flex{background-image:url(\'data:image/svg+xml,<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 3.5h8v3H1v-3zm-1 0a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H1a1 1 0 01-1-1v-3zm12 0h3v3h-3v-3zm-1 0a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-3zm-7 6H1v3h3v-3zm-3-1a1 1 0 00-1 1v3a1 1 0 001 1h3a1 1 0 001-1v-3a1 1 0 00-1-1H1zm6 4v-3h8v3H7zm-1-3a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H7a1 1 0 01-1-1v-3z" fill="%231A73E8"/></svg>\')}.luna-dom-highlighter-element-description{flex:1 1;font-weight:700;word-wrap:break-word;word-break:break-all}.luna-dom-highlighter-dimensions{color:#737373;text-align:right;margin-left:10px}.luna-dom-highlighter-material-node-width{margin-right:2px}.luna-dom-highlighter-material-node-height{margin-left:2px}.luna-dom-highlighter-material-tag-name{color:#881280}.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id{color:#1a1aa6}.luna-dom-highlighter-contrast-text{width:16px;height:16px;text-align:center;line-height:16px;margin-right:8px;border:1px solid #000;padding:0 1px}.luna-dom-highlighter-a11y-icon-not-ok{background-image:url(\'data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.315 0-6-2.685-6-6 0-1.3875.4725-2.6625 1.2675-3.675l8.4075 8.4075c-1.0125.795-2.2875 1.2675-3.675 1.2675zm4.7325-2.325-8.4075-8.4075c1.0125-.795 2.2875-1.2675 3.675-1.2675 3.315 0 6 2.685 6 6 0 1.3875-.4725 2.6625-1.2675 3.675z" fill="%239e9e9e"/></svg>\')}.luna-dom-highlighter-a11y-icon-warning{background-image:url(\'data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m8.25 11.25h1.5v1.5h-1.5zm0-6h1.5v4.5h-1.5zm.7425-3.75c-4.14 0-7.4925 3.36-7.4925 7.5s3.3525 7.5 7.4925 7.5c4.1475 0 7.5075-3.36 7.5075-7.5s-3.36-7.5-7.5075-7.5zm.0075 13.5c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6z" fill="%23e37400"/></svg>\')}.luna-dom-highlighter-a11y-icon-ok{background-image:url(\'data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.3075 0-6-2.6925-6-6s2.6925-6 6-6 6 2.6925 6 6-2.6925 6-6 6zm-1.5-4.35-1.95-1.95-1.05 1.05 3 3 6-6-1.05-1.05z" fill="%230ca40c"/></svg>\')}@media (forced-colors:active){:root,body{background-color:transparent;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content{border-color:Highlight;background-color:canvas;color:text;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content::after{background-color:Highlight}.luna-dom-highlighter-color-swatch-inner,.luna-dom-highlighter-contrast-text,.luna-dom-highlighter-separator{border-color:Highlight}.luna-dom-highlighter-section-name{color:Highlight}.luna-dom-highlighter-dimensions,.luna-dom-highlighter-element-info-name,.luna-dom-highlighter-element-info-value-color,.luna-dom-highlighter-element-info-value-contrast,.luna-dom-highlighter-element-info-value-icon,.luna-dom-highlighter-element-info-value-text,.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id,.luna-dom-highlighter-material-tag-name{color:canvastext}}\n\n/*# sourceMappingURL=luna-dom-highlighter.css.map*/'),_r(".luna-dom-highlighter {\n    z-index: 2147483647;\n}"),this.domHighlighter=new wr(this.container),this.domHighlighter.intercept((function(t){t.elementInfo&&(t.elementInfo.tagName=t.elementInfo.tagName.replace(/^wx-/,""))})),this.isInit=!0}show(t,e=Nr){this.isInit||this.init(),Tr(e,{contentColor:"transparent",paddingColor:"transparent",borderColor:"transparent",marginColor:"transparent"}),document.body.appendChild(this.container),this.domHighlighter.highlight(t.$$,e)}hide(){Ve(this.container),this.domHighlighter&&this.domHighlighter.hide()}dom(){return this.container}contain(t){return this.container===t||this.container.contains(t)}},Sr=class extends ot{constructor(){super(...arguments),this.highlight=Ar}enable(){return l(this,void 0,void 0,(function*(){if(!this.tree){var t=this.container.get(f);this.tree=new oe(Object.assign({},t))}this.enabled=!0}))}scrollIntoViewIfNeeded(t){var e;return l(this,void 0,void 0,(function*(){var{nodeId:n,backendNodeId:r,objectId:o,rect:i}=t,s=yield this.getExparserNodeFromParams({nodeId:n,backendNodeId:r,objectId:o});null===(e=s.$$)||void 0===e||e.scrollIntoView()}))}getNodeForLocation(t){return l(this,void 0,void 0,(function*(){var{x:e,y:n}=t;if(!(null===document||void 0===document?void 0:document.elementFromPoint))throw new Error("Method not implemented.");var r=document.elementFromPoint(e,n).__wxElement;if(!r)throw new Error("");var o=this.tree.requestIdForNode(r);return{nodeId:o,backendNodeId:o,frameId:"n/a"}}))}querySelector(t){return l(this,void 0,void 0,(function*(){var{nodeId:e,selector:n}=t,r=yield this.getExparserNodeFromParams({nodeId:e}),o=-1;return r.querySelector(n)&&(o=this.tree.requestIdForNode(r)),{nodeId:o}}))}querySelectorAll(t){return l(this,void 0,void 0,(function*(){var{nodeId:e,selector:n}=t,r=(yield this.getExparserNodeFromParams({nodeId:e})).querySelectorAll(n),o=[];return(null==r?void 0:r.length)&&(o=r.map((t=>this.tree.requestIdForNode(t)))),{nodeIds:o}}))}};Sr=s([(0,i.b2)()],Sr);class Ir extends rt{constructor({exparser:t,root:e,customTabbar:n,getSkylineEngine:r,getWebviewEngine:o,hideVirtual:i=!0}){super({exparser:t,root:e,customTabbar:n,hideVirtual:i}),this.getNodeName=(t,e="")=>{var n,r,o=(null===(r=null===(n=null==t?void 0:t.$$)||void 0===n?void 0:n.GetTagName)||void 0===r?void 0:r.call(n))||t.is||e;return this.isWxComponent(t)?o.slice(3):o},this.getAttributes=t=>{var e,n,r,o,i;this.spreadScopeData();var s=[];if(t.__attributes)for(var a in t.__attributes)this.skippedDOMAttrs.has(a)||null==s||s.push(a,null!==(e=t.__attributes[a])&&void 0!==e?e:"");return!t.__attributes.style&&(null===(n=t.__styleSegments)||void 0===n?void 0:n.length)&&s.push("style",t.__styleSegments.join("")),t.__id&&s.push("id",t.__id),(null===(o=null===(r=t.classList)||void 0===r?void 0:r._rawNames)||void 0===o?void 0:o.length)&&s.push("class",((null===(i=t.classList)||void 0===i?void 0:i._rawNames)||[]).join(" ")||""),t.__component__&&s.push("is",t.is),s},this.removeAttributes=(t,e)=>{"class"===e?t.classList.setClassNames(""):"id"===e?t.id="":"style"===e?t.setNodeStyle(""):t.removeAttribute(e)},this.setAttributeValue=(t,e,n)=>{"class"===e?t.classList.setClassNames(n):"id"===e?t.id=n:"style"===e&&t.setNodeStyle?t.setNodeStyle(n):t.setAttribute(e,n)},this._webviewEngine=o,this._skylineEngine=r}getRoot(){return l(this,void 0,void 0,(function*(){var t=yield this.getPageContextId();return __virtualDOM__.getDomTreeByPageId(t)}))}getPageContext(){return l(this,void 0,void 0,(function*(){var t=yield this.getPageContextId();return this.skylineEngine.getRuntime().allContexts[t]||{}}))}getPageContextId(){return l(this,void 0,void 0,(function*(){return new Promise(((t,e)=>{wx.getCurrentWebviewId({success(e){t(e.webviewId)},fail(){e()}})}))}))}removeNode(t){var e=Object.create(null,{removeNode:{get:()=>super.removeNode}});return l(this,void 0,void 0,(function*(){yield e.removeNode.call(this,t),(yield this.getPageContext()).startRender()}))}getAttributeValue(t,e){for(var n=this.getAttributes(t),r={},o=0;o<n.length;o+=2)r[n[o]]=n[o+1];return r[e]}}var Cr=class extends ot{constructor(){super(...arguments),this.highlight=tt}enable(){return l(this,void 0,void 0,(function*(){if(!this.tree){var t=this.container.get(f);this.tree=new Ir(Object.assign({},t))}this.enabled=!0}))}scrollIntoViewIfNeeded(t){var e;return l(this,void 0,void 0,(function*(){var{nodeId:n,backendNodeId:r,objectId:o,rect:i}=t,s=yield this.getExparserNodeFromParams({nodeId:n,backendNodeId:r,objectId:o});null===(e=s.$$)||void 0===e||e.setScrollPosition({scrollLeft:0,scrollTop:10})}))}getNodeForLocation(t){return l(this,void 0,void 0,(function*(){var{x:e,y:n}=t,r=yield this.tree.getPageContext();if(!(null==r?void 0:r.getNodeFromPoint))throw new Error("Method getNodeFromPoint not implemented.");var o=(yield B(r.getNodeFromPoint)([e,n])).__wxElement;if(!o)throw new Error("");var i=this.tree.requestIdForNode(o);return{nodeId:i,backendNodeId:i,frameId:"n/a"}}))}querySelector(t){return l(this,void 0,void 0,(function*(){var{nodeId:e,selector:n}=t;return yield this.getExparserNodeFromParams({nodeId:e}),{nodeId:1e3}}))}querySelectorAll(t){return l(this,void 0,void 0,(function*(){return{nodeIds:[]}}))}};Cr=s([(0,i.b2)()],Cr);var Or=class{constructor(){this.getNodeById=t=>{var e;return null===(e=this.DOMAdapter)||void 0===e?void 0:e.tree.getNodeById(t)}}get enabled(){var t,e;return null!==(e=null===(t=this.DOMAdapter)||void 0===t?void 0:t.enabled)&&void 0!==e&&e}logRemoteObject(t){return l(this,void 0,void 0,(function*(){return console.log(x(t.objectId))}))}setInspectedNode(t){var e;return l(this,void 0,void 0,(function*(){var n=null===(e=this.DOMAdapter)||void 0===e?void 0:e.tree.setInspectedNodeForExparser(t.nodeId);if(n)return{variableName:n};throw new Error("Failed to set inspected node")}))}getNodeData(t){var e;return l(this,void 0,void 0,(function*(){var{nodeId:n}=t,r=this.getNodeById(n);return{data:/^wx-/.test(null!==(e=r.is)&&void 0!==e?e:"")?{}:r.data}}))}getNodeDetails(t){var e,n,r;return l(this,void 0,void 0,(function*(){var{nodeId:o}=t,i=this.getNodeById(o),s={},a={},u={};if(!/^wx-/.test(null!==(e=i.is)&&void 0!==e?e:""))for(var[l,c]of Object.entries(i.data))s[l]=w(c);for(var h of null===(n=this.DOMAdapter)||void 0===n?void 0:n.tree.exparser.Component.listPublicProperties(i))Reflect.has(s,h)||(a[h]=w(i.__dataProxy._data[h]));for(var[d,p]of Object.entries(null!==(r=i.__wxEvents)&&void 0!==r?r:{}))u[d]=w(p);return{data:s,events:u,props:a}}))}disable(){var t;return l(this,void 0,void 0,(function*(){null===(t=this.DOMAdapter)||void 0===t||t.disable()}))}enable(){var t;return l(this,void 0,void 0,(function*(){null===(t=this.DOMAdapter)||void 0===t||t.enable()}))}};s([S("DOM"),(0,i.jt)(),u("design:type",Sr)],Or.prototype,"DOMAdapter",void 0),Or=s([(0,i.b2)()],Or);var Mr=class{get enabled(){return this.DOMAdapter.enabled&&this._enabled}disable(){return l(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return l(this,void 0,void 0,(function*(){if(!this.DOMAdapter.enabled)throw new Error("Enable DOM first.");this._enabled=!0}))}findExparserNode(t){return l(this,void 0,void 0,(function*(){for(;t&&!t.__wxElement;)t=t.parentNode;if(t){var e,n=t.__wxElement;return exparser.ElementIterator.create(n,"composed-ancestors",exparser.Element).forEach((t=>{var n;if("//"===(null===(n=exparser.Component.getComponentOptions(t))||void 0===n?void 0:n.domain))return e=t,!1})),e}}))}emitInspectNodeRequested(t){return l(this,void 0,void 0,(function*(){if(t){var{tree:e}=this.DOMAdapter,n=e.requestIdForNode(t);this.bridge.emit({method:"Overlay.inspectNodeRequested",params:{backendNodeId:n}})}}))}getHighlightObjectForTest(t){throw new Error("Method not implemented.")}getGridHighlightObjectsForTest(t){throw new Error("Method not implemented.")}getSourceOrderHighlightObjectForTest(t){throw new Error("Method not implemented.")}hideHighlight(){throw new Error("Method not implemented.")}highlightFrame(t){throw new Error("Method not implemented.")}highlightNode(t){throw new Error("Method not implemented.")}highlightQuad(t){throw new Error("Method not implemented.")}highlightRect(t){throw new Error("Method not implemented.")}highlightSourceOrder(t){throw new Error("Method not implemented.")}setInspectMode(t){return l(this,void 0,void 0,(function*(){var{mode:e,highlightConfig:n}=t;switch(e){case"searchForNode":this.startInspect(n);break;case"none":this.stopInspect();break;default:throw new Error("Method not implemented.")}}))}setShowAdHighlights(t){throw new Error("Method not implemented.")}setPausedInDebuggerMessage(t){throw new Error("Method not implemented.")}setShowDebugBorders(t){throw new Error("Method not implemented.")}setShowFPSCounter(t){throw new Error("Method not implemented.")}setShowGridOverlays(t){throw new Error("Method not implemented.")}setShowFlexOverlays(t){throw new Error("Method not implemented.")}setShowScrollSnapOverlays(t){throw new Error("Method not implemented.")}setShowContainerQueryOverlays(t){throw new Error("Method not implemented.")}setShowPaintRects(t){throw new Error("Method not implemented.")}setShowLayoutShiftRegions(t){throw new Error("Method not implemented.")}setShowScrollBottleneckRects(t){throw new Error("Method not implemented.")}setShowHitTestBorders(t){throw new Error("Method not implemented.")}setShowWebVitals(t){throw new Error("Method not implemented.")}setShowViewportSizeOnResize(t){throw new Error("Method not implemented.")}setShowHinge(t){throw new Error("Method not implemented.")}on(t,e){throw new Error("Method not implemented.")}};s([S("DOM"),u("design:type",ot)],Mr.prototype,"DOMAdapter",void 0),s([(0,i.f3)(d),u("design:type",v)],Mr.prototype,"bridge",void 0),Mr=s([(0,i.b2)()],Mr);var Rr=class extends Mr{constructor(){super(...arguments),this.highlight=Ar,this.handleClickEvents=t=>l(this,void 0,void 0,(function*(){t.preventDefault(),t.stopPropagation();var{x:e,y:n}=t,r=yield this.hitTest(e,n);if(r)return this.emitInspectNodeRequested(r),!1})),this.handleMouseDownEvents=t=>{document.body.dispatchEvent(new CustomEvent("touchcancel"))},this.handleMouseMoveEvents=t=>l(this,void 0,void 0,(function*(){var{x:e,y:n}=t,r=yield this.hitTest(e,n);if(r){var o=this.DOMAdapter.tree.requestIdForNode(r);this.bridge.emit({method:"Overlay.nodeHighlightRequested",params:{nodeId:o}}),this.highlight.show(r,this.highlightConfig)}}))}hitTest(t,e){return l(this,void 0,void 0,(function*(){document.body.style.pointerEvents="";var n=document.elementFromPoint(t,e),r=n?yield this.findExparserNode(n):null;return document.body.style.pointerEvents="none",r}))}startInspect(t){document.body.style.pointerEvents="none",this.highlightConfig=t,this._handleMouseMoveEvents=k(this.handleMouseMoveEvents.bind(this),100),document.addEventListener("click",this.handleClickEvents),document.addEventListener("mousedown",this.handleMouseDownEvents),document.addEventListener("mousemove",this._handleMouseMoveEvents)}stopInspect(){document.body.style.pointerEvents="",this.highlightConfig=void 0,document.removeEventListener("click",this.handleClickEvents),document.removeEventListener("mousedown",this.handleMouseDownEvents),document.removeEventListener("mousemove",this._handleMouseMoveEvents),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}};Rr=s([(0,i.b2)()],Rr);var Pr=class extends Mr{constructor(){super(...arguments),this.highlight=tt,this.handleClickEvents=t=>l(this,void 0,void 0,(function*(){if(t&&!q(t))return this.emitInspectNodeRequested(t),!1}))}hitTest(t,e){return new Promise((n=>l(this,void 0,void 0,(function*(){(yield this.DOMAdapter.tree.getPageContext()).getNodeFromPoint(t,e,(t=>l(this,void 0,void 0,(function*(){var e=t?yield this.findExparserNode(t):null;e=q(e)?null:e,n(e)}))))}))))}handleMouseOverEvents(t){return l(this,void 0,void 0,(function*(){if(t&&!q(t)){var e=this.DOMAdapter.tree.requestIdForNode(t);this.bridge.emit({method:"Overlay.nodeHighlightRequested",params:{nodeId:e}}),yield this.highlight.show(t,this.highlightConfig)}}))}startInspect(t){return l(this,void 0,void 0,(function*(){this.highlightConfig=t,this._handleMouseOverEvents=k(this.handleMouseOverEvents.bind(this),100),this.DOMAdapter.tree.skylineEngine.getRuntime().startTouchEventInterception((t=>{var e=t.target;if(e){var n=e.__wxElement;"tap"===t.type?this.handleClickEvents(n):"mouseover"===t.type&&this._handleMouseOverEvents(n)}}))}))}stopInspect(){return l(this,void 0,void 0,(function*(){this.highlightConfig=void 0;var t=yield this.DOMAdapter.tree.getPageContextId();this.DOMAdapter.tree.skylineEngine.getRuntime().stopTouchEventInterception(t),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}))}};Pr=s([(0,i.b2)()],Pr);var Dr=class{constructor(t){this.fallbackAdapter=new L,this.handler=this.handleCommand.bind(this),this.bridge=t,this.bridge.on("command",this.handler)}destroy(){this.bridge.off("command",this.handler)}handleCommand(t){var e,n;return l(this,void 0,void 0,(function*(){var r,{id:o,method:i,params:s}=t,[a,u]=i.split("."),l=`${a}Adapter`,c=null!==(e=Reflect.get(this,l))&&void 0!==e?e:this.fallbackAdapter;if(c.enabled||"enable"===u)try{r=null!==(n=yield c[u](s))&&void 0!==n?n:{}}catch(t){console.error(`inspectee ${i} error:`,t),r={message:"N/A"}}else r={message:"disabled, enable it first"};this.bridge.reply(o,r)}))}};s([S("CSS"),(0,i.jt)(),u("design:type",st)],Dr.prototype,"CSSAdapter",void 0),s([S("DOM"),(0,i.jt)(),u("design:type",Sr)],Dr.prototype,"DOMAdapter",void 0),s([S("Misc"),(0,i.jt)(),u("design:type",P)],Dr.prototype,"MiscAdapter",void 0),s([S("Runtime"),(0,i.jt)(),u("design:type",T)],Dr.prototype,"RuntimeAdapter",void 0),s([S("Overlay"),(0,i.jt)(),u("design:type",Mr)],Dr.prototype,"OverlayAdapter",void 0),s([S("Exparser"),(0,i.jt)(),u("design:type",Or)],Dr.prototype,"ExparserAdapter",void 0),s([S(),(0,i.jt)(),u("design:type",Object)],Dr.prototype,"fallbackAdapter",void 0),Dr=s([(0,i.b2)(),a(0,(0,i.f3)(d)),u("design:paramtypes",[v])],Dr);var Lr=!1,kr=n(9336),Br=n(3525);class Fr{init(){return t=(t,{bindAdapter:e,bindBridge:n,bindVirtualTreeProps:r})=>{n(new Br.DZ(kr.Lm.RendererInspectee)),window.__skylineEngine__?(r({exparser:()=>window.exparser||window.__skylineEngine__.getRuntime().getExparser(),root:()=>window.__DOMTree__,customTabbar:()=>window.__TAB_BAR__,getSkylineEngine:()=>window.__skylineEngine__,getWebviewEngine:()=>window.__webviewEngine__}),e(re,"CSS"),e(Cr,"DOM"),e(Pr,"Overlay")):(r({exparser:()=>window.exparser,root:()=>window.__DOMTree__,customTabbar:()=>window.__TAB_BAR__}),e(te,"CSS"),e(Sr,"DOM"),e(Rr,"Overlay"))},e=()=>{var t=A.get(p);return Reflect.set(globalThis,"wxInspectee",t),t},Lr||(Lr=!0,A.bind(g).toConstantValue(A),A.bind(p).to(Dr).inSingletonScope(),A.bind(h).to(L).whenTargetNamed("default"),O(A,L),t(0,{bindAdapter:R(A,O),getAdapter:R(A,M),bindBridge:R(A,C),bindVirtualTreeProps:R(A,I)})),e();var t,e}waitReady(){var t=null;return new Promise((e=>{t=setInterval((()=>{window.__DOMTree__&&(window.exparser||window.__skylineEngine__.getRuntime().getExparser())&&(clearInterval(t),e())}),100)}))}}},7866:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Inspector:()=>_});var r=n(644),o=n.n(r),i=(n(8726),n(9336)),s=n(3525),a=n(8741);function u(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}var l,c=()=>{};class h{constructor(t={}){this.resolve=c,this.reject=c,this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n;var{timeout:r}=t;r&&setTimeout((()=>n("timeout")),r)}))}}class d extends Map{get(t){var e=super.get(t);return e&&super.delete(t),e}}!function(t){t[t.Inspector=0]="Inspector",t[t.RendererInspectee=1]="RendererInspectee",t[t.ServiceInspectee=2]="ServiceInspectee",t[t.AllInspectee=3]="AllInspectee"}(l||(l={}));var p,f=class{constructor(t=l.AllInspectee){this.callbacks=new Map,this.type=t}get inited(){return this._inited}init(){this.initSubscription(this.handleCDPMessage.bind(this)),this._inited=!0}emit(t){this.send(t)}reply(t,e){this.send({id:t,result:e})}on(t,e){this.callbacks.has(t)||this.callbacks.set(t,[]),this.callbacks.get(t).push(e)}off(t,e){if(this.callbacks.has(t)){var n=this.callbacks.get(t);n=[...n.filter((t=>t!==e))]}}handleCDPMessage(t,e,n){var r,o,i,s,a;((s=this.type)===(a=e)||s&a)&&("id"in t?null===(r=this.callbacks.get("command"))||void 0===r||r.forEach((e=>e(t,n))):null===(o=this.callbacks.get("event"))||void 0===o||o.forEach((e=>e(t,n))),null===(i=this.callbacks.get("all"))||void 0===i||i.forEach((e=>e(t,n))))}};f=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([(0,a.b2)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[Number])],f);class g{constructor(t,e,n){this.cachedObject={},this.inspector=e,this.object=t,this.target=n}getProperties(t={}){return u(this,void 0,void 0,(function*(){var{objectId:e}=this.object;if(e){var{result:n}=yield this.inspector.request({method:"Runtime.getProperties",params:Object.assign({objectId:e},t)},this.target);return n}return[]}))}}var v,m=p=class{constructor(t){this.requestMap=new d,this.eventHandlersMap=new Map,this._handleEvent=this.handleEvent.bind(this),this._handleCommand=this.handleCommand.bind(this),this.bridge=t,this.init()}init(){console.debug(this.bridge),this.bridge.on("event",this._handleEvent),this.bridge.on("command",this._handleCommand)}destroy(){this.bridge.off("event",this._handleEvent),this.bridge.off("command",this._handleCommand)}enable(t,e=l.AllInspectee){return this.request({method:`${t}.enable`,params:{}},e)}request(t,e=l.AllInspectee){return u(this,void 0,void 0,(function*(){var{id:n}=p.idAssigner,r=new h;return this.requestMap.set(n,r),this.bridge.send(Object.assign({id:n},t),e),r.promise}))}handleCommand(t){var{id:e,result:n}=t,r=this.requestMap.get(e);r&&(n?r.resolve(n):r.reject("protocol error"))}handleEvent(t,e){var{method:n}=t,r=this.eventHandlersMap.get(n);r&&r.forEach((n=>n(t,e)))}addListener(t,e,n){var r;this.eventHandlersMap.has(t)||this.eventHandlersMap.set(t,[]);var o=void 0===n?e:(t,r)=>r===n&&e(t,r);null===(r=this.eventHandlersMap.get(t))||void 0===r||r.push(o)}removeListener(t,e){var n=this.eventHandlersMap.get(t);n&&this.eventHandlersMap.set(t,e?n.filter((t=>t!==e)):[])}listenUntil(t,e,n){var r;this.eventHandlersMap.has(t)||this.eventHandlersMap.set(t,[]),null===(r=this.eventHandlersMap.get(t))||void 0===r||r.push(((r,o)=>{n&&o!==n||e(r,o)&&this.removeListener(t,e)}))}parseRemoteObject(t,e){return new g(t,this,e)}logToInspectee(t=l.AllInspectee,...e){var n=JSON.stringify(e);this.request({method:"Runtime.evaluate",params:{expression:`(console.log(...${n}))`}},t)}};m.idAssigner=new class{constructor(t=0){this._id=t}get id(){return this._id++}reset(){this._id=0}},m=p=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([(0,a.b2)(),(0,v=(0,a.f3)("Bridge"),function(t,e){v(t,e,0)}),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[f])],m);var y="Bridge",b="Inspector";Map,Map;var w=n(5354),x={Container:Symbol("Container")};class _{constructor({inspectee:t}){this._ready=!1,this._lastActiveId=null,this._inspectee=t,this._inspector=null}get debuggee(){return{targetId:window.__webviewId__}}init(){var t=this;return o()((function*(){t._inspector=t.initWxInspector(),t.addEventListeners(),t.bindHandlers(),t.initMessager(),t._ready=!0,yield t.enableDomains(),w.makeReady(),console.log("remote-debug inited")}))()}initWxInspector(){var t=new a.W2({skipBaseClassChecks:!0}),e=new s.DZ(i.Lm.Inspector);t.bind(x.Container).toConstantValue(t),t.bind(y).toConstantValue(e),t.bind(b).to(m).inSingletonScope();var n=t.get(b);return Reflect.set(globalThis,"wxInspector",n),n}bindHandlers(){this._customMethodMap={"DOM.getDocument":"getDocument"}}addEventListeners(){["DOM.attributeRemoved","DOM.attributeModified","DOM.characterDataModified","DOM.childNodeInserted","DOM.childNodeRemoved","DOM.documentUpdated","DOM.setChildNodes","Overlay.inspectNodeRequested","Overlay.nodeHighlightRequested","WxHost.setWxssFile","WxComponent.componentDataChanged"].forEach((t=>{this._inspector.addListener(t,(({method:e,params:n})=>{this._ready&&(t.startsWith("WxHost.")?this.triggerHostEvent(e,n):this.triggerDebugeeEvent(e,n))}))}))}initMessager(){w.subscribe("remoteDebugCommand",(t=>{this.exec(t)}))}triggerDebugeeEvent(t,e){w.send({command:"DEBUGGEE_EVENT",data:{debuggee:this.debuggee,method:t,params:e}})}triggerHostEvent(t,e){w.send({command:"HOST_EVENT",data:{debuggee:this.debuggee,method:t,params:e}})}enableDomains(){var t=this;return o()((function*(){for(var e of["DOM","CSS","Overlay"])yield t._inspector.enable(e,i.Lm.RendererInspectee)}))()}getDocument(t,e){var n=this;return o()((function*(){var{root:r}=yield n._inspector.request({method:t,params:e},i.Lm.RendererInspectee);return{baseURL:"https://servicewechat.com/page-frame.html",inspectee:"exparser",root:r}}))()}commonCDPCall(t,e){var n=this;return o()((function*(){return yield n._inspector.request({method:t,params:e},i.Lm.RendererInspectee)}))()}exec(t){var e=this;return o()((function*(){if(e._ready){var n,r=e._customMethodMap[t.method];n="function"==typeof e[r]?yield e[r](t.method,t.commandParams):yield e.commonCDPCall(t.method,t.commandParams),t.callbackID&&n&&w.send({command:"DEBUGGEE_CALLBACK",callbackID:t.callbackID,data:n})}}))()}}},5354:t=>{t.exports=new class{constructor(){this.isReady=!1,this.bridge=window.wx||__global.WeixinJSBridge,this.handles=[]}makeReady(){this.isReady=!0,this.handles.forEach((t=>t())),this.handles=[]}send(t){this.bridge.invoke("remoteDebugInfo",t,(()=>{}))}invoke(t,e,n){this.bridge.invoke(t,e,n)}subscribe(t,e){this.bridge.on(t,((...t)=>{this.isReady?e&&e(...t):this.handles.push((()=>{e&&e(...t)}))}))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=n(644).default,{Inspector:e}=n(7866),{Inspectee:r}=n(2742);(Reflect.has(globalThis,"__wxConfig")&&__wxConfig.onReady?__wxConfig.onReady:setTimeout)(t((function*(){var t=new r,n=new e({inspectee:t});n.initMessager(),yield t.waitReady(),t.init(),n.init()})))})()})();var WARemoteDebugVersion="2023.12.13 11:16";(()=>{var t={644:t=>{function e(t,e,n,r,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,o)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var s=t.apply(n,r);function a(t){e(s,o,i,a,u,"next",t)}function u(t){e(s,o,i,a,u,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},393:(t,e,n)=>{var r=n(771);t.exports=function(t,e){if(null==t)return{};var n,o,i=r(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)n=s[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i},t.exports.__esModule=!0,t.exports.default=t.exports},771:t=>{t.exports=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o},t.exports.__esModule=!0,t.exports.default=t.exports},120:(t,e,n)=>{var r=n(261),o=n(119),i=n(402),s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.prototype,u=void 0===n||n,l=e.unenumerable,c=void 0!==l&&l,h=e.symbol,d=void 0!==h&&h,p=[];if((c||d)&&s){var f=r;c&&s&&(f=s);do{p=p.concat(f(t)),d&&a&&(p=p.concat(a(t)))}while(u&&(t=o(t))&&t!==Object.prototype);p=i(p)}else if(u)for(var g in t)p.push(g);else p=r(t);return p},t.exports=e},61:(t,e,n)=>{var r=n(595),o=n(626);e=function(t,e){if(o(t))return t;if(e&&r(e,t))return[t];var n=[];return t.replace(i,(function(t,e,r,o){n.push(r?o.replace(s,"$1"):e||t)})),n};var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g;t.exports=e},622:(t,e,n)=>{var r=n(381),o=n(431);e=function(t,e){return function(n){return o(arguments,(function(i,s){if(0!==s){var a=t(i);o(a,(function(t){e&&!r(n[t])||(n[t]=i[t])}))}})),n}},t.exports=e},309:(t,e,n)=>{e=n(622)(n(120),!0),t.exports=e},431:(t,e,n)=>{var r=n(693),o=n(261),i=n(548);e=function(t,e,n){var s,a;if(e=i(e,n),r(t))for(s=0,a=t.length;s<a;s++)e(t[s],s,t);else{var u=o(t);for(s=0,a=u.length;s<a;s++)e(t[u[s]],u[s],t)}return t},t.exports=e},607:(t,e,n)=>{var r=n(261);e=n(622)(r),t.exports=e},274:(t,e,n)=>{var r=n(777),o=n(431);e=function(t,e,n){var i=[];return e=r(e,n),o(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i},t.exports=e},119:(t,e,n)=>{var r=n(987),o=n(217),i=Object.getPrototypeOf,s={}.constructor;e=function(t){if(r(t)){if(i)return i(t);var e=t.__proto__;return e||null===e?e:o(t.constructor)?t.constructor.prototype:t instanceof s?s.prototype:void 0}},t.exports=e},595:(t,e)=>{var n=Object.prototype.hasOwnProperty;e=function(t,e){return n.call(t,e)},t.exports=e},641:(t,e)=>{e=function(t){return t},t.exports=e},154:(t,e,n)=>{var r=n(986);e=function(t){return"[object Arguments]"===r(t)},t.exports=e},626:(t,e,n)=>{var r=n(986);e=Array.isArray?Array.isArray:function(t){return"[object Array]"===r(t)},t.exports=e},693:(t,e,n)=>{var r=n(468),o=n(217),i=Math.pow(2,53)-1;e=function(t){if(!t)return!1;var e=t.length;return r(e)&&e>=0&&e<=i&&!o(t)},t.exports=e},489:(t,e)=>{e="object"==typeof window&&"object"==typeof document&&9===document.nodeType,t.exports=e},761:(t,e,n)=>{var r=n(693),o=n(626),i=n(922),s=n(154),a=n(261);e=function(t){return null==t||(r(t)&&(o(t)||i(t)||s(t))?0===t.length:0===a(t).length)},t.exports=e},217:(t,e,n)=>{var r=n(986);e=function(t){var e=r(t);return"[object Function]"===e||"[object GeneratorFunction]"===e||"[object AsyncFunction]"===e},t.exports=e},27:(t,e,n)=>{var r=n(261);e=function(t,e){var n=r(e),o=n.length;if(null==t)return!o;t=Object(t);for(var i=0;i<o;i++){var s=n[i];if(e[s]!==t[s]||!(s in t))return!1}return!0},t.exports=e},585:(t,e,n)=>{var r=n(986);e="undefined"!=typeof process&&"[object process]"===r(process),t.exports=e},468:(t,e,n)=>{var r=n(986);e=function(t){return"[object Number]"===r(t)},t.exports=e},987:(t,e)=>{e=function(t){var e=typeof t;return!!t&&("function"===e||"object"===e)},t.exports=e},922:(t,e,n)=>{var r=n(986);e=function(t){return"[object String]"===r(t)},t.exports=e},381:(t,e)=>{e=function(t){return void 0===t},t.exports=e},261:(t,e,n)=>{var r=n(595);e=Object.keys?Object.keys:function(t){var e=[];for(var n in t)r(t,n)&&e.push(n);return e},t.exports=e},752:(t,e)=>{var n=/^\s+/;e=function(t,e){if(null==e)return t.trimLeft?t.trimLeft():t.replace(n,"");for(var r,o,i=0,s=t.length,a=e.length,u=!0;u&&i<s;)for(u=!1,r=-1,o=t.charAt(i);++r<a;)if(o===e[r]){u=!0,i++;break}return i>=s?"":t.substr(i,s)},t.exports=e},35:(t,e,n)=>{var r=n(777),o=n(261),i=n(693);e=function(t,e,n){e=r(e,n);for(var s=!i(t)&&o(t),a=(s||t).length,u=Array(a),l=0;l<a;l++){var c=s?s[l]:l;u[l]=e(t[c],c,t)}return u},t.exports=e},766:(t,e,n)=>{var r=n(607),o=n(27);e=function(t){return t=r({},t),function(e){return o(e,t)}},t.exports=e},553:(t,e)=>{e=Date.now?Date.now:function(){return(new Date).getTime()},t.exports=e},986:(t,e)=>{var n=Object.prototype.toString;e=function(t){return n.call(t)},t.exports=e},548:(t,e,n)=>{var r=n(381);e=function(t,e,n){if(r(e))return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}},t.exports=e},273:(t,e,n)=>{var r=n(626),o=n(651);e=function(t){return r(t)?function(e){return o(e,t)}:(e=t,function(t){return null==t?void 0:t[e]});var e},t.exports=e},541:(t,e)=>{e=function(t,e,n){null==e&&(e=t,t=0);var r=Math.random();return n||t%1||e%1?Math.min(t+r*(e-t+parseFloat("1e-"+((r+"").length-1))),e):t+Math.floor(r*(e-t+1))},t.exports=e},48:(t,e,n)=>{var r=n(541),o=n(489),i=n(585),s;e=function(t){for(var e=new Uint8Array(t),n=0;n<t;n++)e[n]=r(0,255);return e},o?(s=window.crypto||window.msCrypto,s&&(e=function(t){var e=new Uint8Array(t);return s.getRandomValues(e),e})):i&&(s=eval("require")("crypto"),e=function(t){return s.randomBytes(t)}),t.exports=e},784:(t,e)=>{e=function(t,e){if(null==e){if(t.trimRight)return t.trimRight();e=" \r\n\t\f\v"}for(var n,r,o=t.length-1,i=e.length,s=!0;s&&o>=0;)for(s=!1,n=-1,r=t.charAt(o);++n<i;)if(r===e[n]){s=!0,o--;break}return o>=0?t.substring(0,o+1):""},t.exports=e},777:(t,e,n)=>{var r=n(217),o=n(987),i=n(626),s=n(548),a=n(766),u=n(641),l=n(273);e=function(t,e,n){return null==t?u:r(t)?s(t,e,n):o(t)&&!i(t)?a(t):l(t)},t.exports=e},651:(t,e,n)=>{var r=n(381),o=n(61);e=function(t,e){var n;for(n=(e=o(e,t)).shift();!r(n);){if(null==(t=t[n]))return;n=e.shift()}return t},t.exports=e},300:(t,e,n)=>{var r=n(685),o=n(431),i=n(641),s=n(35),a="[\\x20\\t\\r\\n\\f]",u="(?:\\\\[\\da-fA-F]{1,6}".concat(a,"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+"),l="\\[".concat(a,"*(").concat(u,")(?:").concat(a,"*([*^$|!~]?=)").concat(a,"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(").concat(u,"))|)").concat(a,"*\\]"),c="::?(".concat(u,")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|").concat(l,")*)|.*)\\)|)"),h=new RegExp("^".concat(a,"*,").concat(a,"*")),d=new RegExp("^".concat(a,"*([>+~]|").concat(a,")").concat(a,"*")),p={id:{reg:new RegExp("^#(".concat(u,")")),value:function(t){return t.slice(1)},toStr:function(t){return"#".concat(t)}},class:{reg:new RegExp("^\\.(".concat(u,")")),value:function(t){return t.slice(1)},toStr:function(t){return".".concat(t)}},tag:{reg:new RegExp("^(".concat(u,"|[*])")),value:i},attribute:{reg:new RegExp("^".concat(l)),value:function(t){return t.slice(1,t.length-1)},toStr:function(t){return"[".concat(t,"]")}},pseudo:{reg:new RegExp("^".concat(c)),value:i}};o(p,(function(t){t.value||(t.value=i),t.toStr||(t.toStr=i)})),e={parse:function(t){t=r(t);for(var e,n,i,s=[];t&&(i&&!(n=h.exec(t))||(n&&(t=t.slice(n[0].length)),e=[],s.push(e)),i=!1,(n=d.exec(t))&&(i=n.shift(),t=t.slice(i.length),(i=r(i))||(i=" "),e.push({value:i,type:"combinator"})),o(p,(function(o,s){var a=o.reg,u=o.value;(n=a.exec(t))&&(i=n.shift(),t=t.slice(i.length),i=r(i),e.push({value:u(i),type:s}))})),i););return s},stringify:function(t){return s(t,(function(t){return(t=s(t,(function(t){var e=t.type,n=t.value;return"combinator"===e?" "===n?n:" ".concat(n," "):p[e].toStr(n)}))).join("")})).join(", ")}},t.exports=e},664:(t,e)=>{e=function(t,e){return 0===t.indexOf(e)},t.exports=e},42:(t,e,n)=>{var r=n(693),o=n(35),i=n(626),s=n(922);e=function(t){return t?i(t)?t:r(t)&&!s(t)?o(t):[t]:[]},t.exports=e},685:(t,e,n)=>{var r=n(752),o=n(784);e=function(t,e){return null==e&&t.trim?t.trim():r(o(t,e),e)},t.exports=e},402:(t,e,n)=>{var r=n(274);function o(t,e){return t===e}e=function(t,e){return e=e||o,r(t,(function(t,n,r){for(var o=r.length;++n<o;)if(e(t,r[n]))return!1;return!0}))},t.exports=e},313:(t,e,n)=>{var r=n(48);e=function(){var t=r(16);return t[6]=15&t[6]|64,t[8]=63&t[8]|128,o[t[0]]+o[t[1]]+o[t[2]]+o[t[3]]+"-"+o[t[4]]+o[t[5]]+"-"+o[t[6]]+o[t[7]]+"-"+o[t[8]]+o[t[9]]+"-"+o[t[10]]+o[t[11]]+o[t[12]]+o[t[13]]+o[t[14]]+o[t[15]]};for(var o=[],i=0;i<256;i++)o[i]=(i+256).toString(16).substr(1);t.exports=e},288:(t,e,n)=>{var r=n(553);e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250;function o(){return new Promise((function(e,n){try{e(t())}catch(t){n(t)}}))}return new Promise((function(t,i){var s=r(),a=function(){o().then((function(o){var u=r()-s;o?t(o):e&&u>=e?i(Error("Wait timed out after ".concat(e," ms"))):setTimeout(a,n)}),i)};a()}))},t.exports=e},568:(t,e)=>{!function(t){"use strict";var e=function(t,e){for(var n=0;n<e.length;n+=1)t(e[n],n,e)},n=function(t,n,r){var o=n;return e((function(e,n){o=t(o,e,n)}),r),o},r=function(t,n){var r=new Array(n.length);return e((function(e,n){r[n]=t(e)}),n),r};function o(t){return t.toString()}var i=function(t,e){return e.join(t)},s=function(t,e,n){return t+n+e},a=Array.prototype.concat;function u(t,e){for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n}function l(){this.init()}function c(t){this.expression=t}function h(t,e,n){e in t||(t[e]=n)}function d(){}function p(t){arguments.length>0&&this.init(t)}function f(t){arguments.length>0&&this.init(t)}function g(t,e){arguments.length>0&&this.init(t,e)}function v(t,e){arguments.length>0&&this.init(t,e)}function m(t,e){arguments.length>0&&this.init(t,e)}function y(t,e){arguments.length>0&&this.init(t,e)}function b(t,e){arguments.length>0&&this.init(t,e)}function w(t,e){arguments.length>0&&this.init(t,e)}function x(t,e){arguments.length>0&&this.init(t,e)}function _(t,e){arguments.length>0&&this.init(t,e)}function E(t,e){arguments.length>0&&this.init(t,e)}function T(t,e){arguments.length>0&&this.init(t,e)}function N(t,e){arguments.length>0&&this.init(t,e)}function A(t,e){arguments.length>0&&this.init(t,e)}function S(t,e){arguments.length>0&&this.init(t,e)}function I(t,e){arguments.length>0&&this.init(t,e)}function C(t,e){arguments.length>0&&this.init(t,e)}function O(t,e,n){arguments.length>0&&this.init(t,e,n)}function M(t){for(;t&&t.parentNode;)t=t.parentNode;return t}function R(t,e,n){return O.applyPredicates(t.predicates,e,O.applyStep(t,e,n))}function P(t,e,n){return function(t){for(var e=[],n=0;n<t.length;n+=32767){var r=t.slice(n,n+32767);e=a.apply(e,r)}return e}(r(R.bind(null,n,t),e))}function D(t,e){arguments.length>0&&this.init(t,e)}function L(t,e,n){arguments.length>0&&this.init(t,e,n)}function k(t,e){arguments.length>0&&this.init(t,e)}function B(t){arguments.length>0&&this.init(t)}function F(t,e){arguments.length>0&&this.init(t,e)}l.prototype=new Object,l.prototype.constructor=l,l.superclass=Object.prototype,l.prototype.init=function(){this.reduceActions=[],this.reduceActions[3]=function(t){return new v(t[0],t[2])},this.reduceActions[5]=function(t){return new m(t[0],t[2])},this.reduceActions[7]=function(t){return new y(t[0],t[2])},this.reduceActions[8]=function(t){return new b(t[0],t[2])},this.reduceActions[10]=function(t){return new w(t[0],t[2])},this.reduceActions[11]=function(t){return new x(t[0],t[2])},this.reduceActions[12]=function(t){return new _(t[0],t[2])},this.reduceActions[13]=function(t){return new E(t[0],t[2])},this.reduceActions[15]=function(t){return new T(t[0],t[2])},this.reduceActions[16]=function(t){return new N(t[0],t[2])},this.reduceActions[18]=function(t){return new A(t[0],t[2])},this.reduceActions[19]=function(t){return new S(t[0],t[2])},this.reduceActions[20]=function(t){return new I(t[0],t[2])},this.reduceActions[22]=function(t){return new f(t[1])},this.reduceActions[24]=function(t){return new C(t[0],t[2])},this.reduceActions[25]=function(t){return new O(void 0,void 0,t[0])},this.reduceActions[27]=function(t){return t[0].locationPath=t[2],t[0]},this.reduceActions[28]=function(t){return t[0].locationPath=t[2],t[0].locationPath.steps.unshift(new L(L.DESCENDANTORSELF,k.nodeTest,[])),t[0]},this.reduceActions[29]=function(t){return new O(t[0],[],void 0)},this.reduceActions[30]=function(t){return K.instance_of(t[0],O)?(null==t[0].filterPredicates&&(t[0].filterPredicates=[]),t[0].filterPredicates.push(t[1]),t[0]):new O(t[0],[t[1]],void 0)},this.reduceActions[32]=function(t){return t[1]},this.reduceActions[33]=function(t){return new U(t[0])},this.reduceActions[34]=function(t){return new V(t[0])},this.reduceActions[36]=function(t){return new F(t[0],[])},this.reduceActions[37]=function(t){return new F(t[0],t[2])},this.reduceActions[38]=function(t){return[t[0]]},this.reduceActions[39]=function(t){return t[2].unshift(t[0]),t[2]},this.reduceActions[43]=function(t){return new D(!0,[])},this.reduceActions[44]=function(t){return t[1].absolute=!0,t[1]},this.reduceActions[46]=function(t){return new D(!1,[t[0]])},this.reduceActions[47]=function(t){return t[0].steps.push(t[2]),t[0]},this.reduceActions[49]=function(t){return new L(t[0],t[1],[])},this.reduceActions[50]=function(t){return new L(L.CHILD,t[0],[])},this.reduceActions[51]=function(t){return new L(t[0],t[1],t[2])},this.reduceActions[52]=function(t){return new L(L.CHILD,t[0],t[1])},this.reduceActions[54]=function(t){return[t[0]]},this.reduceActions[55]=function(t){return t[1].unshift(t[0]),t[1]},this.reduceActions[56]=function(t){return"ancestor"==t[0]?L.ANCESTOR:"ancestor-or-self"==t[0]?L.ANCESTORORSELF:"attribute"==t[0]?L.ATTRIBUTE:"child"==t[0]?L.CHILD:"descendant"==t[0]?L.DESCENDANT:"descendant-or-self"==t[0]?L.DESCENDANTORSELF:"following"==t[0]?L.FOLLOWING:"following-sibling"==t[0]?L.FOLLOWINGSIBLING:"namespace"==t[0]?L.NAMESPACE:"parent"==t[0]?L.PARENT:"preceding"==t[0]?L.PRECEDING:"preceding-sibling"==t[0]?L.PRECEDINGSIBLING:"self"==t[0]?L.SELF:-1},this.reduceActions[57]=function(t){return L.ATTRIBUTE},this.reduceActions[59]=function(t){return"comment"==t[0]?k.commentTest:"text"==t[0]?k.textTest:"processing-instruction"==t[0]?k.anyPiTest:"node"==t[0]?k.nodeTest:new k(-1,void 0)},this.reduceActions[60]=function(t){return new k.PITest(t[2])},this.reduceActions[61]=function(t){return t[1]},this.reduceActions[63]=function(t){return t[1].absolute=!0,t[1].steps.unshift(new L(L.DESCENDANTORSELF,k.nodeTest,[])),t[1]},this.reduceActions[64]=function(t){return t[0].steps.push(new L(L.DESCENDANTORSELF,k.nodeTest,[])),t[0].steps.push(t[2]),t[0]},this.reduceActions[65]=function(t){return new L(L.SELF,k.nodeTest,[])},this.reduceActions[66]=function(t){return new L(L.PARENT,k.nodeTest,[])},this.reduceActions[67]=function(t){return new B(t[1])},this.reduceActions[68]=function(t){return k.nameTestAny},this.reduceActions[69]=function(t){return new k.NameTestPrefixAny(t[0].split(":")[0])},this.reduceActions[70]=function(t){return new k.NameTestQName(t[0])}},l.actionTable=[" s s        sssssssss    s ss  s  ss","                 s                  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                rrrrr               "," s s        sssssssss    s ss  s  ss","rs  rrrrrrrr s  sssssrrrrrr  rrs rs "," s s        sssssssss    s ss  s  ss","                            s       ","                            s       ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","  s                                 ","                            s       "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr  r  ","a                                   ","r       s                    rr  r  ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrs  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  srrrrrrrr         rrrrrrs rr sr  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                sssss               ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  srrrrrrrr         rrrrrrs rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","              s                     ","                             s      ","                rrrrr               "," s s        sssssssss    s sss s  ss","r  srrrrrrrr         rrrrrrs rr  r  "," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss      ss  s  ss"," s s        sssssssss    s ss  s  ss"," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr rr  "," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             rr     ","                             s      ","                             rs     ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","                                 r  ","                                 s  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  "," s s        sssssssss    s ss  s  ss","r  rrrrrrrrr         rrrrrrr rr rr  ","                             r      "],l.actionTableNumber=[" 1 0        /.-,+*)('    & %$  #  \"!","                 J                  ","a  aaaaaaaaa         aaaaaaa aa  a  ","                YYYYY               "," 1 0        /.-,+*)('    & %$  #  \"!","K1  KKKKKKKK .  +*)('KKKKKK  KK# K\" "," 1 0        /.-,+*)('    & %$  #  \"!","                            N       ","                            O       ","e  eeeeeeeee         eeeeeee ee ee  ","f  fffffffff         fffffff ff ff  ","d  ddddddddd         ddddddd dd dd  ","B  BBBBBBBBB         BBBBBBB BB BB  ","A  AAAAAAAAA         AAAAAAA AA AA  ","  P                                 ","                            Q       "," 1           .  +*)('          #  \" ","b  bbbbbbbbb         bbbbbbb bb  b  ","                                    ","!       S                    !!  !  ",'"      T"                    ""  "  ',"$   V  $$            U       $$  $  ","&   &ZY&&            &XW     &&  &  ",")   )))))            )))\\[   ))  )  ",".   ....._^]         .....   ..  .  ","1   11111111         11111   11  1  ","5   55555555         55555`  55  5  ","7   77777777         777777  77  7  ","9   99999999         999999  99  9  ",":  c::::::::         ::::::b :: a:  ","I  fIIIIIIII         IIIIIIe II  I  ","=  =========         ======= == ==  ","?  ?????????         ??????? ?? ??  ","C  CCCCCCCCC         CCCCCCC CC CC  ","J   JJJJJJJJ         JJJJJJ  JJ  J  ","M   MMMMMMMM         MMMMMM  MM  M  ","N  NNNNNNNNN         NNNNNNN NN  N  ","P  PPPPPPPPP         PPPPPPP PP  P  ","                +*)('               ","R  RRRRRRRRR         RRRRRRR RR aR  ","U  UUUUUUUUU         UUUUUUU UU  U  ","Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  ","c  ccccccccc         ccccccc cc cc  ","                             j      ","L  fLLLLLLLL         LLLLLLe LL  L  ","6   66666666         66666   66  6  ","              k                     ","                             l      ","                XXXXX               "," 1 0        /.-,+*)('    & %$m #  \"!","_  f________         ______e __  _  "," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('      %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1           .  +*)('          #  \" "," 1           .  +*)('          #  \" ",">  >>>>>>>>>         >>>>>>> >> >>  "," 1           .  +*)('          #  \" "," 1           .  +*)('          #  \" ","Q  QQQQQQQQQ         QQQQQQQ QQ aQ  ","V  VVVVVVVVV         VVVVVVV VV aV  ","T  TTTTTTTTT         TTTTTTT TT  T  ","@  @@@@@@@@@         @@@@@@@ @@ @@  ","                                   ","[  [[[[[[[[[         [[[[[[[ [[ [[  ","D  DDDDDDDDD         DDDDDDD DD DD  ","                             HH     ","                                   ","                             F     ","#      T#                    ##  #  ","%   V  %%            U       %%  %  ","'   'ZY''            'XW     ''  '  ","(   (ZY((            (XW     ((  (  ","+   +++++            +++\\[   ++  +  ","*   *****            ***\\[   **  *  ","-   -----            ---\\[   --  -  ",",   ,,,,,            ,,,\\[   ,,  ,  ","0   00000_^]         00000   00  0  ","/   /////_^]         /////   //  /  ","2   22222222         22222   22  2  ","3   33333333         33333   33  3  ","4   44444444         44444   44  4  ","8   88888888         888888  88  8  ","                                 ^  ","                                   ",";  f;;;;;;;;         ;;;;;;e ;;  ;  ","<  f<<<<<<<<         <<<<<<e <<  <  ","O  OOOOOOOOO         OOOOOOO OO  O  ","`  `````````         ``````` ``  `  ","S  SSSSSSSSS         SSSSSSS SS  S  ","W  WWWWWWWWW         WWWWWWW WW  W  ","\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  ","E  EEEEEEEEE         EEEEEEE EE EE  "," 1 0        /.-,+*)('    & %$  #  \"!","]  ]]]]]]]]]         ]]]]]]] ]] ]]  ","                             G      "],l.gotoTable=["3456789:;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","L456789:;<=>?@ AB  CDEFGH IJ ","            M        EFGH IJ ","       N;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","            S        EFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","              e              ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                        h  J ","              i          j   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABpqCDEFGH IJ ","                             ","  r6789:;<=>?@ AB  CDEFGH IJ ","   s789:;<=>?@ AB  CDEFGH IJ ","    t89:;<=>?@ AB  CDEFGH IJ ","    u89:;<=>?@ AB  CDEFGH IJ ","     v9:;<=>?@ AB  CDEFGH IJ ","     w9:;<=>?@ AB  CDEFGH IJ ","     x9:;<=>?@ AB  CDEFGH IJ ","     y9:;<=>?@ AB  CDEFGH IJ ","      z:;<=>?@ AB  CDEFGH IJ ","      {:;<=>?@ AB  CDEFGH IJ ","       |;<=>?@ AB  CDEFGH IJ ","       };<=>?@ AB  CDEFGH IJ ","       ~;<=>?@ AB  CDEFGH IJ ","         =>?@ AB  CDEFGH IJ ","456789:;<=>?@ AB  CDEFGH IJ","                    EFGH IJ ","                    EFGH IJ ","                             ","                      GH IJ ","                      GH IJ ","              i             ","              i             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABqCDEFGH IJ ","                             ","                             "],l.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]],l.DOUBLEDOT=2,l.DOUBLECOLON=3,l.DOUBLESLASH=4,l.NOTEQUAL=5,l.LESSTHANOREQUAL=6,l.GREATERTHANOREQUAL=7,l.AND=8,l.OR=9,l.MOD=10,l.DIV=11,l.MULTIPLYOPERATOR=12,l.FUNCTIONNAME=13,l.AXISNAME=14,l.LITERAL=15,l.NUMBER=16,l.ASTERISKNAMETEST=17,l.QNAME=18,l.NCNAMECOLONASTERISK=19,l.NODETYPE=20,l.PROCESSINGINSTRUCTIONWITHLITERAL=21,l.EQUALS=22,l.LESSTHAN=23,l.GREATERTHAN=24,l.PLUS=25,l.MINUS=26,l.BAR=27,l.SLASH=28,l.LEFTPARENTHESIS=29,l.RIGHTPARENTHESIS=30,l.COMMA=31,l.AT=32,l.LEFTBRACKET=33,l.RIGHTBRACKET=34,l.DOT=35,l.DOLLAR=36,l.prototype.tokenize=function(t){for(var e=[],n=[],r=t+"\0",o=0,i=r.charAt(o++);;){for(;" "==i||"\t"==i||"\r"==i||"\n"==i;)i=r.charAt(o++);if("\0"==i||o>=r.length)break;if("("!=i)if(")"!=i)if("["!=i)if("]"!=i)if("@"!=i)if(","!=i)if("|"!=i)if("+"!=i)if("-"!=i)if("="!=i)if("$"!=i)if("."!=i)if("'"!=i&&'"'!=i)if(i>="0"&&i<="9"){h=i;for(i=r.charAt(o++);i>="0"&&i<="9";)h+=i,i=r.charAt(o++);if("."==i&&r.charAt(o)>="0"&&r.charAt(o)<="9")for(h+=i,h+=r.charAt(o++),i=r.charAt(o++);i>="0"&&i<="9";)h+=i,i=r.charAt(o++);e.push(l.NUMBER),n.push(h)}else if("*"!=i)if(":"!=i||":"!=r.charAt(o))if("/"!=i)if("!"!=i||"="!=r.charAt(o))if("<"!=i)if(">"!=i){if("_"!=i&&!K.isLetter(i.charCodeAt(0)))throw new Error("Unexpected character "+i);var s=i;for(i=r.charAt(o++);K.isNCNameChar(i.charCodeAt(0));)s+=i,i=r.charAt(o++);if(e.length>0&&(a=e[e.length-1])!=l.AT&&a!=l.DOUBLECOLON&&a!=l.LEFTPARENTHESIS&&a!=l.LEFTBRACKET&&a!=l.AND&&a!=l.OR&&a!=l.MOD&&a!=l.DIV&&a!=l.MULTIPLYOPERATOR&&a!=l.SLASH&&a!=l.DOUBLESLASH&&a!=l.BAR&&a!=l.PLUS&&a!=l.MINUS&&a!=l.EQUALS&&a!=l.NOTEQUAL&&a!=l.LESSTHAN&&a!=l.LESSTHANOREQUAL&&a!=l.GREATERTHAN&&a!=l.GREATERTHANOREQUAL){if("and"==s){e.push(l.AND),n.push(s);continue}if("or"==s){e.push(l.OR),n.push(s);continue}if("mod"==s){e.push(l.MOD),n.push(s);continue}if("div"==s){e.push(l.DIV),n.push(s);continue}}if(":"==i){if("*"==r.charAt(o)){e.push(l.NCNAMECOLONASTERISK),n.push(s+":*"),o++,i=r.charAt(o++);continue}if("_"==r.charAt(o)||K.isLetter(r.charCodeAt(o))){for(s+=":",i=r.charAt(o++);K.isNCNameChar(i.charCodeAt(0));)s+=i,i=r.charAt(o++);if("("==i){e.push(l.FUNCTIONNAME),n.push(s);continue}e.push(l.QNAME),n.push(s);continue}if(":"==r.charAt(o)){e.push(l.AXISNAME),n.push(s);continue}}if("("==i){if("comment"==s||"text"==s||"node"==s){e.push(l.NODETYPE),n.push(s);continue}if("processing-instruction"==s){")"==r.charAt(o)?e.push(l.NODETYPE):e.push(l.PROCESSINGINSTRUCTIONWITHLITERAL),n.push(s);continue}e.push(l.FUNCTIONNAME),n.push(s);continue}e.push(l.QNAME),n.push(s)}else{if("="==r.charAt(o)){e.push(l.GREATERTHANOREQUAL),n.push(">="),o++,i=r.charAt(o++);continue}e.push(l.GREATERTHAN),n.push(">"),i=r.charAt(o++)}else{if("="==r.charAt(o)){e.push(l.LESSTHANOREQUAL),n.push("<="),o++,i=r.charAt(o++);continue}e.push(l.LESSTHAN),n.push("<"),i=r.charAt(o++)}else e.push(l.NOTEQUAL),n.push("!="),o++,i=r.charAt(o++);else{if("/"==(i=r.charAt(o++))){e.push(l.DOUBLESLASH),n.push("//"),i=r.charAt(o++);continue}e.push(l.SLASH),n.push("/")}else e.push(l.DOUBLECOLON),n.push("::"),o++,i=r.charAt(o++);else{var a;if(e.length>0&&(a=e[e.length-1])!=l.AT&&a!=l.DOUBLECOLON&&a!=l.LEFTPARENTHESIS&&a!=l.LEFTBRACKET&&a!=l.AND&&a!=l.OR&&a!=l.MOD&&a!=l.DIV&&a!=l.MULTIPLYOPERATOR&&a!=l.SLASH&&a!=l.DOUBLESLASH&&a!=l.BAR&&a!=l.PLUS&&a!=l.MINUS&&a!=l.EQUALS&&a!=l.NOTEQUAL&&a!=l.LESSTHAN&&a!=l.LESSTHANOREQUAL&&a!=l.GREATERTHAN&&a!=l.GREATERTHANOREQUAL){e.push(l.MULTIPLYOPERATOR),n.push(i),i=r.charAt(o++);continue}e.push(l.ASTERISKNAMETEST),n.push(i),i=r.charAt(o++)}else{for(var u=i,c="";o<r.length&&(i=r.charAt(o))!==u;)c+=i,o+=1;if(i!==u)throw Q.fromMessage("Unterminated string literal: "+u+c);o+=1,e.push(l.LITERAL),n.push(c),i=r.charAt(o++)}else{if("."==(i=r.charAt(o++))){e.push(l.DOUBLEDOT),n.push(".."),i=r.charAt(o++);continue}if(i>="0"&&i<="9"){var h="."+i;for(i=r.charAt(o++);i>="0"&&i<="9";)h+=i,i=r.charAt(o++);e.push(l.NUMBER),n.push(h);continue}e.push(l.DOT),n.push(".")}else e.push(l.DOLLAR),n.push(i),i=r.charAt(o++);else e.push(l.EQUALS),n.push(i),i=r.charAt(o++);else e.push(l.MINUS),n.push(i),i=r.charAt(o++);else e.push(l.PLUS),n.push(i),i=r.charAt(o++);else e.push(l.BAR),n.push(i),i=r.charAt(o++);else e.push(l.COMMA),n.push(i),i=r.charAt(o++);else e.push(l.AT),n.push(i),i=r.charAt(o++);else e.push(l.RIGHTBRACKET),n.push(i),i=r.charAt(o++);else e.push(l.LEFTBRACKET),n.push(i),i=r.charAt(o++);else e.push(l.RIGHTPARENTHESIS),n.push(i),i=r.charAt(o++);else e.push(l.LEFTPARENTHESIS),n.push(i),i=r.charAt(o++)}return e.push(1),n.push("[EOF]"),[e,n]},l.SHIFT="s",l.REDUCE="r",l.ACCEPT="a",l.prototype.parse=function(t){var e,n,r=this.tokenize(t);if(null!=r){e=r[0],n=r[1];var o,i,s=0,a=[],u=[],h=[];for(a.push(0),u.push(1),h.push("_S"),o=e[s],i=n[s++];;)switch(t=a[a.length-1],l.actionTable[t].charAt(o-1)){case l.SHIFT:u.push(-o),h.push(i),a.push(l.actionTableNumber[t].charCodeAt(o-1)-32),o=e[s],i=n[s++];break;case l.REDUCE:for(var d=l.productions[l.actionTableNumber[t].charCodeAt(o-1)-32][1],p=[],f=0;f<d;f++)u.pop(),p.unshift(h.pop()),a.pop();var g=a[a.length-1];u.push(l.productions[l.actionTableNumber[t].charCodeAt(o-1)-32][0]),null==this.reduceActions[l.actionTableNumber[t].charCodeAt(o-1)-32]?h.push(p[0]):h.push(this.reduceActions[l.actionTableNumber[t].charCodeAt(o-1)-32](p)),a.push(l.gotoTable[g].charCodeAt(l.productions[l.actionTableNumber[t].charCodeAt(o-1)-32][0]-2)-33);break;case l.ACCEPT:return new c(h.pop());default:throw new Error("XPath parse error")}}},c.prototype=new Object,c.prototype.constructor=c,c.superclass=Object.prototype,c.prototype.toString=function(){return this.expression.toString()},c.prototype.evaluate=function(t){return t.contextNode=t.expressionContextNode,t.contextSize=1,t.contextPosition=1,t.isHtml&&(h(t,"caseInsensitive",!0),h(t,"allowAnyNamespaceForNoPrefix",!0)),h(t,"caseInsensitive",!1),this.expression.evaluate(t)},c.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace",c.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/",d.prototype=new Object,d.prototype.constructor=d,d.superclass=Object.prototype,d.prototype.init=function(){},d.prototype.toString=function(){return"<Expression>"},d.prototype.evaluate=function(t){throw new Error("Could not evaluate expression.")},p.prototype=new d,p.prototype.constructor=p,p.superclass=d.prototype,p.prototype.init=function(t){this.rhs=t},f.prototype=new p,f.prototype.constructor=f,f.superclass=p.prototype,f.prototype.init=function(t){f.superclass.init.call(this,t)},f.prototype.evaluate=function(t){return this.rhs.evaluate(t).number().negate()},f.prototype.toString=function(){return"-"+this.rhs.toString()},g.prototype=new d,g.prototype.constructor=g,g.superclass=d.prototype,g.prototype.init=function(t,e){this.lhs=t,this.rhs=e},v.prototype=new g,v.prototype.constructor=v,v.superclass=g.prototype,v.prototype.init=function(t,e){v.superclass.init.call(this,t,e)},v.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"},v.prototype.evaluate=function(t){var e=this.lhs.evaluate(t).bool();return e.booleanValue()?e:this.rhs.evaluate(t).bool()},m.prototype=new g,m.prototype.constructor=m,m.superclass=g.prototype,m.prototype.init=function(t,e){m.superclass.init.call(this,t,e)},m.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"},m.prototype.evaluate=function(t){var e=this.lhs.evaluate(t).bool();return e.booleanValue()?this.rhs.evaluate(t).bool():e},y.prototype=new g,y.prototype.constructor=y,y.superclass=g.prototype,y.prototype.init=function(t,e){y.superclass.init.call(this,t,e)},y.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"},y.prototype.evaluate=function(t){return this.lhs.evaluate(t).equals(this.rhs.evaluate(t))},b.prototype=new g,b.prototype.constructor=b,b.superclass=g.prototype,b.prototype.init=function(t,e){b.superclass.init.call(this,t,e)},b.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"},b.prototype.evaluate=function(t){return this.lhs.evaluate(t).notequal(this.rhs.evaluate(t))},w.prototype=new g,w.prototype.constructor=w,w.superclass=g.prototype,w.prototype.init=function(t,e){w.superclass.init.call(this,t,e)},w.prototype.evaluate=function(t){return this.lhs.evaluate(t).lessthan(this.rhs.evaluate(t))},w.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"},x.prototype=new g,x.prototype.constructor=x,x.superclass=g.prototype,x.prototype.init=function(t,e){x.superclass.init.call(this,t,e)},x.prototype.evaluate=function(t){return this.lhs.evaluate(t).greaterthan(this.rhs.evaluate(t))},x.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+")"},_.prototype=new g,_.prototype.constructor=_,_.superclass=g.prototype,_.prototype.init=function(t,e){_.superclass.init.call(this,t,e)},_.prototype.evaluate=function(t){return this.lhs.evaluate(t).lessthanorequal(this.rhs.evaluate(t))},_.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"},E.prototype=new g,E.prototype.constructor=E,E.superclass=g.prototype,E.prototype.init=function(t,e){E.superclass.init.call(this,t,e)},E.prototype.evaluate=function(t){return this.lhs.evaluate(t).greaterthanorequal(this.rhs.evaluate(t))},E.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"},T.prototype=new g,T.prototype.constructor=T,T.superclass=g.prototype,T.prototype.init=function(t,e){T.superclass.init.call(this,t,e)},T.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().plus(this.rhs.evaluate(t).number())},T.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"},N.prototype=new g,N.prototype.constructor=N,N.superclass=g.prototype,N.prototype.init=function(t,e){N.superclass.init.call(this,t,e)},N.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().minus(this.rhs.evaluate(t).number())},N.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"},A.prototype=new g,A.prototype.constructor=A,A.superclass=g.prototype,A.prototype.init=function(t,e){A.superclass.init.call(this,t,e)},A.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().multiply(this.rhs.evaluate(t).number())},A.prototype.toString=function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"},S.prototype=new g,S.prototype.constructor=S,S.superclass=g.prototype,S.prototype.init=function(t,e){S.superclass.init.call(this,t,e)},S.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().div(this.rhs.evaluate(t).number())},S.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"},I.prototype=new g,I.prototype.constructor=I,I.superclass=g.prototype,I.prototype.init=function(t,e){I.superclass.init.call(this,t,e)},I.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().mod(this.rhs.evaluate(t).number())},I.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"},C.prototype=new g,C.prototype.constructor=C,C.superclass=g.prototype,C.prototype.init=function(t,e){C.superclass.init.call(this,t,e)},C.prototype.evaluate=function(t){return this.lhs.evaluate(t).nodeset().union(this.rhs.evaluate(t).nodeset())},C.prototype.toString=function(){return r(o,[this.lhs,this.rhs]).join(" | ")},O.prototype=new d,O.prototype.constructor=O,O.superclass=d.prototype,O.prototype.init=function(t,e,n){O.superclass.init.call(this),this.filter=t,this.filterPredicates=e,this.locationPath=n},O.applyPredicates=function(t,r,o){if(0===t.length)return o;var i=r.extend({});return n((function(t,n){return i.contextSize=t.length,r=function(t,e){return i.contextNode=t,i.contextPosition=e+1,O.predicateMatches(n,i)},o=[],e((function(t,e){r(t,e)&&o.push(t)}),t),o;var r,o}),o,t)},O.getRoot=function(t,e){var n=e[0];if(9===n.nodeType)return n;if(t.virtualRoot)return t.virtualRoot;var r=n.ownerDocument;if(r)return r;for(var o=n;null!=o.parentNode;)o=o.parentNode;return o},O.applyStep=function(t,e,n){var r=[];switch(e.contextNode=n,t.axis){case L.ANCESTOR:if(e.contextNode===e.virtualRoot)break;for(o=2==e.contextNode.nodeType?O.getOwnerElement(e.contextNode):e.contextNode.parentNode;null!=o&&(t.nodeTest.matches(o,e)&&r.push(o),o!==e.virtualRoot);)o=o.parentNode;break;case L.ANCESTORORSELF:for(var o=e.contextNode;null!=o&&(t.nodeTest.matches(o,e)&&r.push(o),o!==e.virtualRoot);o=2==o.nodeType?O.getOwnerElement(o):o.parentNode);break;case L.ATTRIBUTE:var i=e.contextNode.attributes;if(null!=i)for(var s=0;s<i.length;s++){o=i.item(s);t.nodeTest.matches(o,e)&&r.push(o)}break;case L.CHILD:for(o=e.contextNode.firstChild;null!=o;o=o.nextSibling)t.nodeTest.matches(o,e)&&r.push(o);break;case L.DESCENDANT:for(var a=[e.contextNode.firstChild];a.length>0;)for(o=a.pop();null!=o;)t.nodeTest.matches(o,e)&&r.push(o),null!=o.firstChild?(a.push(o.nextSibling),o=o.firstChild):o=o.nextSibling;break;case L.DESCENDANTORSELF:t.nodeTest.matches(e.contextNode,e)&&r.push(e.contextNode);for(a=[e.contextNode.firstChild];a.length>0;)for(o=a.pop();null!=o;)t.nodeTest.matches(o,e)&&r.push(o),null!=o.firstChild?(a.push(o.nextSibling),o=o.firstChild):o=o.nextSibling;break;case L.FOLLOWING:if(e.contextNode===e.virtualRoot)break;a=[];null!=e.contextNode.firstChild?a.unshift(e.contextNode.firstChild):a.unshift(e.contextNode.nextSibling);for(o=e.contextNode.parentNode;null!=o&&9!=o.nodeType&&o!==e.virtualRoot;o=o.parentNode)a.unshift(o.nextSibling);do{for(o=a.pop();null!=o;)t.nodeTest.matches(o,e)&&r.push(o),null!=o.firstChild?(a.push(o.nextSibling),o=o.firstChild):o=o.nextSibling}while(a.length>0);break;case L.FOLLOWINGSIBLING:if(e.contextNode===e.virtualRoot)break;for(o=e.contextNode.nextSibling;null!=o;o=o.nextSibling)t.nodeTest.matches(o,e)&&r.push(o);break;case L.NAMESPACE:var u={};if(1==e.contextNode.nodeType){u.xml=c.XML_NAMESPACE_URI,u.xmlns=c.XMLNS_NAMESPACE_URI;for(o=e.contextNode;null!=o&&1==o.nodeType;o=o.parentNode)for(s=0;s<o.attributes.length;s++){var l=o.attributes.item(s),h=String(l.name);if("xmlns"==h)null==u[""]&&(u[""]=l.value);else if(h.length>6&&"xmlns:"==h.substring(0,6)){null==u[d=h.substring(6,h.length)]&&(u[d]=l.value)}}for(var d in u){var p=new G(d,u[d],e.contextNode);t.nodeTest.matches(p,e)&&r.push(p)}}break;case L.PARENT:o=null,e.contextNode!==e.virtualRoot&&(o=2==e.contextNode.nodeType?O.getOwnerElement(e.contextNode):e.contextNode.parentNode),null!=o&&t.nodeTest.matches(o,e)&&r.push(o);break;case L.PRECEDING:a=null!=e.virtualRoot?[e.virtualRoot]:[M(e.contextNode)];t:for(;a.length>0;)for(o=a.pop();null!=o;){if(o==e.contextNode)break t;t.nodeTest.matches(o,e)&&r.unshift(o),null!=o.firstChild?(a.push(o.nextSibling),o=o.firstChild):o=o.nextSibling}break;case L.PRECEDINGSIBLING:if(e.contextNode===e.virtualRoot)break;for(o=e.contextNode.previousSibling;null!=o;o=o.previousSibling)t.nodeTest.matches(o,e)&&r.push(o);break;case L.SELF:t.nodeTest.matches(e.contextNode,e)&&r.push(e.contextNode)}return r},O.applySteps=function(t,e,r){return n(P.bind(null,e),r,t)},O.prototype.applyFilter=function(t,e){if(!this.filter)return{nodes:[t.contextNode]};var n=this.filter.evaluate(t);if(!K.instance_of(n,$)){if(null!=this.filterPredicates&&this.filterPredicates.length>0||null!=this.locationPath)throw new Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:n}}return{nodes:O.applyPredicates(this.filterPredicates||[],e,n.toUnsortedArray())}},O.applyLocationPath=function(t,e,n){if(!t)return n;var r=t.absolute?[O.getRoot(e,n)]:n;return O.applySteps(t.steps,e,r)},O.prototype.evaluate=function(t){var e=u(new z,t),n=this.applyFilter(t,e);if("nonNodes"in n)return n.nonNodes;var r=new $;return r.addArray(O.applyLocationPath(this.locationPath,e,n.nodes)),r},O.predicateMatches=function(t,e){var n=t.evaluate(e);return K.instance_of(n,V)?e.contextPosition===n.numberValue():n.booleanValue()},O.predicateString=function(t){return s("[","]",t.toString())},O.predicatesString=function(t){return i("",r(O.predicateString,t))},O.prototype.toString=function(){if(null!=this.filter){var t=o(this.filter);return K.instance_of(this.filter,U)?s("'","'",t):null!=this.filterPredicates&&this.filterPredicates.length?s("(",")",t)+O.predicatesString(this.filterPredicates):null!=this.locationPath?t+(this.locationPath.absolute?"":"/")+o(this.locationPath):t}return o(this.locationPath)},O.getOwnerElement=function(t){if(t.ownerElement)return t.ownerElement;try{if(t.selectSingleNode)return t.selectSingleNode("..")}catch(t){}for(var e=(9==t.nodeType?t:t.ownerDocument).getElementsByTagName("*"),n=0;n<e.length;n++)for(var r=e.item(n),o=r.attributes,i=0;i<o.length;i++){if(o.item(i)===t)return r}return null},D.prototype=new Object,D.prototype.constructor=D,D.superclass=Object.prototype,D.prototype.init=function(t,e){this.absolute=t,this.steps=e},D.prototype.toString=function(){return(this.absolute?"/":"")+r(o,this.steps).join("/")},L.prototype=new Object,L.prototype.constructor=L,L.superclass=Object.prototype,L.prototype.init=function(t,e,n){this.axis=t,this.nodeTest=e,this.predicates=n},L.prototype.toString=function(){return L.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+O.predicatesString(this.predicates)},L.ANCESTOR=0,L.ANCESTORORSELF=1,L.ATTRIBUTE=2,L.CHILD=3,L.DESCENDANT=4,L.DESCENDANTORSELF=5,L.FOLLOWING=6,L.FOLLOWINGSIBLING=7,L.NAMESPACE=8,L.PARENT=9,L.PRECEDING=10,L.PRECEDINGSIBLING=11,L.SELF=12,L.STEPNAMES=n((function(t,e){return t[e[0]]=e[1],t}),{},[[L.ANCESTOR,"ancestor"],[L.ANCESTORORSELF,"ancestor-or-self"],[L.ATTRIBUTE,"attribute"],[L.CHILD,"child"],[L.DESCENDANT,"descendant"],[L.DESCENDANTORSELF,"descendant-or-self"],[L.FOLLOWING,"following"],[L.FOLLOWINGSIBLING,"following-sibling"],[L.NAMESPACE,"namespace"],[L.PARENT,"parent"],[L.PRECEDING,"preceding"],[L.PRECEDINGSIBLING,"preceding-sibling"],[L.SELF,"self"]]),k.prototype=new Object,k.prototype.constructor=k,k.superclass=Object.prototype,k.prototype.init=function(t,e){this.type=t,this.value=e},k.prototype.toString=function(){return"<unknown nodetest type>"},k.prototype.matches=function(t,e){console.warn("unknown node test type")},k.NAMETESTANY=0,k.NAMETESTPREFIXANY=1,k.NAMETESTQNAME=2,k.COMMENT=3,k.TEXT=4,k.PI=5,k.NODE=6,k.isNodeType=function(t){return function(e){return function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}(t,e.nodeType)}},k.makeNodeTestType=function(t,e,n){var r=n||function(){};return r.prototype=new k(t),r.prototype.constructor=r,u(r.prototype,e),r},k.makeNodeTypeTest=function(t,e,n){return new(k.makeNodeTestType(t,{matches:k.isNodeType(e),toString:(r=n,function(){return r})}));var r},k.hasPrefix=function(t){return t.prefix||-1!==(t.nodeName||t.tagName).indexOf(":")},k.isElementOrAttribute=k.isNodeType([1,2]),k.nameSpaceMatches=function(t,e,n){var r=n.namespaceURI||"";if(!t)return!r||e.allowAnyNamespaceForNoPrefix&&!k.hasPrefix(n);var o=e.namespaceResolver.getNamespace(t,e.expressionContextNode);if(null==o)throw new Error("Cannot resolve QName "+t);return o===r},k.localNameMatches=function(t,e,n){var r=n.localName||n.nodeName;return e.caseInsensitive?t.toLowerCase()===r.toLowerCase():t===r},k.NameTestPrefixAny=k.makeNodeTestType(k.NAMETESTPREFIXANY,{matches:function(t,e){return k.isElementOrAttribute(t)&&k.nameSpaceMatches(this.prefix,e,t)},toString:function(){return this.prefix+":*"}},(function(t){this.prefix=t})),k.NameTestQName=k.makeNodeTestType(k.NAMETESTQNAME,{matches:function(t,e){return k.isNodeType([1,2,G.XPATH_NAMESPACE_NODE])(t)&&k.nameSpaceMatches(this.prefix,e,t)&&k.localNameMatches(this.localName,e,t)},toString:function(){return this.name}},(function(t){var e=t.split(":");this.name=t,this.prefix=e.length>1?e[0]:null,this.localName=e[e.length>1?1:0]})),k.PITest=k.makeNodeTestType(k.PI,{matches:function(t,e){return k.isNodeType([7])(t)&&(t.target||t.nodeName)===this.name},toString:function(){return s('processing-instruction("','")',this.name)}},(function(t){this.name=t})),k.nameTestAny=k.makeNodeTypeTest(k.NAMETESTANY,[1,2,G.XPATH_NAMESPACE_NODE],"*"),k.textTest=k.makeNodeTypeTest(k.TEXT,[3,4],"text()"),k.commentTest=k.makeNodeTypeTest(k.COMMENT,[8],"comment()"),k.nodeTest=k.makeNodeTypeTest(k.NODE,[1,2,3,4,7,8,9],"node()"),k.anyPiTest=k.makeNodeTypeTest(k.PI,[7],"processing-instruction()"),B.prototype=new d,B.prototype.constructor=B,B.superclass=d.prototype,B.prototype.init=function(t){this.variable=t},B.prototype.toString=function(){return"$"+this.variable},B.prototype.evaluate=function(t){var e=K.resolveQName(this.variable,t.namespaceResolver,t.contextNode,!1);if(null==e[0])throw new Error("Cannot resolve QName "+fn);var n=t.variableResolver.getVariable(e[1],e[0]);if(!n)throw Q.fromMessage("Undeclared variable: "+this.toString());return n},F.prototype=new d,F.prototype.constructor=F,F.superclass=d.prototype,F.prototype.init=function(t,e){this.functionName=t,this.arguments=e},F.prototype.toString=function(){for(var t=this.functionName+"(",e=0;e<this.arguments.length;e++)e>0&&(t+=", "),t+=this.arguments[e].toString();return t+")"},F.prototype.evaluate=function(t){var e=Y.getFunctionFromContext(this.functionName,t);if(!e)throw new Error("Unknown function "+this.functionName);var n=[t].concat(this.arguments);return e.apply(t.functionResolver.thisArg,n)};var j=new Object;function U(t){arguments.length>0&&this.init(t)}function V(t){arguments.length>0&&this.init(t)}function W(t){arguments.length>0&&this.init(t)}function H(t){this.init(t)}function $(){this.init()}function G(t,e,n){this.isXPathNamespace=!0,this.ownerDocument=n.ownerDocument,this.nodeName="#namespace",this.prefix=t,this.localName=t,this.namespaceURI=e,this.nodeValue=e,this.ownerElement=n,this.nodeType=G.XPATH_NAMESPACE_NODE}function z(t,e,n){this.variableResolver=null!=t?t:new q,this.namespaceResolver=null!=e?e:new X,this.functionResolver=null!=n?n:new Y}function q(){}function Y(t){this.thisArg=null!=t?t:J,this.functions=new Object,this.addStandardFunctions()}function X(){}j.equals=function(t,e){return t.equals(e)},j.notequal=function(t,e){return t.notequal(e)},j.lessthan=function(t,e){return t.lessthan(e)},j.greaterthan=function(t,e){return t.greaterthan(e)},j.lessthanorequal=function(t,e){return t.lessthanorequal(e)},j.greaterthanorequal=function(t,e){return t.greaterthanorequal(e)},U.prototype=new d,U.prototype.constructor=U,U.superclass=d.prototype,U.prototype.init=function(t){this.str=String(t)},U.prototype.toString=function(){return this.str},U.prototype.evaluate=function(t){return this},U.prototype.string=function(){return this},U.prototype.number=function(){return new V(this.str)},U.prototype.bool=function(){return new W(this.str)},U.prototype.nodeset=function(){throw new Error("Cannot convert string to nodeset")},U.prototype.stringValue=function(){return this.str},U.prototype.numberValue=function(){return this.number().numberValue()},U.prototype.booleanValue=function(){return this.bool().booleanValue()},U.prototype.equals=function(t){return K.instance_of(t,W)?this.bool().equals(t):K.instance_of(t,V)?this.number().equals(t):K.instance_of(t,$)?t.compareWithString(this,j.equals):new W(this.str==t.str)},U.prototype.notequal=function(t){return K.instance_of(t,W)?this.bool().notequal(t):K.instance_of(t,V)?this.number().notequal(t):K.instance_of(t,$)?t.compareWithString(this,j.notequal):new W(this.str!=t.str)},U.prototype.lessthan=function(t){return this.number().lessthan(t)},U.prototype.greaterthan=function(t){return this.number().greaterthan(t)},U.prototype.lessthanorequal=function(t){return this.number().lessthanorequal(t)},U.prototype.greaterthanorequal=function(t){return this.number().greaterthanorequal(t)},V.prototype=new d,V.prototype.constructor=V,V.superclass=d.prototype,V.prototype.init=function(t){this.num="string"==typeof t?this.parse(t):Number(t)},V.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/,V.prototype.parse=function(t){return this.numberFormat.test(t)?parseFloat(t):Number.NaN},V.prototype.toString=function(){var t=this.num.toString();return-1!==t.indexOf("e-")?function(t){for(var e=t.split("e-"),n=e[0].replace(".",""),r=Number(e[1]),o=0;o<r-1;o+=1)n="0"+n;return"0."+n}(t):-1!==t.indexOf("e")?function(t){for(var e=t.split("e"),n=e[0].replace(".",""),r=Number(e[1])+1-n.length,o=0;o<r;o+=1)n+="0";return n}(t):t},V.prototype.evaluate=function(t){return this},V.prototype.string=function(){return new U(this.toString())},V.prototype.number=function(){return this},V.prototype.bool=function(){return new W(this.num)},V.prototype.nodeset=function(){throw new Error("Cannot convert number to nodeset")},V.prototype.stringValue=function(){return this.string().stringValue()},V.prototype.numberValue=function(){return this.num},V.prototype.booleanValue=function(){return this.bool().booleanValue()},V.prototype.negate=function(){return new V(-this.num)},V.prototype.equals=function(t){return K.instance_of(t,W)?this.bool().equals(t):K.instance_of(t,U)?this.equals(t.number()):K.instance_of(t,$)?t.compareWithNumber(this,j.equals):new W(this.num==t.num)},V.prototype.notequal=function(t){return K.instance_of(t,W)?this.bool().notequal(t):K.instance_of(t,U)?this.notequal(t.number()):K.instance_of(t,$)?t.compareWithNumber(this,j.notequal):new W(this.num!=t.num)},V.prototype.lessthan=function(t){return K.instance_of(t,$)?t.compareWithNumber(this,j.greaterthan):K.instance_of(t,W)||K.instance_of(t,U)?this.lessthan(t.number()):new W(this.num<t.num)},V.prototype.greaterthan=function(t){return K.instance_of(t,$)?t.compareWithNumber(this,j.lessthan):K.instance_of(t,W)||K.instance_of(t,U)?this.greaterthan(t.number()):new W(this.num>t.num)},V.prototype.lessthanorequal=function(t){return K.instance_of(t,$)?t.compareWithNumber(this,j.greaterthanorequal):K.instance_of(t,W)||K.instance_of(t,U)?this.lessthanorequal(t.number()):new W(this.num<=t.num)},V.prototype.greaterthanorequal=function(t){return K.instance_of(t,$)?t.compareWithNumber(this,j.lessthanorequal):K.instance_of(t,W)||K.instance_of(t,U)?this.greaterthanorequal(t.number()):new W(this.num>=t.num)},V.prototype.plus=function(t){return new V(this.num+t.num)},V.prototype.minus=function(t){return new V(this.num-t.num)},V.prototype.multiply=function(t){return new V(this.num*t.num)},V.prototype.div=function(t){return new V(this.num/t.num)},V.prototype.mod=function(t){return new V(this.num%t.num)},W.prototype=new d,W.prototype.constructor=W,W.superclass=d.prototype,W.prototype.init=function(t){this.b=Boolean(t)},W.prototype.toString=function(){return this.b.toString()},W.prototype.evaluate=function(t){return this},W.prototype.string=function(){return new U(this.b)},W.prototype.number=function(){return new V(this.b)},W.prototype.bool=function(){return this},W.prototype.nodeset=function(){throw new Error("Cannot convert boolean to nodeset")},W.prototype.stringValue=function(){return this.string().stringValue()},W.prototype.numberValue=function(){return this.number().numberValue()},W.prototype.booleanValue=function(){return this.b},W.prototype.not=function(){return new W(!this.b)},W.prototype.equals=function(t){return K.instance_of(t,U)||K.instance_of(t,V)?this.equals(t.bool()):K.instance_of(t,$)?t.compareWithBoolean(this,j.equals):new W(this.b==t.b)},W.prototype.notequal=function(t){return K.instance_of(t,U)||K.instance_of(t,V)?this.notequal(t.bool()):K.instance_of(t,$)?t.compareWithBoolean(this,j.notequal):new W(this.b!=t.b)},W.prototype.lessthan=function(t){return this.number().lessthan(t)},W.prototype.greaterthan=function(t){return this.number().greaterthan(t)},W.prototype.lessthanorequal=function(t){return this.number().lessthanorequal(t)},W.prototype.greaterthanorequal=function(t){return this.number().greaterthanorequal(t)},W.true_=new W(!0),W.false_=new W(!1),H.prototype=new Object,H.prototype.constructor=H,H.superclass=Object.prototype,H.prototype.init=function(t){this.left=null,this.right=null,this.node=t,this.depth=1},H.prototype.balance=function(){var t=null==this.left?0:this.left.depth,e=null==this.right?0:this.right.depth;if(t>e+1)(null==this.left.left?0:this.left.left.depth)<(null==this.left.right?0:this.left.right.depth)&&this.left.rotateRR(),this.rotateLL();else if(t+1<e){var n=null==this.right.right?0:this.right.right.depth;(null==this.right.left?0:this.right.left.depth)>n&&this.right.rotateLL(),this.rotateRR()}},H.prototype.rotateLL=function(){var t=this.node,e=this.right;this.node=this.left.node,this.right=this.left,this.left=this.left.left,this.right.left=this.right.right,this.right.right=e,this.right.node=t,this.right.updateInNewLocation(),this.updateInNewLocation()},H.prototype.rotateRR=function(){var t=this.node,e=this.left;this.node=this.right.node,this.left=this.right,this.right=this.right.right,this.left.right=this.left.left,this.left.left=e,this.left.node=t,this.left.updateInNewLocation(),this.updateInNewLocation()},H.prototype.updateInNewLocation=function(){this.getDepthFromChildren()},H.prototype.getDepthFromChildren=function(){this.depth=null==this.node?0:1,null!=this.left&&(this.depth=this.left.depth+1),null!=this.right&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)},H.prototype.add=function(t){if(t===this.node)return!1;var e=function(t,e){if(t===e)return 0;if(t.compareDocumentPosition){var n=t.compareDocumentPosition(e);return 1&n||10&n?1:20&n?-1:0}for(var r=0,o=0,i=t;null!=i;i=i.parentNode||i.ownerElement)r++;for(var s=e;null!=s;s=s.parentNode||s.ownerElement)o++;if(r>o){for(;r>o;)t=t.parentNode||t.ownerElement,r--;if(t===e)return 1}else if(o>r){for(;o>r;)e=e.parentNode||e.ownerElement,o--;if(t===e)return-1}for(var a=t.parentNode||t.ownerElement,u=e.parentNode||e.ownerElement;a!==u;)e=u,a=(t=a).parentNode||t.ownerElement,u=e.parentNode||e.ownerElement;var l=K.isAttribute(t),c=K.isAttribute(e);if(l&&!c)return-1;if(!l&&c)return 1;if(a)for(var h=l?a.attributes:a.childNodes,d=h.length,p=0;p<d;p+=1){var f=h[p];if(f===t)return-1;if(f===e)return 1}throw new Error("Unexpected: could not determine node order")}(t,this.node),n=!1;return-1==e?null==this.left?(this.left=new H(t),n=!0):(n=this.left.add(t))&&this.balance():1==e&&(null==this.right?(this.right=new H(t),n=!0):(n=this.right.add(t))&&this.balance()),n&&this.getDepthFromChildren(),n},$.prototype=new d,$.prototype.constructor=$,$.superclass=d.prototype,$.prototype.init=function(){this.tree=null,this.nodes=[],this.size=0},$.prototype.toString=function(){var t=this.first();return null==t?"":this.stringForNode(t)},$.prototype.evaluate=function(t){return this},$.prototype.string=function(){return new U(this.toString())},$.prototype.stringValue=function(){return this.toString()},$.prototype.number=function(){return new V(this.string())},$.prototype.numberValue=function(){return Number(this.string())},$.prototype.bool=function(){return new W(this.booleanValue())},$.prototype.booleanValue=function(){return!!this.size},$.prototype.nodeset=function(){return this},$.prototype.stringForNode=function(t){return 9==t.nodeType||1==t.nodeType||11===t.nodeType?this.stringForContainerNode(t):2===t.nodeType?t.value||t.nodeValue:t.isNamespaceNode?t.namespace:t.nodeValue},$.prototype.stringForContainerNode=function(t){for(var e="",n=t.firstChild;null!=n;n=n.nextSibling){var r=n.nodeType;1!==r&&3!==r&&4!==r&&9!==r&&11!==r||(e+=this.stringForNode(n))}return e},$.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new H(this.nodes[0]);for(var t=1;t<this.nodes.length;t+=1)this.tree.add(this.nodes[t])}return this.tree},$.prototype.first=function(){var t=this.buildTree();if(null==t)return null;for(;null!=t.left;)t=t.left;return t.node},$.prototype.add=function(t){for(var e=0;e<this.nodes.length;e+=1)if(t===this.nodes[e])return;this.tree=null,this.nodes.push(t),this.size+=1},$.prototype.addArray=function(t){var n=this;e((function(t){n.add(t)}),t)},$.prototype.toArray=function(){var t=[];return this.toArrayRec(this.buildTree(),t),t},$.prototype.toArrayRec=function(t,e){null!=t&&(this.toArrayRec(t.left,e),e.push(t.node),this.toArrayRec(t.right,e))},$.prototype.toUnsortedArray=function(){return this.nodes.slice()},$.prototype.compareWithString=function(t,e){for(var n=this.toUnsortedArray(),r=0;r<n.length;r++){var o=n[r],i=e(new U(this.stringForNode(o)),t);if(i.booleanValue())return i}return new W(!1)},$.prototype.compareWithNumber=function(t,e){for(var n=this.toUnsortedArray(),r=0;r<n.length;r++){var o=n[r],i=e(new V(this.stringForNode(o)),t);if(i.booleanValue())return i}return new W(!1)},$.prototype.compareWithBoolean=function(t,e){return e(this.bool(),t)},$.prototype.compareWithNodeSet=function(t,e){for(var n=this.toUnsortedArray(),r=function(t,n){return e(n,t)},o=0;o<n.length;o++){var i=new U(this.stringForNode(n[o])),s=t.compareWithString(i,r);if(s.booleanValue())return s}return new W(!1)},$.compareWith=function(t){var e=Array.prototype.slice,n=t.length,r=function(t,n){return function(){return n.apply(this,t.concat(e.call(arguments)))}},o=function(){var i=e.call(arguments);return i.length<n?r(i,o):t.apply(this,e.apply(arguments,[0,n]))};return o}((function(t,e){return K.instance_of(e,U)?this.compareWithString(e,t):K.instance_of(e,V)?this.compareWithNumber(e,t):K.instance_of(e,W)?this.compareWithBoolean(e,t):this.compareWithNodeSet(e,t)})),$.prototype.equals=$.compareWith(j.equals),$.prototype.notequal=$.compareWith(j.notequal),$.prototype.lessthan=$.compareWith(j.lessthan),$.prototype.greaterthan=$.compareWith(j.greaterthan),$.prototype.lessthanorequal=$.compareWith(j.lessthanorequal),$.prototype.greaterthanorequal=$.compareWith(j.greaterthanorequal),$.prototype.union=function(t){var e=new $;return e.addArray(this.toUnsortedArray()),e.addArray(t.toUnsortedArray()),e},G.prototype=new Object,G.prototype.constructor=G,G.superclass=Object.prototype,G.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'},z.prototype=new Object,z.prototype.constructor=z,z.superclass=Object.prototype,z.prototype.extend=function(t){return u(new z,this,t)},q.prototype=new Object,q.prototype.constructor=q,q.superclass=Object.prototype,q.prototype.getVariable=function(t,e){return null},Y.prototype=new Object,Y.prototype.constructor=Y,Y.superclass=Object.prototype,Y.prototype.addStandardFunctions=function(){this.functions["{}last"]=J.last,this.functions["{}position"]=J.position,this.functions["{}count"]=J.count,this.functions["{}id"]=J.id,this.functions["{}local-name"]=J.localName,this.functions["{}namespace-uri"]=J.namespaceURI,this.functions["{}name"]=J.name,this.functions["{}string"]=J.string,this.functions["{}concat"]=J.concat,this.functions["{}starts-with"]=J.startsWith,this.functions["{}contains"]=J.contains,this.functions["{}substring-before"]=J.substringBefore,this.functions["{}substring-after"]=J.substringAfter,this.functions["{}substring"]=J.substring,this.functions["{}string-length"]=J.stringLength,this.functions["{}normalize-space"]=J.normalizeSpace,this.functions["{}translate"]=J.translate,this.functions["{}boolean"]=J.boolean_,this.functions["{}not"]=J.not,this.functions["{}true"]=J.true_,this.functions["{}false"]=J.false_,this.functions["{}lang"]=J.lang,this.functions["{}number"]=J.number,this.functions["{}sum"]=J.sum,this.functions["{}floor"]=J.floor,this.functions["{}ceiling"]=J.ceiling,this.functions["{}round"]=J.round},Y.prototype.addFunction=function(t,e,n){this.functions["{"+t+"}"+e]=n},Y.getFunctionFromContext=function(t,e){var n=K.resolveQName(t,e.namespaceResolver,e.contextNode,!1);if(null===n[0])throw new Error("Cannot resolve QName "+name);return e.functionResolver.getFunction(n[1],n[0])},Y.prototype.getFunction=function(t,e){return this.functions["{"+e+"}"+t]},X.prototype=new Object,X.prototype.constructor=X,X.superclass=Object.prototype,X.prototype.getNamespace=function(t,e){if("xml"==t)return c.XML_NAMESPACE_URI;if("xmlns"==t)return c.XMLNS_NAMESPACE_URI;for(9==e.nodeType?e=e.documentElement:2==e.nodeType?e=O.getOwnerElement(e):1!=e.nodeType&&(e=e.parentNode);null!=e&&1==e.nodeType;){for(var n=e.attributes,r=0;r<n.length;r++){var o=n.item(r),i=o.name||o.nodeName;if("xmlns"===i&&""===t||i==="xmlns:"+t)return String(o.value||o.nodeValue)}e=e.parentNode}return null};var J=new Object;J.last=function(t){if(1!=arguments.length)throw new Error("Function last expects ()");return new V(t.contextSize)},J.position=function(t){if(1!=arguments.length)throw new Error("Function position expects ()");return new V(t.contextPosition)},J.count=function(){var t,e=arguments[0];if(2!=arguments.length||!K.instance_of(t=arguments[1].evaluate(e),$))throw new Error("Function count expects (node-set)");return new V(t.size)},J.id=function(){var t,e=arguments[0];if(2!=arguments.length)throw new Error("Function id expects (object)");t=arguments[1].evaluate(e);for(var n=(t=K.instance_of(t,$)?t.toArray().join(" "):t.stringValue()).split(/[\x0d\x0a\x09\x20]+/),r=new $,o=9==e.contextNode.nodeType?e.contextNode:e.contextNode.ownerDocument,i=0;i<n.length;i++){var s;null!=(s=o.getElementById?o.getElementById(n[i]):K.getElementById(o,n[i]))&&(r.add(s))}return r},J.localName=function(t,e){var n;if(1==arguments.length)n=t.contextNode;else{if(2!=arguments.length)throw new Error("Function local-name expects (node-set?)");n=e.evaluate(t).first()}return new U(null==n?"":n.localName||n.baseName||n.target||n.nodeName||"")},J.namespaceURI=function(){var t,e=arguments[0];if(1==arguments.length)t=e.contextNode;else{if(2!=arguments.length)throw new Error("Function namespace-uri expects (node-set?)");t=arguments[1].evaluate(e).first()}return new U(null==t?"":t.namespaceURI)},J.name=function(){var t,e=arguments[0];if(1==arguments.length)t=e.contextNode;else{if(2!=arguments.length)throw new Error("Function name expects (node-set?)");t=arguments[1].evaluate(e).first()}return null==t?new U(""):1==t.nodeType?new U(t.nodeName):2==t.nodeType?new U(t.name||t.nodeName):7===t.nodeType?new U(t.target||t.nodeName):null==t.localName?new U(""):new U(t.localName)},J.string=function(){var t=arguments[0];if(1==arguments.length)return new U($.prototype.stringForNode(t.contextNode));if(2==arguments.length)return arguments[1].evaluate(t).string();throw new Error("Function string expects (object?)")},J.concat=function(t){if(arguments.length<3)throw new Error("Function concat expects (string, string[, string]*)");for(var e="",n=1;n<arguments.length;n++)e+=arguments[n].evaluate(t).stringValue();return new U(e)},J.startsWith=function(){var t=arguments[0];if(3!=arguments.length)throw new Error("Function startsWith expects (string, string)");var e=arguments[1].evaluate(t).stringValue(),n=arguments[2].evaluate(t).stringValue();return new W(e.substring(0,n.length)==n)},J.contains=function(){var t=arguments[0];if(3!=arguments.length)throw new Error("Function contains expects (string, string)");var e=arguments[1].evaluate(t).stringValue(),n=arguments[2].evaluate(t).stringValue();return new W(-1!==e.indexOf(n))},J.substringBefore=function(){var t=arguments[0];if(3!=arguments.length)throw new Error("Function substring-before expects (string, string)");var e=arguments[1].evaluate(t).stringValue(),n=arguments[2].evaluate(t).stringValue();return new U(e.substring(0,e.indexOf(n)))},J.substringAfter=function(){var t=arguments[0];if(3!=arguments.length)throw new Error("Function substring-after expects (string, string)");var e=arguments[1].evaluate(t).stringValue(),n=arguments[2].evaluate(t).stringValue();if(0==n.length)return new U(e);var r=e.indexOf(n);return new U(-1==r?"":e.substring(r+n.length))},J.substring=function(){var t=arguments[0];if(3!=arguments.length&&4!=arguments.length)throw new Error("Function substring expects (string, number, number?)");var e=arguments[1].evaluate(t).stringValue(),n=Math.round(arguments[2].evaluate(t).numberValue())-1,r=4==arguments.length?n+Math.round(arguments[3].evaluate(t).numberValue()):void 0;return new U(e.substring(n,r))},J.stringLength=function(){var t,e=arguments[0];if(1==arguments.length)t=$.prototype.stringForNode(e.contextNode);else{if(2!=arguments.length)throw new Error("Function string-length expects (string?)");t=arguments[1].evaluate(e).stringValue()}return new V(t.length)},J.normalizeSpace=function(){var t,e=arguments[0];if(1==arguments.length)t=$.prototype.stringForNode(e.contextNode);else{if(2!=arguments.length)throw new Error("Function normalize-space expects (string?)");t=arguments[1].evaluate(e).stringValue()}for(var n=0,r=t.length-1;K.isSpace(t.charCodeAt(r));)r--;for(var o="";n<=r&&K.isSpace(t.charCodeAt(n));)n++;for(;n<=r;)if(K.isSpace(t.charCodeAt(n)))for(o+=" ";n<=r&&K.isSpace(t.charCodeAt(n));)n++;else o+=t.charAt(n),n++;return new U(o)},J.translate=function(t,e,o,s){if(4!=arguments.length)throw new Error("Function translate expects (string, string, string)");var a=e.evaluate(t).stringValue(),u=o.evaluate(t).stringValue(),l=s.evaluate(t).stringValue(),c=n((function(t,e,n){return e in t||(t[e]=n>l.length?"":l[n]),t}),{},u),h=i("",r((function(t){return t in c?c[t]:t}),a));return new U(h)},J.boolean_=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function boolean expects (object)");return arguments[1].evaluate(t).bool()},J.not=function(t,e){if(2!=arguments.length)throw new Error("Function not expects (object)");return e.evaluate(t).bool().not()},J.true_=function(){if(1!=arguments.length)throw new Error("Function true expects ()");return W.true_},J.false_=function(){if(1!=arguments.length)throw new Error("Function false expects ()");return W.false_},J.lang=function(){var t,e=arguments[0];if(2!=arguments.length)throw new Error("Function lang expects (string)");for(var n=e.contextNode;null!=n&&9!=n.nodeType;n=n.parentNode){var r=n.getAttributeNS(c.XML_NAMESPACE_URI,"lang");if(null!=r){t=String(r);break}}if(null==t)return W.false_;var o=arguments[1].evaluate(e).stringValue();return new W(t.substring(0,o.length)==o&&(t.length==o.length||"-"==t.charAt(o.length)))},J.number=function(){var t=arguments[0];if(1!=arguments.length&&2!=arguments.length)throw new Error("Function number expects (object?)");return 1==arguments.length?new V($.prototype.stringForNode(t.contextNode)):arguments[1].evaluate(t).number()},J.sum=function(){var t,e=arguments[0];if(2!=arguments.length||!K.instance_of(t=arguments[1].evaluate(e),$))throw new Error("Function sum expects (node-set)");t=t.toUnsortedArray();for(var n=0,r=0;r<t.length;r++)n+=new V($.prototype.stringForNode(t[r])).numberValue();return new V(n)},J.floor=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function floor expects (number)");return new V(Math.floor(arguments[1].evaluate(t).numberValue()))},J.ceiling=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function ceiling expects (number)");return new V(Math.ceil(arguments[1].evaluate(t).numberValue()))},J.round=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function round expects (number)");return new V(Math.round(arguments[1].evaluate(t).numberValue()))};var K=new Object;K.isAttribute=function(t){return t&&(2===t.nodeType||t.ownerElement)},K.splitQName=function(t){var e=t.indexOf(":");return-1==e?[null,t]:[t.substring(0,e),t.substring(e+1)]},K.resolveQName=function(t,e,n,r){var o=K.splitQName(t);return null!=o[0]?o[0]=e.getNamespace(o[0],n):r?(o[0]=e.getNamespace("",n),null==o[0]&&(o[0]="")):o[0]="",o},K.isSpace=function(t){return 9==t||13==t||10==t||32==t},K.isLetter=function(t){return t>=65&&t<=90||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=255||t>=256&&t<=305||t>=308&&t<=318||t>=321&&t<=328||t>=330&&t<=382||t>=384&&t<=451||t>=461&&t<=496||t>=500&&t<=501||t>=506&&t<=535||t>=592&&t<=680||t>=699&&t<=705||902==t||t>=904&&t<=906||908==t||t>=910&&t<=929||t>=931&&t<=974||t>=976&&t<=982||986==t||988==t||990==t||992==t||t>=994&&t<=1011||t>=1025&&t<=1036||t>=1038&&t<=1103||t>=1105&&t<=1116||t>=1118&&t<=1153||t>=1168&&t<=1220||t>=1223&&t<=1224||t>=1227&&t<=1228||t>=1232&&t<=1259||t>=1262&&t<=1269||t>=1272&&t<=1273||t>=1329&&t<=1366||1369==t||t>=1377&&t<=1414||t>=1488&&t<=1514||t>=1520&&t<=1522||t>=1569&&t<=1594||t>=1601&&t<=1610||t>=1649&&t<=1719||t>=1722&&t<=1726||t>=1728&&t<=1742||t>=1744&&t<=1747||1749==t||t>=1765&&t<=1766||t>=2309&&t<=2361||2365==t||t>=2392&&t<=2401||t>=2437&&t<=2444||t>=2447&&t<=2448||t>=2451&&t<=2472||t>=2474&&t<=2480||2482==t||t>=2486&&t<=2489||t>=2524&&t<=2525||t>=2527&&t<=2529||t>=2544&&t<=2545||t>=2565&&t<=2570||t>=2575&&t<=2576||t>=2579&&t<=2600||t>=2602&&t<=2608||t>=2610&&t<=2611||t>=2613&&t<=2614||t>=2616&&t<=2617||t>=2649&&t<=2652||2654==t||t>=2674&&t<=2676||t>=2693&&t<=2699||2701==t||t>=2703&&t<=2705||t>=2707&&t<=2728||t>=2730&&t<=2736||t>=2738&&t<=2739||t>=2741&&t<=2745||2749==t||2784==t||t>=2821&&t<=2828||t>=2831&&t<=2832||t>=2835&&t<=2856||t>=2858&&t<=2864||t>=2866&&t<=2867||t>=2870&&t<=2873||2877==t||t>=2908&&t<=2909||t>=2911&&t<=2913||t>=2949&&t<=2954||t>=2958&&t<=2960||t>=2962&&t<=2965||t>=2969&&t<=2970||2972==t||t>=2974&&t<=2975||t>=2979&&t<=2980||t>=2984&&t<=2986||t>=2990&&t<=2997||t>=2999&&t<=3001||t>=3077&&t<=3084||t>=3086&&t<=3088||t>=3090&&t<=3112||t>=3114&&t<=3123||t>=3125&&t<=3129||t>=3168&&t<=3169||t>=3205&&t<=3212||t>=3214&&t<=3216||t>=3218&&t<=3240||t>=3242&&t<=3251||t>=3253&&t<=3257||3294==t||t>=3296&&t<=3297||t>=3333&&t<=3340||t>=3342&&t<=3344||t>=3346&&t<=3368||t>=3370&&t<=3385||t>=3424&&t<=3425||t>=3585&&t<=3630||3632==t||t>=3634&&t<=3635||t>=3648&&t<=3653||t>=3713&&t<=3714||3716==t||t>=3719&&t<=3720||3722==t||3725==t||t>=3732&&t<=3735||t>=3737&&t<=3743||t>=3745&&t<=3747||3749==t||3751==t||t>=3754&&t<=3755||t>=3757&&t<=3758||3760==t||t>=3762&&t<=3763||3773==t||t>=3776&&t<=3780||t>=3904&&t<=3911||t>=3913&&t<=3945||t>=4256&&t<=4293||t>=4304&&t<=4342||4352==t||t>=4354&&t<=4355||t>=4357&&t<=4359||4361==t||t>=4363&&t<=4364||t>=4366&&t<=4370||4412==t||4414==t||4416==t||4428==t||4430==t||4432==t||t>=4436&&t<=4437||4441==t||t>=4447&&t<=4449||4451==t||4453==t||4455==t||4457==t||t>=4461&&t<=4462||t>=4466&&t<=4467||4469==t||4510==t||4520==t||4523==t||t>=4526&&t<=4527||t>=4535&&t<=4536||4538==t||t>=4540&&t<=4546||4587==t||4592==t||4601==t||t>=7680&&t<=7835||t>=7840&&t<=7929||t>=7936&&t<=7957||t>=7960&&t<=7965||t>=7968&&t<=8005||t>=8008&&t<=8013||t>=8016&&t<=8023||8025==t||8027==t||8029==t||t>=8031&&t<=8061||t>=8064&&t<=8116||t>=8118&&t<=8124||8126==t||t>=8130&&t<=8132||t>=8134&&t<=8140||t>=8144&&t<=8147||t>=8150&&t<=8155||t>=8160&&t<=8172||t>=8178&&t<=8180||t>=8182&&t<=8188||8486==t||t>=8490&&t<=8491||8494==t||t>=8576&&t<=8578||t>=12353&&t<=12436||t>=12449&&t<=12538||t>=12549&&t<=12588||t>=44032&&t<=55203||t>=19968&&t<=40869||12295==t||t>=12321&&t<=12329},K.isNCNameChar=function(t){return t>=48&&t<=57||t>=1632&&t<=1641||t>=1776&&t<=1785||t>=2406&&t<=2415||t>=2534&&t<=2543||t>=2662&&t<=2671||t>=2790&&t<=2799||t>=2918&&t<=2927||t>=3047&&t<=3055||t>=3174&&t<=3183||t>=3302&&t<=3311||t>=3430&&t<=3439||t>=3664&&t<=3673||t>=3792&&t<=3801||t>=3872&&t<=3881||46==t||45==t||95==t||K.isLetter(t)||t>=768&&t<=837||t>=864&&t<=865||t>=1155&&t<=1158||t>=1425&&t<=1441||t>=1443&&t<=1465||t>=1467&&t<=1469||1471==t||t>=1473&&t<=1474||1476==t||t>=1611&&t<=1618||1648==t||t>=1750&&t<=1756||t>=1757&&t<=1759||t>=1760&&t<=1764||t>=1767&&t<=1768||t>=1770&&t<=1773||t>=2305&&t<=2307||2364==t||t>=2366&&t<=2380||2381==t||t>=2385&&t<=2388||t>=2402&&t<=2403||t>=2433&&t<=2435||2492==t||2494==t||2495==t||t>=2496&&t<=2500||t>=2503&&t<=2504||t>=2507&&t<=2509||2519==t||t>=2530&&t<=2531||2562==t||2620==t||2622==t||2623==t||t>=2624&&t<=2626||t>=2631&&t<=2632||t>=2635&&t<=2637||t>=2672&&t<=2673||t>=2689&&t<=2691||2748==t||t>=2750&&t<=2757||t>=2759&&t<=2761||t>=2763&&t<=2765||t>=2817&&t<=2819||2876==t||t>=2878&&t<=2883||t>=2887&&t<=2888||t>=2891&&t<=2893||t>=2902&&t<=2903||t>=2946&&t<=2947||t>=3006&&t<=3010||t>=3014&&t<=3016||t>=3018&&t<=3021||3031==t||t>=3073&&t<=3075||t>=3134&&t<=3140||t>=3142&&t<=3144||t>=3146&&t<=3149||t>=3157&&t<=3158||t>=3202&&t<=3203||t>=3262&&t<=3268||t>=3270&&t<=3272||t>=3274&&t<=3277||t>=3285&&t<=3286||t>=3330&&t<=3331||t>=3390&&t<=3395||t>=3398&&t<=3400||t>=3402&&t<=3405||3415==t||3633==t||t>=3636&&t<=3642||t>=3655&&t<=3662||3761==t||t>=3764&&t<=3769||t>=3771&&t<=3772||t>=3784&&t<=3789||t>=3864&&t<=3865||3893==t||3895==t||3897==t||3902==t||3903==t||t>=3953&&t<=3972||t>=3974&&t<=3979||t>=3984&&t<=3989||3991==t||t>=3993&&t<=4013||t>=4017&&t<=4023||4025==t||t>=8400&&t<=8412||8417==t||t>=12330&&t<=12335||12441==t||12442==t||183==t||720==t||721==t||903==t||1600==t||3654==t||3782==t||12293==t||t>=12337&&t<=12341||t>=12445&&t<=12446||t>=12540&&t<=12542},K.coalesceText=function(t){for(var e=t.firstChild;null!=e;e=e.nextSibling)if(3==e.nodeType||4==e.nodeType){var n=e.nodeValue,r=e;for(e=e.nextSibling;null!=e&&(3==e.nodeType||4==e.nodeType);){n+=e.nodeValue;var o=e;e=e.nextSibling,o.parentNode.removeChild(o)}if(4==r.nodeType){var i=r.parentNode;if(null==r.nextSibling)i.removeChild(r),i.appendChild(i.ownerDocument.createTextNode(n));else{var s=r.nextSibling;i.removeChild(r),i.insertBefore(i.ownerDocument.createTextNode(n),s)}}else r.nodeValue=n;if(null==e)break}else 1==e.nodeType&&K.coalesceText(e)},K.instance_of=function(t,e){for(;null!=t;){if(t.constructor===e)return!0;if(t===Object)return!1;t=t.constructor.superclass}return!1},K.getElementById=function(t,e){if(1==t.nodeType&&(t.getAttribute("id")==e||t.getAttributeNS(null,"id")==e))return t;for(var n=t.firstChild;null!=n;n=n.nextSibling){var r=K.getElementById(n,e);if(null!=r)return r}return null};var Q=function(){function t(e,n,r){var o=Error.call(this,function(e,n){var r=n?": "+n.toString():"";switch(e){case t.INVALID_EXPRESSION_ERR:return"Invalid expression"+r;case t.TYPE_ERR:return"Type error"+r}return null}(e,n)||r);return o.code=e,o.exception=n,o}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t.superclass=Error,t.prototype.toString=function(){return this.message},t.fromMessage=function(e,n){return new t(null,n,e)},t.INVALID_EXPRESSION_ERR=51,t.TYPE_ERR=52,t}();function Z(t,e,n){this.xpath=n.parse(t),this.context=new z,this.context.namespaceResolver=new tt(e)}function tt(t){this.xpathNSResolver=t}function et(t){this.node=t,this.namespaceResolver=new X}function nt(t,e){switch(e==nt.ANY_TYPE&&(t.constructor===U?e=nt.STRING_TYPE:t.constructor===V?e=nt.NUMBER_TYPE:t.constructor===W?e=nt.BOOLEAN_TYPE:t.constructor===$&&(e=nt.UNORDERED_NODE_ITERATOR_TYPE)),this.resultType=e,e){case nt.NUMBER_TYPE:return void(this.numberValue=t.numberValue());case nt.STRING_TYPE:return void(this.stringValue=t.stringValue());case nt.BOOLEAN_TYPE:return void(this.booleanValue=t.booleanValue());case nt.ANY_UNORDERED_NODE_TYPE:case nt.FIRST_ORDERED_NODE_TYPE:if(t.constructor===$)return void(this.singleNodeValue=t.first());break;case nt.UNORDERED_NODE_ITERATOR_TYPE:case nt.ORDERED_NODE_ITERATOR_TYPE:if(t.constructor===$)return this.invalidIteratorState=!1,this.nodes=t.toArray(),void(this.iteratorIndex=0);break;case nt.UNORDERED_NODE_SNAPSHOT_TYPE:case nt.ORDERED_NODE_SNAPSHOT_TYPE:if(t.constructor===$)return this.nodes=t.toArray(),void(this.snapshotLength=this.nodes.length)}throw new Q(Q.TYPE_ERR)}function rt(t,e){t.createExpression=function(t,n){try{return new Z(t,n,e)}catch(t){throw new Q(Q.INVALID_EXPRESSION_ERR,t)}},t.createNSResolver=function(t){return new et(t)},t.evaluate=function(n,r,o,i,s){if(i<0||i>9)throw{code:0,toString:function(){return"Request type not supported"}};return t.createExpression(n,o,e).evaluate(r,i,s)}}Z.prototype={},Z.prototype.constructor=Z,Z.superclass=Object.prototype,Z.getOwnerDocument=function(t){return 9===t.nodeType?t:t.ownerDocument},Z.detectHtmlDom=function(t){if(!t)return!1;var e=Z.getOwnerDocument(t);try{return e.implementation.hasFeature("HTML","2.0")}catch(t){return!0}},Z.prototype.evaluate=function(t,e,n){return this.context.expressionContextNode=t,this.context.caseInsensitive=Z.detectHtmlDom(t),new nt(this.xpath.evaluate(this.context),e)},tt.prototype={},tt.prototype.constructor=tt,tt.superclass=Object.prototype,tt.prototype.getNamespace=function(t,e){return null==this.xpathNSResolver?null:this.xpathNSResolver.lookupNamespaceURI(t)},et.prototype={},et.prototype.constructor=et,et.superclass=Object.prototype,et.prototype.lookupNamespaceURI=function(t){return this.namespaceResolver.getNamespace(t,this.node)},nt.prototype={},nt.prototype.constructor=nt,nt.superclass=Object.prototype,nt.prototype.iterateNext=function(){if(this.resultType!=nt.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=nt.ORDERED_NODE_ITERATOR_TYPE)throw new Q(Q.TYPE_ERR);return this.nodes[this.iteratorIndex++]},nt.prototype.snapshotItem=function(t){if(this.resultType!=nt.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=nt.ORDERED_NODE_SNAPSHOT_TYPE)throw new Q(Q.TYPE_ERR);return this.nodes[t]},nt.ANY_TYPE=0,nt.NUMBER_TYPE=1,nt.STRING_TYPE=2,nt.BOOLEAN_TYPE=3,nt.UNORDERED_NODE_ITERATOR_TYPE=4,nt.ORDERED_NODE_ITERATOR_TYPE=5,nt.UNORDERED_NODE_SNAPSHOT_TYPE=6,nt.ORDERED_NODE_SNAPSHOT_TYPE=7,nt.ANY_UNORDERED_NODE_TYPE=8,nt.FIRST_ORDERED_NODE_TYPE=9;try{var ot=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(ot=!1)}catch(t){}ot&&rt(document,new l)}catch(t){}rt(t,new l),function(){var e=new l,n=new X,r=new Y,o=new q;function i(t){return{getNamespace:function(e,r){return t(e,r)||n.getNamespace(e,r)}}}function s(t){return t&&"function"==typeof t.getNamespace?i((e=t).getNamespace.bind(e)):"function"==typeof t?i(t):"object"==typeof t?function(t){return i((function(e){return t[e]}))}(t):n;var e}function a(t){if(null==t||t instanceof U||t instanceof W||t instanceof V||t instanceof $)return t;switch(typeof t){case"string":return new U(t);case"boolean":return new W(t);case"number":return new V(t)}var e=new $;return e.addArray([].concat(t)),e}function u(t){return{getFunction:function(e,n){var o=t(e,n);return o?function(t){return function(e){var n=Array.prototype.slice.call(arguments,1).map((function(t){return t.evaluate(e)}));return a(t.apply(this,[].concat(e,n)))}}(o):r.getFunction(e,n)}}}function c(t){return t&&"function"==typeof t.getFunction?u((e=t).getFunction.bind(e)):"function"==typeof t?u(t):"object"==typeof t?function(t){return u((function(e){return t[e]}))}(t):r;var e}function h(t){return{getVariable:function(e,n){return a(t(e,n))}}}function d(t,e,n){t in n&&(e[t]=n[t])}function p(t){var e=new z;return t?(e.namespaceResolver=s(t.namespaces),e.functionResolver=c(t.functions),e.variableResolver=function(t){if(t){if("function"==typeof t.getVariable)return h(t.getVariable.bind(t));if("function"==typeof t)return h(t);if("object"==typeof t)return h((function(e){return t[e]}))}return o}(t.variables),e.expressionContextNode=t.node,d("allowAnyNamespaceForNoPrefix",e,t),d("isHtml",e,t)):e.namespaceResolver=n,e}var f={evaluate:function(t){return function(t,e){var n=p(e);return t.evaluate(n)}(this.expression,t)},evaluateNumber:function(t){return this.evaluate(t).numberValue()},evaluateString:function(t){return this.evaluate(t).stringValue()},evaluateBoolean:function(t){return this.evaluate(t).booleanValue()},evaluateNodeSet:function(t){return this.evaluate(t).nodeset()},select:function(t){return this.evaluateNodeSet(t).toArray()},select1:function(t){return this.select(t)[0]}};t.parse=function(t){var n=e.parse(t);return Object.create(f,{expression:{value:n}})}}(),u(t,{XPath:c,XPathParser:l,XPathResult:nt,Step:L,PathExpr:O,NodeTest:k,LocationPath:D,OrOperation:v,AndOperation:m,BarOperation:C,EqualsOperation:y,NotEqualOperation:b,LessThanOperation:w,GreaterThanOperation:x,LessThanOrEqualOperation:_,GreaterThanOrEqualOperation:E,PlusOperation:T,MinusOperation:N,MultiplyOperation:A,DivOperation:S,ModOperation:I,UnaryMinusOperation:f,FunctionCall:F,VariableReference:B,XPathContext:z,XNodeSet:$,XBoolean:W,XString:U,XNumber:V,NamespaceResolver:X,FunctionResolver:Y,VariableResolver:q,Utilities:K}),t.select=function(e,n,r){return t.selectWithResolver(e,n,null,r)},t.useNamespaces=function(e){var n={mappings:e||{},lookupNamespaceURI:function(t){return this.mappings[t]}};return function(e,r,o){return t.selectWithResolver(e,r,n,o)}},t.selectWithResolver=function(t,e,n,r){var o=new Z(t,n,new l),i=nt.ANY_TYPE,s=o.evaluate(e,i,null);return s.resultType==nt.STRING_TYPE?s=s.stringValue:s.resultType==nt.NUMBER_TYPE?s=s.numberValue:s.resultType==nt.BOOLEAN_TYPE?s=s.booleanValue:(s=s.nodes,r&&(s=s[0])),s},t.select1=function(e,n){return t.select(e,n,!0)}}(e)}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};(()=>{"use strict";var t=n(644),e=n.n(t),r=n(42),o=n.n(r),i=n(664),s=n.n(i),a=n(300),u=n.n(a),l=n(431),c=n.n(l);function h(t,e="",n=""){var r=u().parse(t);return c()(r,(t=>{c()(t,(t=>{"tag"===t.type?"page"===t.value?t.value="body":t.value="wx-"+t.value:"class"===t.type&&e?t.value=e+"--"+t.value:"id"===t.type&&n&&(t.type="attribute",t.value=`id='${n+"--"+t.value}'`)}))})),u().stringify(r)}function d(t){return!!t&&(s()(t.tagName,"WX-")||"BODY"===t.tagName)}function p(t){var e="",n=t.__wxElement;return n&&n.__component__?e=n.__componentOptions.classPrefix:n&&n.classList&&(e=n.classList._prefix),e}function f(t){var e="",n=t.__wxElement;return n&&n.__component__?e=n.__idPrefix:n&&n.classList&&(e=n.classList._owner&&n.classList._owner._elem&&n.classList._owner._elem.__idPrefix),e}var g=n(393),v=n.n(g),m=n(313),y=n.n(m),b=n(651),w=n.n(b),x=n(381),_=n.n(x),E=n(35),T=n.n(E),N=n(309),A=n.n(N),S=n(761),I=n.n(S),C=["eventName","elementId"],O=new Map;function M(t){var e=t._id;return e||(e=y()(),t._id=e),O.set(e,{id:e,element:t}),e}function R(t){var e=O.get(t);if(!e)throw Error("element destroyed");return e.element}function P(t){var e={elementId:M(t),tagName:t.tagName.toLocaleLowerCase().replace("wx-","")},n=w()(t,"__wxElement.__wxTmplId");return n&&(e.nodeId=n),"video"===e.tagName&&(e.videoId=t.__wxElement.id||""),e}function D(){return(D=e()((function*(t){var{elementId:e,names:n}=t,r=R(e);return{attributes:n.map((t=>r.getAttribute(t)))}}))).apply(this,arguments)}function L(){return(L=e()((function*(t){var{elementId:e,names:n}=t,r=R(e),o=getComputedStyle(r);return{styles:n.map((t=>o[t]))}}))).apply(this,arguments)}function k(){return(k=e()((function*(t){var{elementId:e,type:n}=t,r=R(e);return{wxml:B("outer"===n?r.outerHTML:r.innerHTML)}}))).apply(this,arguments)}function B(t){return t=(t=(t=t.replace(/\n/g,"")).replace(/(<wx-text[^>]*>)(<span[^>]*>[^<]*<\/span>)(.*?<\/wx-text>)/g,"$1$3")).replace(/<\/?[^>]*>/g,(t=>t.indexOf("<body")>-1?"<page>":"</body>"===t?"</page>":0!==t.indexOf("<wx-")&&0!==t.indexOf("</wx-")?"":t=(t=(t=(t=t.replace(/wx-/g,"")).replace(/ exparser:[^=]*="[^"]*"/g,"")).replace(/ wx:[^=]*="[^"]*"/g,"")).replace(/ role=""/g,"").replace(/ aria-label=""/g,"")))}function F(){return(F=e()((function*(t){var{elementId:e,names:n}=t,r=R(e);return{properties:n.map((t=>w()(r,t)))}}))).apply(this,arguments)}function j(){return(j=e()((function*(t){var{elementId:e,names:n}=t,r=R(e).__wxElement;return{properties:n.map((t=>w()(r,t)))}}))).apply(this,arguments)}function U(){return(U=e()((function*(t){var e=R(t.elementId).getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset}}))).apply(this,arguments)}function V(){return(V=e()((function*(t){var{elementId:e}=t,n=R(e);J(n),Q(n)}))).apply(this,arguments)}function W(){return(W=e()((function*(t){var{elementId:e,touches:n,changedTouches:r}=t;J(R(e),{touches:n,changedTouches:r})}))).apply(this,arguments)}function H(){return(H=e()((function*(t){var{elementId:e,touches:n,changedTouches:r}=t;K(R(e),{touches:n,changedTouches:r})}))).apply(this,arguments)}function $(){return($=e()((function*(t){var{elementId:e,touches:n,changedTouches:r}=t;Q(R(e),{touches:n,changedTouches:r})}))).apply(this,arguments)}function G(){return(G=e()((function*(t){var{type:e,elementId:n}=t,{detail:r}=t,o=R(n);_()(r)&&(r={}),o.__wxElement.triggerEvent(e,r)}))).apply(this,arguments)}function z(){return(z=e()((function*(t){var{functionName:e,args:n,elementId:r}=t;if(!e)throw Error("functionName is not provided");var o=R(r);n.unshift(o);var i=w()(X,e);if(!i)throw Error(`${e} not exists`);return{result:i.apply(null,n)}}))).apply(this,arguments)}function q(t,e,n){var r=n.eventData||{},o=r.detail||{},i=r.touches||[],s=r.changedTouches||[];i=et(e,i),s=et(e,s);var a=document.createEvent("Event");a.initEvent(t,!0,!0),a.touches=i,a.changedTouches=s;var u={bubbles:!0,capturePhase:!0,composed:!0,extraFields:{_allowWriteOnly:!0,touches:i,changedTouches:s},originalEvent:a};return exparser.Event.create(t,o,u)}function Y(){return(Y=e()((function*(t){var{eventName:e,elementId:n}=t,r=v()(t,C);if(!e)throw Error("eventName is not provided");var o=R(n),i=r.$?o.__wxElement.$[r.$]:o;if(!i)throw Error("target is not found");var s=q(e,i,t);if("tap"===e)__virtualDOM__.wrapTapMark((()=>{exparser.Event.dispatchEvent(i,s)}));else if("scroll"===e){var a,{scrollTop:u,scrollLeft:l}=(null==t||null===(a=t.eventData)||void 0===a?void 0:a.scrollDetail)||{};if(i!==document){var c=i;if("WX-SCROLL-VIEW"===c.tagName){var h=i.__wxElement.$;c=h.main.$$?h.main.$$:h.main}isNaN(u)||(c.scrollTop=Number(u)),isNaN(l)||(c.scrollLeft=Number(l))}else isNaN(u)||(document.documentElement.scrollTop=Number(u),document.body.scrollTop=Number(u))}else exparser.Event.dispatchEvent(i,s)}))).apply(this,arguments)}var X={"scroll-view":{scrollTo(t,e,n){var r=t.__wxElement;r.$.main.$$.scrollLeft=e,r.$.main.$$.scrollTop=n},scrollTop:t=>t.__wxElement.$.main.$$.scrollTop,scrollLeft:t=>t.__wxElement.$.main.$$.scrollLeft,scrollWidth:t=>t.__wxElement.$.main.$$.scrollWidth,scrollHeight:t=>t.__wxElement.$.main.$$.scrollHeight},swiper:{swipeTo(t,e){var n=t.__wxElement;n.__currentChangeSource="touch",n.current=e,n._animateViewport(e,"touch",0)}},input:{input(t,e){var n=t.__wxElement;if(n.onKeyboardComplete){var r="ios"===wx.getPlatform(),o=!1;r&&(o=n._keyboardShow,n._keyboardShow=!0),n.onKeyboardComplete({detail:{value:e,cursor:e.length,inputId:n._inputId}}),r&&(n._keyboardShow=o)}else n._inputKey({target:{value:e}}),n._showValueChange(e)}},textarea:{input(t,e){var n=t.__wxElement;n.onKeyboardComplete?n.onKeyboardComplete({detail:{value:e,cursor:e.length,inputId:n._inputId}}):n.onTextAreaInput({target:{value:e}})}},"movable-view":{moveTo(t,e,n){t.__wxElement._animationTo(e,n)}},switch:{tap(t){t.__wxElement.onInputChange()}},slider:{slideTo(t,e){var n=t.__wxElement,r=n.$.step.offsetWidth,o=n.$.step.getBoundingClientRect().left;n._onUserChangedValue({detail:{x:(e-n.min)*r/(n.max-n.min)+o}})}}};function J(t,e={}){var{touches:n=[],changedTouches:r=[]}=e;I()(n)&&(n=[tt(t)]),I()(r)&&(r=[tt(t)]),Z("touchstart",t,{touches:n,changedTouches:r})}function K(t,e={}){var{touches:n=[],changedTouches:r=[]}=e;I()(n)&&(n=[tt(t)]),I()(r)&&(r=[tt(t)]),Z("touchmove",t,{touches:n,changedTouches:r})}function Q(t,e={}){var{touches:n=[]}=e,{changedTouches:r=[]}=e;I()(r)&&(r=[tt(t)]),Z("touchend",t,{touches:n,changedTouches:r})}function Z(t,e,n){var{touches:r,changedTouches:o}=n,i=document.createEvent("Event");i.initEvent(t,!0,!0),i.touches=et(e,r),i.changedTouches=et(e,o),e.dispatchEvent(i)}function tt(t){var e=t.offsetLeft+t.offsetWidth/2,n=t.offsetTop+t.offsetHeight/2;return{identifier:0,pageX:e,pageY:n,clientX:e-window.pageXOffset,clientY:n-window.pageYOffset}}function et(t,e){var n=window.scrollY,r=window.scrollX;return T()(e,(e=>(_()(e.pageX)&&e.clientX?e.pageX=e.clientX+r:e.pageX&&_()(e.clientX)&&(e.clientX=e.pageX-r),_()(e.pageY)&&e.clientY?e.pageY=e.clientY+n:e.pageY&&_()(e.clientY)&&(e.clientY=e.pageY-n),A()(e,{target:t,identifier:0,pageX:0,pageY:0,clientX:0,clientY:0,force:1}),e)))}var nt=n(568);nt.NodeTest.localNameMatches=function(t,e,n){var r=`wx-${t}`,o=n.localName||n.nodeName;return e.caseInsensitive?t.toLowerCase()===o.toLowerCase()||r.toLowerCase()===o.toLowerCase():t===o||r===o};var rt=nt.PathExpr.applyStep;nt.PathExpr.applyStep=function(t,e,n){var r=[];if(e.contextNode=n,t.axis===nt.Step.CHILD)for(var o=[e.contextNode.firstChild];o.length>0;)for(var i=o.shift();null!=i;){var s=i.localName||i.nodeName;s.startsWith("wx-")||s.startsWith("#")?t.nodeTest.matches(i,e)&&r.push(i):null!=i.firstChild&&o.push(i.firstChild),i=i.nextSibling}else r=rt.call(nt.PathExpr,t,e,n);return r};var ot=nt;function it(){return it=e()((function*(t){var{selector:e}=t;e=h(e);var n=window.document.querySelector(e);if(d(n)||(n=null),!n)throw Error("no such element");return P(n)})),it.apply(this,arguments)}function st(){return st=e()((function*(t){var{selector:e}=t;e=h(e);var n=o()(window.document.querySelectorAll(e)),r=[];for(var i of n)d(i)&&r.push(P(i));return{elements:r}})),st.apply(this,arguments)}function at(){return at=e()((function*(t){var{selector:e}=t,n=ot.parse(e).evaluate({node:document.body,isHtml:!0}),r=[];for(var o of n.nodes)d(o)&&r.push(P(o));return{elements:r}})),at.apply(this,arguments)}function ut(){return ut=e()((function*(t){var{selector:e}=t,n=ot.parse(e).evaluate({node:document.body,isHtml:!0}),r=n.size>0?n.nodes[0]:null;if(d(r)||(r=null),!r)throw Error("no such element");return P(r)})),ut.apply(this,arguments)}var lt={"Page.getElement":function(t){return it.apply(this,arguments)},"Page.getElements":function(t){return st.apply(this,arguments)},"Page.getWindowProperties":function(t){var{names:e}=t;return{properties:e.map((t=>w()(window,t)))}},"Page.getElementByXpath":function(t){return ut.apply(this,arguments)},"Page.getElementsByXpath":function(t){return at.apply(this,arguments)},"Element.getElement":function(t){var{elementId:e}=t,{selector:n}=t,r=R(e);if(n=h(n,p(r),f(r)),d(r=r.querySelector(n))||(r=null),!r)throw Error("no such element");return P(r)},"Element.getElements":function(t){var{elementId:e}=t,{selector:n}=t,r=R(e);n=h(n,p(r),f(r));var i=o()(r.querySelectorAll(n)),s=[];for(var a of i)d(a)&&s.push(P(a));return{elements:s}},"Element.getAttributes":function(t){return D.apply(this,arguments)},"Element.getStyles":function(t){return L.apply(this,arguments)},"Element.getWXML":function(t){return k.apply(this,arguments)},"Element.getDOMProperties":function(t){return F.apply(this,arguments)},"Element.getProperties":function(t){return j.apply(this,arguments)},"Element.getOffset":function(t){return U.apply(this,arguments)},"Element.tap":function(t){return V.apply(this,arguments)},"Element.touchstart":function(t){return W.apply(this,arguments)},"Element.touchmove":function(t){return H.apply(this,arguments)},"Element.touchend":function(t){return $.apply(this,arguments)},"Element.triggerEvent":function(t){return G.apply(this,arguments)},"Element.callFunction":function(t){return z.apply(this,arguments)},"Element.dispatchEvent":function(t){return Y.apply(this,arguments)}},ct=lt,ht=n(288),dt=n.n(ht),pt=n.g.WeixinJSBridge,ft=!1,gt=[];function vt(){ft=!0;for(var t=0,e=gt.length;t<e;t++)gt[t]();gt=[]}n.g.__wxConfig.clientDebug=!0;var mt=Object.getOwnPropertyDescriptor(n.g,"WeixinJSBridge");pt&&pt.on?vt():mt&&!1===mt.configurable?dt()((()=>n.g.WeixinJSBridge&&n.g.WeixinJSBridge.on),5e3,50).then((()=>{pt=n.g.WeixinJSBridge,vt()})):Object.defineProperty(n.g,"WeixinJSBridge",{set(t){t&&t.on&&(pt=t,vt())},get:()=>pt,configurable:!0});var yt={on:(...t)=>pt.on(...t),publish:(...t)=>pt.publish(...t),invoke(...t){var e;n.g.__isAppServiceRemoteDebugMode__&&"sendAutoMessage"===t[0]&&(null===(e=n.g.__debugMessager)||void 0===e||e.sendToDevtools(t[0],t[1]));return pt.invoke(...t)},subscribe:(...t)=>pt.subscribe(...t),onReady(t){ft?t():gt.push(t)}},bt=1,wt={};yt.onReady((()=>{yt.subscribe("callbackAutoInvoke",(({res:t,callbackId:e})=>{var n=wt[e];n&&(n(t),delete wt[e])}))}));var xt={operateWXData:"operateWXData",getPhoneNumber:"getPhoneNumber",getUserAutoFillData:"getUserAutoFillData",setUserAutoFillData:"setUserAutoFillData",deleteUserAutoFillData:"deleteUserAutoFillData",requestAuthUserAutoFillData:"requestAuthUserAutoFillData"};function _t(){return(_t=e()((function*(t,e){if(ct[t])return(yield ct[t](e))||{};throw Error(`webview ${t} unimplemented`)}))).apply(this,arguments)}yt.onReady((()=>{var t;yt.subscribe("sendAutoMessage",function(){var t=e()((function*(t){var{method:e,params:n,id:r}=t,o={id:r};try{o.result=yield function(t,e){return _t.apply(this,arguments)}(e,n)}catch(t){o.error={message:t.message}}yt.publish("sendAutoMessage",o)}));return function(e){return t.apply(this,arguments)}}());var r=n.g.__wxConfig;if(null!=r&&null!==(t=r.debugLaunchInfo)&&void 0!==t&&t.autoTest){var o=n.g.WeixinJSBridge.invoke;Object.defineProperty(n.g.WeixinJSBridge,"invoke",{value(...t){var[e,r,i,s]=t;return xt[e]?function(t,e,n){var r=bt++;wt[r]=n,yt.publish("callAutoInvoke",{callbackId:r,name:t,args:e})}(e,r,i):o.apply(n.g.WeixinJSBridge,t)}})}}))})()})();